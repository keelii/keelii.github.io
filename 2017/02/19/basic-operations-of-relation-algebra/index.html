<!DOCTYPE html>   
<html class="no-js" lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>关系代数的基本运算</title>
    <meta name="description" content="__ you don&#39;t know yet">
    <meta name="keywords" content="">
    <meta name="author" content="keelii">
    <meta name="generator" content="Hugo 0.29" />

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="canonical" href="https://keelii.github.io/2017/02/19/basic-operations-of-relation-algebra/">
    <link href="https://keelii.github.io/favicon.ico" rel="icon">
    <link href="https://keelii.github.io/atom.xml" rel="alternate" type="application/rss+xml" title="Something">

    
    <link href="//fonts.crazy4code.com/css?family=PT&#43;Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
    <link href="//fonts.crazy4code.com/css?family=PT&#43;Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
    <link href="/stylesheets/screen.css" rel="stylesheet" type="text/css">
    <link href="//cdn.bootcss.com/highlight.js/9.7.0/styles/solarized-dark.min.css" rel="stylesheet" type="text/css">

    <meta name="360-site-verification" content="97274d5ff16511caf615a565d3257ce8">
    
    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-79264835-1', 'auto');
    ga('send', 'pageview');
    </script>

</head>
<body>

<header role="banner">
    <hgroup>
        <h1><a href="https://keelii.github.io/">Something</a></h1>
        <h2>__ you don&#39;t know yet</h2>
    </hgroup>
</header>


<nav role="navigation">
    <ul class="subscription" data-subscription="rss">
        <li>
            
        </li>
    </ul>

    <form action="https://www.google.com/search" method="get">
        <fieldset role="search">
            <input type="hidden" name="sitesearch" value="https://keelii.github.io/">
            <input class="search" type="text" name="q" results="0" placeholder="Search" />
        </fieldset>
    </form>

    <ul class="main-navigation">
        
        <li><a href="https://keelii.github.io/">Blog</a> </li>
        
        <li><a href="https://keelii.github.io/archives">Archives</a> </li>
        
        <li><a href="https://keelii.github.io/about">About</a> </li>
        
    </ul>
</nav>


<div id="main">
    <div id="content">
        <div>
            <article class="hentry" role="article">
                <header>
                    <h1 class="entry-title">关系代数的基本运算</h1>
                    <p class="meta">
                        <time class="entry-date" datetime="2017-02-19 15:10:38">
                            <span class="date">2017-2-19</span>
                            <span class="time">15:10 PM</span>
                        </time>
                    </p>
                </header>

                <div class="entry-content">

<h2 id="关系代数运算符">关系代数运算符</h2>

<p><strong>集合运算符</strong></p>

<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>英文</th>
</tr>
</thead>

<tbody>
<tr>
<td>$∪$</td>
<td>并</td>
<td>Union</td>
</tr>

<tr>
<td>$−$</td>
<td>差</td>
<td>Difference</td>
</tr>

<tr>
<td>$∩$</td>
<td>交</td>
<td>Intersection</td>
</tr>

<tr>
<td>$×$</td>
<td>笛卡尔积</td>
<td>Cartesian Product</td>
</tr>
</tbody>
</table>

<p><strong>比较运算符</strong></p>

<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
</tr>
</thead>

<tbody>
<tr>
<td>$&gt;$</td>
<td>大于</td>
</tr>

<tr>
<td>$≥$</td>
<td>大于等于</td>
</tr>

<tr>
<td>$&lt;$</td>
<td>小于</td>
</tr>

<tr>
<td>$≤$</td>
<td>小于等于</td>
</tr>

<tr>
<td>$=$</td>
<td>等于</td>
</tr>

<tr>
<td>$≠$</td>
<td>不等于</td>
</tr>
</tbody>
</table>

<p><strong>专门的关系运算符</strong></p>

<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>英文</th>
</tr>
</thead>

<tbody>
<tr>
<td>$σ$</td>
<td>选择</td>
<td>Selection</td>
</tr>

<tr>
<td>$π$</td>
<td>投影</td>
<td>Projection</td>
</tr>

<tr>
<td>$⋈$</td>
<td>链接</td>
<td>Join</td>
</tr>

<tr>
<td>$÷$</td>
<td>除</td>
<td>Division</td>
</tr>
</tbody>
</table>

<p><strong>逻辑运算符</strong></p>

<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
</tr>
</thead>

<tbody>
<tr>
<td>$∧$</td>
<td>与</td>
</tr>

<tr>
<td>$∨$</td>
<td>或</td>
</tr>

<tr>
<td>$¬$</td>
<td>非</td>
</tr>
</tbody>
</table>

<h2 id="5-种基本的关系代数运算">5 种基本的关系代数运算</h2>

<h3 id="并-union">并（Union）</h3>

<p>关系 R 与 S 具有相同的关系模式，即 R 与 S 的元数相同（结构相同），R 与 S 的并是属于 R 或者属于 S 的元组构成的集合，记作 R ∪ S，定义如下：</p>

<div>
$$R∪S=\{t|t∈R∨t∈S\}$$
</div>

<h3 id="差-difference">差（Difference）</h3>

<p>关系 R 与 S 具有相同的关系模式，关系 R 与 S 的差是属于 R 但不属于 S 的元组构成的集合，记作 R − S，定义如下：</p>

<div>
$$R−S=\{t|t∈R∨t∉S\}$$
</div>

<h3 id="广义笛卡尔积-extended-cartesian-product">广义笛卡尔积（Extended Cartesian Product）</h3>

<p>两个无数分别为 n 目和 m 目的关系 R 和 S 的 笛卡尔积是一个 (n+m) 列的元组的集合。组的前 n 列是关系 R 的一个元组，后 m 列是关系 S 的一个元组，记作 R × S，定义如下：</p>

<div>
$$R×S=\{t|t=<(t^n,t^m)∧t^n∈R∧t^m∈S\}$$
</div>

<p>$(t^n,t^m)$ 表示元素 $t^n$ 和 $t^m$ 拼接成的一个元组</p>

<h3 id="投影-projection">投影（Projection）</h3>

<p>投影运算是从关系的垂直方向进行运算，在关系 R 中选出若干属性列 A 组成新的关系，记作 $π_A(R)$，其形式如下：</p>

<div>
$$π_A(R)=\{t[A]|t∈R\}$$
</div>

<h3 id="选择-selection">选择（Selection）</h3>

<p>选择运算是从关系的水平方向进行运算，是从关系 R 中选择满足给定条件的元组，记作 $σ_F(R)$，其形式如下：</p>

<div>
$$σ_F(R)=\{t|t∈R∧F(t)=True\}$$
</div>

<h2 id="实例">实例</h2>

<p>设有关系 R、S 如图所示，求 $R∪S$、 $R−S$、 $R×S$、 $π_{A,C}(R)$、 $σ_{A&gt;B}(R)$ 和 $σ_{3&lt;4}(R×S)$</p>

<p><img src="//img10.360buyimg.com/devfe/jfs/t3967/269/2409299226/5377/e997b909/58a95fceNddd39fd7.png" alt="关系表RS" /></p>

<p>进行并、差运算后结果如下：</p>

<p><img src="//img14.360buyimg.com/devfe/jfs/t3949/95/2458170516/5487/1c7f1f38/58a967b1N42db123f.png" alt="并差" /></p>

<p>进行笛卡尔、 投影、 选择运算后结果如下：</p>

<p><img src="//img30.360buyimg.com/devfe/jfs/t3943/109/2403665652/38834/c636281b/58a9685dN20af0b9b.png" alt="笛卡尔_投影_选择" /></p>

<h2 id="扩展的关系代数运算">扩展的关系代数运算</h2>

<h3 id="交-intersection">交（Intersection）</h3>

<p>关系 R 和 S 具有相同的关系模式，交是由属于 R 同时双属于 S 的元组构成的集合，记作 R∩S，形式如下：</p>

<div>
$$R∩S=\{t|t∈R∧t∈S\}$$
</div>

<h3 id="链接-join">链接（Join）</h3>

<p>注：下面的 θ 链接应该记作：<img src="//img10.360buyimg.com/devfe/jfs/t3967/158/2461240249/2389/530d7d07/58aa580aNe9908740.png" alt="theta链接" /></p>

<h4 id="θ-链接">θ 链接</h4>

<p>从 R 与 S的笛卡尔积中选取属性间满足一定条件的元组，可由基本的关系运算笛卡尔积和选取运算导出，表示为：</p>

<div>
$$R \Join_{XθY} S = σ_{XθY}(R×S)$$
</div>

<p>XθY 为链接的条件，θ 是比较运算符，X 和 Y 分别为 R 和 S 上度数相等且可比的属性组</p>

<p>例如：求 $R \Join_{R.A&lt;S.B} S$，如果为：</p>

<p><img src="//img14.360buyimg.com/devfe/jfs/t3133/127/6662942086/21071/88c200da/58aa5b1fN3e2316d5.png" alt="theta链接小于过程" /></p>

<h4 id="等值链接">等值链接</h4>

<p>当 θ 为「=」时，称之为等值链接，记为： $R\Join_{X=Y}S$</p>

<h4 id="自然链接">自然链接</h4>

<p>自然链接是一种特殊的等值链接，它要求两个关系中进行比较的分量必须是 <strong>相同的属性组</strong>，并且在结果集中将 <strong>重复的属性列</strong> 去掉</p>

<p>例如：设有关系 R、S 如图所示，求 $R \Join S$</p>

<p><img src="//img11.360buyimg.com/devfe/jfs/t3982/212/2472511181/5973/54467e2a/58aa5ffaN970f7e5a.png" alt="关系RS" /></p>

<p>先求出笛卡尔积 $R×S$，找出比较分量（有相同属性组），即: R.A/S.A 与 R.C/S.C</p>

<p><img src="//img10.360buyimg.com/devfe/jfs/t3841/5/4275908218/12385/79e83d01/58aa6066Nd003e697.png" alt="求出笛卡尔积" /></p>

<p>取等值链接 $R.A = S.A$ 且 $R.C = S.C$</p>

<p><img src="//img10.360buyimg.com/devfe/jfs/t3256/75/6205568741/12327/2b1dc867/58aa60e8N38a84108.png" alt="找出相同属性的比较分量" /></p>

<p>结果集中去掉重复属性列，注意无论去掉 R.A 或者 S.A 效果都一样，因为他们的值相等，结果集中只会有属性 A、B、C、D</p>

<p><img src="//img12.360buyimg.com/devfe/jfs/t3217/183/6576493853/4744/ccb96965/58aa612eN043f7425.png" alt="结果集中找出重复属性列" /></p>

<p>最终得出结果</p>

<p><img src="//img12.360buyimg.com/devfe/jfs/t3247/65/6676502314/2874/657ddb0c/58aa617eN2457f536.png" alt="RS自然链接结果" /></p>

<h3 id="除-division">除（Division）</h3>

<p>设有以下如图关系，求 $R÷S$</p>

<p><img src="//img10.360buyimg.com/devfe/jfs/t3151/348/6716540896/7287/dc01ad2e/58aaaf3bN1cae8b1a.png" alt="关系RS1" /></p>

<p>取关系 R 中有的但 S 中没有的属性组，即：A、B</p>

<p><img src="//img11.360buyimg.com/devfe/jfs/t3202/137/6722879648/7244/3b47a185/58aaaf81N0b2491b5.png" alt="关系RS1取属性AB" /></p>

<p>取唯一 A、B 属性组值的象集</p>

<p><img src="//img11.360buyimg.com/devfe/jfs/t3871/170/2430481542/5179/be5899c5/58aaafe6N8297b49f.png" alt="关系RS1取属性AB对应的象集" /></p>

<p>可知关系S存在于 a,b/c,k 象集 中。即 $R÷S$ 得</p>

<p><img src="//img10.360buyimg.com/devfe/jfs/t3130/361/6704334588/3366/6b7e0b56/58aab058N3a3c374d.png" alt="关系RS1除结果" /></p>
</div>
                <footer>
                    <p class="meta">
                        <span class="byline author vcard">Posted</span>
                        
                        <span class="span">on</span>
                        <span class="categories">
                            
                            
                            <a class="category 0|2" href="https://keelii.github.io/categories/math">math</a>,
                            
                            <a class="category 1|2" href="https://keelii.github.io/categories/database">database</a>
                            
                        </span>
                        
                    </p>
                    <p class="meta">
                        <span class="span">Last modified •</span>
                        <time class="entry-date" datetime="2017-06-17 12:35:56">
                            <span class="date">2017-6-17</span>
                            <span class="time">12:35 PM</span>
                        </time>
                    </p>
                    <p class="meta">
                        
                        <span class="basic-alignment left">
                            &laquo; <a href="https://keelii.github.io/2016/12/22/sku-multi-dimensional-attributes-state-algorithm/" title="Previous Post: sku 多维属性状态判断算法">sku 多维属性状态判断算法</a>
                        </span>
                        

                        
                        <span class="basic-alignment right">
                            <a href="https://keelii.github.io/2017/04/22/proxy-google-fonts-with-ssl-http2-support/" title="Nextious Post: Nginx 配置 Google fonts 反向代理开启 HTTP2/SSL 支持">Nginx 配置 Google fonts 反向代理开启 HTTP2/SSL 支持</a> &raquo;
                        </span>
                        
                    </p>
                </footer>
            </article>
            <section>
    <h1>Comments</h1>
    <div id="disqus_thread"></div>
    <script>
    (function() {
    var d = document, s = d.createElement('script');
    s.src = '//keelii-blog.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


        </div>

        <aside class="sidebar">
    
        
<section id="side-toc" class="side-toc odd" style="width: 100%;">
    <h1>Table  of contents</h1>
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#关系代数运算符">关系代数运算符</a></li>
<li><a href="#5-种基本的关系代数运算">5 种基本的关系代数运算</a>
<ul>
<li><a href="#并-union">并（Union）</a></li>
<li><a href="#差-difference">差（Difference）</a></li>
<li><a href="#广义笛卡尔积-extended-cartesian-product">广义笛卡尔积（Extended Cartesian Product）</a></li>
<li><a href="#投影-projection">投影（Projection）</a></li>
<li><a href="#选择-selection">选择（Selection）</a></li>
</ul></li>
<li><a href="#实例">实例</a></li>
<li><a href="#扩展的关系代数运算">扩展的关系代数运算</a>
<ul>
<li><a href="#交-intersection">交（Intersection）</a></li>
<li><a href="#链接-join">链接（Join）</a>
<ul>
<li><a href="#θ-链接">θ 链接</a></li>
<li><a href="#等值链接">等值链接</a></li>
<li><a href="#自然链接">自然链接</a></li>
</ul></li>
<li><a href="#除-division">除（Division）</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
</section>



    
</aside>

    </div>
</div>

<footer role="contentinfo">
    <p>
        Copyright &copy; 2017 - keelii -
        <span class="credit">Powered by <a href="http://gohugo.io/">Hugo</a></span>,
        <span class="credit">Theme Copied from <a href="http://octopress.org/">Octopress</a></span>
    </p>
</footer>


<script src="//cdn.bootcss.com/zepto/1.2.0/zepto.min.js"></script>
<script src="/javascripts/octopress.js"></script>



<script src="/javascripts/highlight.pack.js"></script>
<script src="/javascripts/post.js"></script>
<script>
if (typeof hljs !=="undefined") hljs.initHighlightingOnLoad()
</script>



<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    if (typeof MathJax !=="undefined") {
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: false
            }
        });
    }
</script>


<!--
# There are some hotkeys for better experience #

[s] for search input
[t] for scroll to top
[h] for prev article
[l] for next article
[j] for scroll page up 300px
[k] for scroll page down 300px
[G] for scroll page bottom
-->

</body>
</html>
