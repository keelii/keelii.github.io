<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Archives on è‡¨æ± ä¸è¼Ÿ</title>
    <link>https://keelii.com/archives/</link>
    <description>Recent content in Archives on è‡¨æ± ä¸è¼Ÿ</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Sat, 06 Jul 2019 18:33:57 +0800</lastBuildDate>
    
        <atom:link href="https://keelii.com/archives/atom.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>æˆ‘æƒ³è¦ AOP â€” ä½¿ç”¨ AOP åˆ†ç¦»å…³æ³¨ç‚¹</title>
      <link>https://keelii.com/2019/07/06/i-want-my-aop-cn/</link>
      <pubDate>Sat, 06 Jul 2019 18:33:57 +0800</pubDate>
      
      <guid>https://keelii.com/2019/07/06/i-want-my-aop-cn/</guid>
      <description>

&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ç¿»è¯‘è‡ªï¼š&lt;a href=&#34;https://www.javaworld.com/article/2073918/i-want-my-aop---part-1.html&#34;&gt;I want my AOP&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;å…³æ³¨ç‚¹&lt;/strong&gt;è¡¨ç¤ºäººä»¬çš„ä¸€ç§ç‰¹æ®Šçš„æ„æ„¿ã€ç†å¿µæˆ–æ˜¯æŸä¸ªæ„Ÿå…´è¶£çš„é¢†åŸŸã€‚ä»æŠ€æœ¯è§’åº¦æ¥è®²ï¼šè½¯ä»¶ç³»ç»ŸåŒ…æ‹¬è‹¥å¹²&lt;strong&gt;æ ¸å¿ƒçš„&lt;/strong&gt;ã€&lt;strong&gt;ç³»ç»Ÿçº§åˆ«çš„&lt;/strong&gt;å…³æ³¨ç‚¹ã€‚æ¯”æ–¹è¯´ï¼šä¿¡ç”¨å¡å¤„ç†ç³»ç»Ÿçš„&lt;strong&gt;æ ¸å¿ƒ&lt;/strong&gt;å…³æ³¨ç‚¹æ˜¯å¤„ç†äº¤æ˜“ï¼ŒåŒæ—¶ç³»ç»Ÿçº§åˆ«çš„å…³æ³¨ç‚¹æˆ–è®¸åº”è¯¥æ˜¯å¤„ç†æ—¥å¿—ã€äº‹åŠ¡ã€ä¸€è‡´æ€§ã€æˆæƒã€å®‰å…¨ã€æ€§èƒ½ç­‰ã€‚è®¸å¤šè¿™ç§å…³æ³¨ç‚¹è¢«å«åš&lt;strong&gt;æ¨ªåˆ‡å…³æ³¨ç‚¹&lt;/strong&gt; â€” å¾€å¾€ä¼šå½±å“è®¸å¤šæ¨¡å—çš„å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ç›®å‰çš„ç¼–ç¨‹æ–¹æ³•ï¼Œè·¨è¶Šå¤šä¸ªæ¨¡å—æ¨ªåˆ‡å…³æ³¨ç‚¹ä¼šå¯¼è‡´ç³»ç»Ÿæ›´éš¾è®¾è®¡ã€ç†è§£ã€å®ç°å’Œè¿­ä»£ã€‚&lt;/p&gt;

&lt;p&gt;é˜…è¯»å®Œå…¨çš„ã€Œæˆ‘æƒ³è¦ AOPã€ç³»åˆ—æ–‡ç« ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç¬¬ä¸€éƒ¨åˆ†&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ç¬¬äºŒéƒ¨åˆ†&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ç¬¬ä¸‰éƒ¨åˆ†&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;é¢å‘åˆ‡é¢çš„ç¼–ç¨‹ç›¸æ¯”ä¹‹å‰çš„æ–¹æ³•æ›´ç®€å•çš„åˆ†äº«äº†å…³æ³¨ç‚¹ï¼Œä»è€Œæä¾›æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æ¨¡å—åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­ï¼Œç¬¬ä¸€ç¯‡æ¶‰åŠ AOP çš„æ¦‚å¿µï¼Œæˆ‘é¦–å…ˆè§£é‡Šäº†åœ¨ä¸€èˆ¬å¤æ‚çš„è½¯ä»¶ç³»ç»Ÿä¸­ç”±æ¨ªåˆ‡å…³æ³¨ç‚¹å¼•èµ·çš„é—®é¢˜ã€‚ç„¶åï¼Œæˆ‘å¼•å…¥äº† AOP æ ¸å¿ƒæ¦‚å¿µï¼Œå¹¶å±•ç¤ºäº† AOP æ˜¯å¦‚ä½•é€šè¿‡æ¨ªåˆ‡å…³æ³¨ç‚¹è§£å†³é—®é¢˜çš„ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç³»åˆ—çš„ç¬¬äºŒç¯‡æ–‡ç« å°†ä»‹ç» AspectJï¼ŒXerox PARC åŸºäº Java å®ç°çš„ AOP æ¡†æ¶ã€‚æœ€åä¸€ç¯‡æ–‡ç« å°†ä»¥å‡ ä¸ªç¤ºä¾‹çš„æ–¹å¼å‘ä½ å±•ç¤º AOP çš„æ¦‚å¿µï¼Œå¹¶åŸºäºå»ºç«‹æ›´æ˜“æ‡‚ã€æ˜“å®ç°ã€æ˜“è¿­ä»£çš„è½¯ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;

&lt;h2 id=&#34;è½¯ä»¶ç¼–ç¨‹æ–¹æ³•çš„æ¼”è¿›&#34;&gt;è½¯ä»¶ç¼–ç¨‹æ–¹æ³•çš„æ¼”è¿›&lt;/h2&gt;

&lt;p&gt;æ—©äº›å¹´çš„è®¡ç®—æœºç§‘å­¦é¢†åŸŸï¼Œå¼€å‘è€…ç›´æ¥ä½¿ç”¨æœºå™¨ç è¿›è¡Œç¼–ç¨‹ã€‚ä¸å¹¸çš„æ˜¯ï¼Œç¨‹åºå‘˜èŠ±äº†æ›´å¤šæ—¶é—´å»è€ƒè™‘ç‰¹å®šæœºå™¨çš„æŒ‡ä»¤é›†è€Œä¸æ˜¯æ‰‹å¤´çš„é—®é¢˜ã€‚æ…¢æ…¢åœ°ï¼Œæˆ‘ä»¬è¿ç§»åˆ°é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œé«˜çº§ç¼–ç¨‹è¯­è¨€å…è®¸å¯¹åº•å±‚æœºå™¨ç è¿›è¡Œä¸€äº›æŠ½è±¡ã€‚ç„¶åç»“æ„åŒ–çš„è¯­è¨€å‡ºç°äº†ï¼›æˆ‘ä»¬ç°åœ¨å¯ä»¥æ ¹æ®ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹æ¥åˆ†è§£æˆ‘ä»¬çš„é—®é¢˜ã€‚ç„¶è€Œï¼Œéšç€å¤æ‚åº¦çš„å¢é•¿ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¥½çš„æŠ€æœ¯ã€‚é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è®©æˆ‘ä»¬å¯ä»¥æŠŠç³»ç»Ÿçœ‹æˆä¸€ç³»åˆ—çš„åˆä½œå¯¹è±¡ã€‚ç±»å¯ä»¥è®©æˆ‘ä»¬éšè—æ¥å£èƒŒåçš„å®ç°ç»†èŠ‚ã€‚å¤šæ€æä¾›äº†é€šç”¨è¡Œçš„ä¸ºå’Œæ¥å£ï¼Œå¹¶å…è®¸æ›´ç‰¹æ®Šçš„ç»„ä»¶æ›´æ”¹æŒ‡å®šå®šè¡Œä¸ºï¼Œè€Œæ— éœ€æ¥è§¦åŸºæœ¬æ¦‚å¿µçš„å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;ç¼–ç¨‹æ–¹æ³•å’Œè¯­è¨€å®šä¹‰äº†æˆ‘ä»¬ä¸æœºå™¨äº¤æµçš„æ–¹å¼ã€‚æ¯ä¸€ç§æ–°æ–¹æ³•éƒ½æä¾›æŸç§åˆ†è§£é—®é¢˜çš„æ–¹å¼ï¼šæœºå™¨ç ã€ç‹¬ç«‹äºæœºå™¨çš„ä»£ç ã€è¿‡ç¨‹ã€ç±»ç­‰ç­‰ã€‚æ¯ç§æ–¹æ³•éƒ½åœ¨å»ºç«‹æŸç§&lt;strong&gt;ç³»ç»Ÿéœ€æ±‚&lt;/strong&gt;ä¸&lt;strong&gt;ç¨‹åºç»“æ„&lt;/strong&gt;ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚è¿™äº›ç¼–ç¨‹æ–¹æ³•çš„æ¼”è¿›è®©æˆ‘ä»¬å¯ä»¥åˆ›å»ºè¶Šæ¥è¶Šå¤æ‚çš„ç³»ç»Ÿã€‚åè¿‡æ¥å¤æ‚çš„ç³»ç»Ÿä½¿å¾—æˆ‘ä»¬åˆå¿…é¡»ä½¿ç”¨æ›´å…ˆè¿›çš„æŠ€æœ¯å»è§£å†³è¿™äº›å¤æ‚åº¦ã€‚&lt;/p&gt;

&lt;p&gt;ç›®å‰æ¥è®²ï¼Œæ”¾å¤šæ–°çš„è½¯ä»¶é¡¹ç›®å¼€å‘éƒ½ä½¿ç”¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ¨¡å¼ã€‚çš„ç¡®ï¼Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ¨¡å¼èƒ½æ¨¡æ‹Ÿå¸¸è§è¡Œä¸ºæ–¹é¢è¡¨ç°å‡ºäº†å¼ºå¤§çš„èƒ½åŠ›ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¾ˆå¿«å°†ä¼šçœ‹è§ï¼Œæˆ–è®¸ä½ å·²ç»æœ‰æ‰€ä½“éªŒäº†ï¼Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ¨¡å¼æ²¡èƒ½å……åˆ†åœ°è§£å†³è®¸å¤šè·¨åŒºçš„è¡Œä¸ºçš„é—®é¢˜ â€” é‚£ç§é€šå¸¸ä¸ç›¸å…³çš„æ¨¡å—ã€‚ç›¸æ¯”è€Œè¨€ï¼Œé¢å‘åˆ‡é¢çš„ç¼–ç¨‹æ–¹æ³•å¡«è¡¥äº†è¿™ä¸ªç©ºç™½ã€‚AOP å¾ˆå¯èƒ½ä»£è¡¨äº†ç¼–ç¨‹æ–¹æ³•æ¼”è¿›çš„ä¸‹ä¸€ä¸ªé‡è¦æ–¹å‘ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å°†ç³»ç»Ÿçœ‹åšä¸€ç³»åˆ—çš„å…³æ³¨ç‚¹&#34;&gt;å°†ç³»ç»Ÿçœ‹åšä¸€ç³»åˆ—çš„å…³æ³¨ç‚¹&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥å°†å¤æ‚ç³»ç»Ÿçœ‹åšæ˜¯å¤šä¸ªå…³æ³¨ç‚¹çš„è”åˆå®ç°ã€‚å…¸å‹çš„ç³»ç»Ÿå¯èƒ½åŒ…å«å¤šç§å…³æ³¨ç‚¹ï¼ŒåŒ…æ‹¬ä¸šåŠ¡é€»è¾‘ã€æ€§èƒ½ã€æ•°æ®æŒä¹…åŒ– ã€æ—¥å¿—ï¼Œä»¥åŠè°ƒè¯•ã€æˆæƒã€å®‰å…¨ã€çº¿ç¨‹å®‰å…¨ ã€é”™è¯¯æ£€æŸ¥ç­‰ç­‰ã€‚è€Œä¸”ä½ è¿˜ä¼šé‡åˆ°å¼€å‘æµç¨‹ä¸­çš„å…³æ³¨ç‚¹ï¼Œæ¯”å¦‚è¯´ï¼šå¯ç†è§£ã€å¯ç»´æŠ¤ï¼Œå¯è¿½æº¯ã€æ›´æ˜“è¿­ä»£ã€‚å›¾1æç»˜å‡ºäº†ä¸€ä¸ªç³»ç»Ÿä¸­ä¸åŒæ¨¡å—å…³æ³¨ç‚¹çš„å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/07/05/5d1f0bb5278bd31387.gif&#34; alt=&#34;&#34; /&gt;å›¾1&lt;/p&gt;

&lt;p&gt;å›¾2å±•ç¤ºäº†ä¸€ç³»åˆ—çš„éœ€æ±‚ï¼ˆä¸€ä¸ªå…‰æŸï¼‰é€šè¿‡å…³æ³¨ç‚¹è¯†åˆ«å™¨ï¼ˆæ£±é•œï¼‰åˆ†ç¦»å„ç§å…³æ³¨ç‚¹æˆä¸ºç‹¬ç«‹æ¨¡å—ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å¯¹åº”ç€æˆ‘ä»¬å¼€å‘è¿‡ç¨‹çš„å…³æ³¨ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/07/05/5d1f0d071673b46919.gif&#34; alt=&#34;&#34; /&gt;å›¾2&lt;/p&gt;

&lt;h2 id=&#34;åœ¨ç³»ç»Ÿä¸­è¿›è¡Œæ¨ªåˆ‡&#34;&gt;åœ¨ç³»ç»Ÿä¸­è¿›è¡Œæ¨ªåˆ‡&lt;/h2&gt;

&lt;p&gt;å¼€å‘è€…å»ºç«‹ä¸€ä¸ªç³»ç»Ÿå¹¶ä¸”è´Ÿè´£å®ç°å¤šä¸ªéœ€æ±‚ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›éœ€æ±‚å¤§ä½“ä¸Šä»&lt;strong&gt;æ ¸å¿ƒæ¨¡å—&lt;/strong&gt;çº§åˆ«éœ€æ±‚ä¸&lt;strong&gt;ç³»ç»Ÿçº§åˆ«&lt;/strong&gt;éœ€æ±‚ä¸¤ä¸ªç»´åº¦è¿›è¡Œåˆ†ç±»ã€‚è®¸å¤šç³»ç»Ÿçº§åˆ«çš„éœ€æ±‚ç›¸äº’ä¹‹é—´ï¼ˆæˆ–ä¸æ¨¡å—çº§åˆ«çš„éœ€æ±‚ï¼‰æ˜¯æ­£äº¤çš„ï¼ˆç›¸äº’ä¾èµ–ï¼‰ã€‚ç³»ç»Ÿçº§åˆ«çš„éœ€æ±‚å€¾å‘äºæ¨ªåˆ‡è®¸å¤šæ ¸å¿ƒæ¨¡å—ï¼Œæ¯”å¦‚ï¼Œä¸€ä¸ªä¸ªå…¸å‹çš„ä¼ä¸šåº”ç”¨åŒ…å«çš„æ¨ªåˆ‡å…³æ³¨ç‚¹æœ‰ï¼šèº«ä»½éªŒè¯ï¼Œæ—¥å¿—è®°å½•ï¼Œèµ„æºæ± ï¼Œç®¡ç†ï¼Œæ€§èƒ½å’Œå­˜å‚¨ç®¡ç†ã€‚æ¯ä¸ªéƒ½è¢«æ¨ªåˆ‡æˆå¤šä¸ªå­ç³»ç»Ÿã€‚æ¯”å¦‚ï¼Œå­˜å‚¨ç®¡ç†ä¼šå½±å“æ¯ä¸ªä¸šåŠ¡å¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;è®©æˆ‘ä»¬ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ªå•ä¾‹å®ç°å°è£…äº†ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;public class SomeBusinessClass extends OtherBusinessClass {
    // æ ¸å¿ƒæ•°æ®æˆå‘˜
    // å…¶å®ƒæ•°æ®æˆå‘˜ï¼šæ¯”å¦‚æ—¥å¿—ï¼Œæ•°æ®ä¸€è‡´æ€§æ ‡è¯†
    // é‡å†™åŸºç±»ä¸­çš„æ–¹æ³•
    public void performSomeOperation(OperationInformation info) {
        // ä¿è¯æˆæƒæ­£å¸¸
        // ä¿è¯æ¡ä»¶æ­£å¸¸æ»¡è¶³
        // é”å®šå¯¹è±¡ä¿è¯æ•°æ®ä¸€è‡´æ€§
        // çº¿ç¨‹è¿›å…¥threads access it
        // ä¿è¯ç¼“å­˜æ­£å¸¸
        // æ‰“å°æ“ä½œå¯åŠ¨æ—¥å¿—
        // ==== è¿›è¡Œå…·ä½“çš„æ“ä½œ ====
        // æ‰“å°æ“ä½œå®Œæˆæ—¥å¿—
        // è§£é”å¯¹è±¡
    }
    // ä¸ä¸Šé¢ç±»ä¼¼çš„å…¶å®ƒæ“ä½œ
    public void save(PersitanceStorage ps) {
    }
    public void load(PersitanceStorage ps) {
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬å¿…é¡»è€ƒè™‘è‡³å°‘ä¸‰ä¸ªé—®é¢˜ï¼Œé¦–å…ˆï¼Œ&lt;strong&gt;å…¶å®ƒæ•°æ®æˆå‘˜&lt;/strong&gt;ä¸å±äºè¿™ä¸ªç±»æ‰€å…³å¿ƒçš„å†…å®¹ã€‚å…¶æ¬¡ï¼ŒperformSomeOperation çš„å®ç°ä¼¼ä¹æ¯”æ ¸å¿ƒæ“ä½œæ‰§è¡Œäº†æ›´å¤šçš„é€»è¾‘ï¼›å®ƒå¤„ç†äº†æ—¥å¿—ã€æˆæƒã€çº¿ç¨‹å®‰å…¨ä»¥åŠå…¶å®ƒ&lt;strong&gt;å¤–éƒ¨&lt;/strong&gt;å…³æ³¨ç‚¹ã€‚é‡è¦çš„æ˜¯ï¼Œä¼¼ä¹è¿™äº›è®¸å¤šå¤–å›´å…³æ³¨ç‚¹å…¶å®ƒç±»ä¹Ÿä¼šç”¨åˆ°ã€‚æœ€åï¼Œsave() å’Œ load() æ–¹æ³•æ“ä½œå­˜å‚¨å±‚ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•æ”¾åœ¨è¿™ä¸ªç±»ä¸­æ¯”è¾ƒåˆé€‚è¿˜æ˜¯æ”¾åœ¨å…¶å®ƒç±»ä¸­æ¯”è¾ƒåˆé€‚ï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ¨ªåˆ‡å…³æ³¨çš„é—®é¢˜&#34;&gt;æ¨ªåˆ‡å…³æ³¨çš„é—®é¢˜&lt;/h2&gt;

&lt;p&gt;è™½ç„¶ä¼šè·¨æ¨¡å—æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œä½†æ˜¯ç°åœ¨çš„æŠ€æœ¯å®ç°å€¾å‘äºä½¿ç”¨ä¸€ç»´çš„æ–¹å¼å®ç°ï¼ŒæŠŠé—®é¢˜èšç„¦åœ¨éœ€æ±‚ä¸å®ç°çš„å•ä¸€ç»´åº¦ã€‚è¿™ä¸ªå•ä¸€ç»´åº¦çš„å®ç°å°†å˜æˆ&lt;strong&gt;æ ¸å¿ƒæ¨¡å—&lt;/strong&gt;çº§åˆ«çš„å®ç°ã€‚å…¶ä½™çš„éœ€æ±‚å›´ç»•ç€è¿™ä¸ªä¸»å¯¼ç»´åº¦è¢«åˆ†ç±»ã€‚æ¢å¥è¯è¯´ï¼Œéœ€æ±‚ç©ºé—´æ˜¯å¤šç»´çš„ï¼Œç„¶è€Œå®ç°ç©ºé—´æ˜¯å•ç»´çš„ã€‚è¿™ç§ä¸åŒ¹é…ä¼šå¯¼è‡´éœ€æ±‚ä¸å®ç°ä¹‹é—´çš„æ˜ å°„éš¾ä»¥åšåˆ°ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç—‡çŠ¶&#34;&gt;ç—‡çŠ¶&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨ç›®å‰çš„æ–¹æ³•å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹ä¼šå‡ºç°ä¸€äº›é—®é¢˜/ç—‡çŠ¶ï¼Œå¤§ä½“ä¸Šåˆ†ä¸¤ç±»ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä»£ç çº ç¼ &lt;/strong&gt;ï¼šç³»ç»Ÿä¸­çš„æ¨¡å—å¯èƒ½ä¼šåŒæ—¶åœ°ä¸å¤šä¸ªéœ€æ±‚äº¤äº’ã€‚æ¯”å¦‚ï¼Œå¼€å‘è€…ç»å¸¸åŒæ—¶è€ƒè™‘ä¸šåŠ¡é€»è¾‘ã€æ€§èƒ½ã€åŒæ­¥ã€æ—¥å¿—å’Œå®‰å…¨ç­‰é—®é¢˜ã€‚å¤§é‡çš„å¹¶è¡Œéœ€æ±‚å¯¼è‡´éœ€è¦è®¸å¤šå…³æ³¨ç‚¹çš„å®ç°åŒæ—¶å­˜åœ¨ï¼Œæœ€ç»ˆå¯¼è‡´ä»£ç çº ç¼ ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä»£ç åˆ†æ•£&lt;/strong&gt;ï¼šç”±äºæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ŒæŒ‰å®šä¹‰ï¼Œå¾ˆå¤šæ¨¡å—éƒ½éœ€è¦åˆ†ç¦»ï¼Œç”šè‡³æ˜¯ç›¸å…³çš„å®ç°éƒ½éœ€è¦åˆ†ç¦»ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªä½¿ç”¨æ•°æ®åº“çš„ç³»ç»Ÿï¼Œæ€§èƒ½é—®é¢˜å¯èƒ½ä¼šå½±å“æ‰€æœ‰è®¿é—®æ•°æ®åº“çš„æ¨¡å—&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;æš—ç¤º&#34;&gt;æš—ç¤º&lt;/h3&gt;

&lt;p&gt;ä»£ç çº ç¼ ä¸ä»£ç åˆ†æ•£å¯¹è½¯ä»¶è®¾è®¡å’Œå¼€å‘æœ‰ä»¥ä¸‹å½±å“ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä¸å¯è¿½æº¯&lt;/strong&gt;ï¼šåŒæ—¶åˆ†ç¦»å¤šä¸ªå…³æ³¨ç‚¹ä¼š&lt;strong&gt;æ©ç›–&lt;/strong&gt;å…³æ³¨ç‚¹ä¸å®ç°ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œå¯¼è‡´å…³ç³»ä¸æ¸…æ¥š&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä½æ•ˆçš„&lt;/strong&gt;ï¼šåŒæ—¶å®ç°å¤šä¸ªå…³æ³¨ç‚¹ä¼šæ‰“ä¹±å¼€å‘è€…çš„æ³¨æ„åŠ›ï¼Œå°†æ³¨æ„åŠ›åˆ†æ•£åˆ°å¤–å›´é—®é¢˜ä¸Šï¼Œè¿™å°†å¯¼è‡´ä½æ•ˆ&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä»£ç å¤ç”¨æ€§ä½&lt;/strong&gt;ï¼šç”±äºæ¨¡å—å®ç°äº†å¤šä¸ªéœ€æ±‚ï¼Œå…¶å®ƒç³»ç»Ÿå°†æ— æ³•å¾ˆå®¹æ˜“åœ°å¤ç”¨è¿™ä¸ªæ¨¡å—ï¼Œè¿›ä¸€æ­¥å¯¼è‡´ä½æ•ˆ&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä»£ç è´¨é‡ä½&lt;/strong&gt;ï¼šä»£ç çº ç¼ ä¼šäº§ç”Ÿä¸€äº›ä¸æ˜“æŸ¥è§‰çš„é—®é¢˜ã€‚æ­¤å¤–ï¼Œä¸€æ¬¡å…³æ³¨å¤ªå¤šé—®é¢˜ï¼ŒæŸäº›å…³æ³¨ç‚¹å¯èƒ½æ²¡æœ‰è¢«çœŸæ­£å…³æ³¨åˆ°&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;éš¾äºè¿­ä»£&lt;/strong&gt;ï¼šæœ‰é™çš„è§†ç•Œå’Œå—é™çš„èµ„æºé€šå¸¸ä¼šäº§ç”Ÿä»…è§£å†³å½“å‰å…³æ³¨ç‚¹çš„è®¾è®¡ã€‚è§£å†³æœªæ¥é—®é¢˜é€šå¸¸éœ€è¦é‡æ–°å®ç°ã€‚ç”±äºè¿™ä¸ªå®ç°å¹¶ä¸æ˜¯æ¨¡å—åŒ–çš„ï¼Œè¿™è¡¨ç¤ºè§¦æ‘¸è®¸å¤šæ¨¡å—ã€‚ä¸ºäº†å®ç°æ–°éœ€æ±‚éœ€è¦ä¿®æ”¹æ¯ä¸ªå­ç³»ç»Ÿå¯èƒ½ä¼šå¼•èµ·ä¸ä¸€è‡´çš„é—®é¢˜ã€‚å®ƒè¿˜éœ€è¦å¤§é‡çš„æµ‹è¯•å·¥ä½œæ¥ä¿è¯å®ç°åšå‡ºçš„å˜æ›´æ²¡æœ‰å¼•å…¥æ–°é—®é¢˜ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ç›®å‰çš„è§£å†³æ–¹å¼&#34;&gt;ç›®å‰çš„è§£å†³æ–¹å¼&lt;/h3&gt;

&lt;p&gt;ç”±äºå¤§å¤šæ•°ç³»ç»Ÿéƒ½å¯ä»¥æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œå› æ­¤å‡ºç°æ¨¡å—åŒ–å®ç°çš„ä¸€äº›æŠ€æœ¯å°±ä¸è¶³ä¸ºå¥‡äº†ã€‚è¿™äº›æŠ€æœ¯åŒ…æ‹¬æ··å…¥ï¼ˆmix-inï¼‰ç±»ï¼Œè®¾è®¡æ¨¡å¼å’Œé¢†åŸŸç‰¹å®šçš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨æ··å…¥ç±»å¯ä»¥è®©ä½ å»¶è¿Ÿåˆ†ç¦»å…³æ³¨ç‚¹åˆ°æœ€ç»ˆçš„å®ç°ã€‚ä¸»ç±»åŒ…å«æ··å…¥ç±»å®ä¾‹ï¼Œå¹¶å…è®¸ç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†è®¾ç½®è¯¥å®ä¾‹ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„ä¿¡ç”¨å¡å¤„ç†ä¾‹å­ï¼Œå°†ä¸€ä¸ªå®ç°äº†ä¸šåŠ¡é€»è¾‘çš„ç±»ç»„åˆæˆæ··å…¥ç±»ï¼Œç³»ç»Ÿçš„å…¶å®ƒæ¨¡å—å¯ä»¥é€šè¿‡é…ç½®æ¥è·å–é€‚åˆè‡ªèº«çš„æ—¥å¿—å™¨ã€‚ä¾‹å¦‚ï¼Œæ—¥å¿—å™¨å¯ä»¥è®¾ç½®æˆä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæˆ–è€…æ¶ˆæ¯ä¸­é—´ä»¶ã€‚å‘é€æ—¥å¿—çš„è¢«å»¶åäº†ï¼Œä½†æ˜¯å„ä¸ªæ¶ˆæ¯å‘é€ç‚¹ï¼ˆè°ƒç”¨çš„åœ°æ–¹ï¼‰è¿˜æ˜¯éœ€è¦åŠ å…¥ç›¸å…³çš„ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;åŸºäºè¡Œä¸ºçš„è®¾è®¡æ¨¡å¼ï¼Œæ¯”å¦‚è¯´è®¿é—®è€…ã€æ¨¡æ¿æ–¹æ³•ï¼Œå¯ä»¥è®©ä½ å»¶è¿Ÿå®ç°ã€‚ä½†æ˜¯å°±åƒæ··å…¥ç±»ä¸€æ ·ï¼Œæ§åˆ¶æ“ä½œâ€”è°ƒç”¨è®¿é—®é€»è¾‘æˆ–è€…æ¨¡æ¿æ–¹æ³•â€”ä»ç„¶åœ¨ä¸»ç±»ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;é¢†åŸŸç‰¹å®š&lt;/strong&gt;çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚è¯´æ¡†æ¶å’Œåº”ç”¨æœåŠ¡ï¼Œè®©å¼€å‘è€…å¯ä»¥ç”¨æ¨¡å—åŒ–çš„æ–¹å¼å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚æ¯”å¦‚ EJB æ¶æ„ï¼Œåœ¨å®‰å…¨ã€ç®¡ç†ã€æ€§èƒ½å’ŒæŒä¹…å®¹å™¨ç®¡ç†æ–¹é¢å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚Bean çš„å¼€å‘è€…ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œéƒ¨ç½²å·¥ç¨‹å¸ˆä¸“æ³¨äºéƒ¨ç½²ç›¸å…³é—®é¢˜ï¼Œæ¯”å¦‚ bean-data ä¸æ•°æ®åº“çš„å¯¹åº”å…³ç³»ã€‚å¯¹äº Bean å¼€å‘è€…æ¥è®²å…¶ä½™éœ€è¦å…³æ³¨çš„å°±åªæœ‰å­˜å‚¨çš„é—®é¢˜äº†ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ä½ å¯ä»¥ä½¿ç”¨åŸºäº XML çš„æ˜ å°„æè¿°ç¬¦æ¥å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;é¢†åŸŸç‰¹å®šçš„è§£å†³æ–¹æ¡ˆæä¾›äº†ä¸€ç§ç‰¹æ®Šçš„åŠæ³•æ¥è§£å†³æŒ‡å®šçš„é—®é¢˜ã€‚å®ƒçš„ç¼ºç‚¹æ˜¯ï¼Œå¼€å‘è€…å¿…é¡»ä¸ºå®ƒå­¦ä¹ æ–°çš„æŠ€æœ¯ã€‚ç„¶åç”±äºè¿™äº›è§£å†³æ–¹æ¡ˆéƒ½æ˜¯é¢†åŸŸç‰¹å®šçš„ï¼Œå®ƒå¹¶ä¸èƒ½ç›´æ¥æœ‰æ•ˆåœ°æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ„æ¶è®¾è®¡çš„çª˜å¢ƒ&#34;&gt;æ„æ¶è®¾è®¡çš„çª˜å¢ƒ&lt;/h2&gt;

&lt;p&gt;å¥½çš„ç³»ç»Ÿæ¶æ„ä¼šè€ƒçœ¼å‰ä¸æœªæ¥çš„ä¸€äº›éœ€æ±‚ï¼Œä»è€Œé¿å…æ‰“è¡¥ä¸å¼çš„å®ç°ã€‚ä½†æ˜¯è¿™æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé¢„æµ‹æœªæ¥æ˜¯ä¸€ä»¶éå¸¸å›°éš¾çš„äº‹æƒ…ã€‚å¦‚æœä½ æ²¡æœ‰ææ¸…æ¥šæœªæ¥çš„éœ€æ±‚ï¼Œé‚£å°±éœ€è¦æ”¹å˜ã€æˆ–è€…å°†ç³»ç»Ÿçš„å¾ˆå¤šåœ°æ–¹é‡æ–°å®ç°ã€‚å¦å¤–ä¸€æ–¹é¢ï¼Œå°†ç²¾åŠ›èšç„¦åœ¨ä½å¯èƒ½æ€§çš„ä¸€äº›éœ€æ±‚ä¼šå¯¼è‡´è¿‡åº¦çš„è®¾è®¡ã€æ··ä¹±å’Œè‡ƒè‚¿çš„ç³»ç»Ÿã€‚å› æ­¤ç³»ç»Ÿæ„æ¶çš„ä¸€ä¸ªå›°å¢ƒæ˜¯ï¼šåº”è¯¥è®¾è®¡åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿæˆ‘åº”è¯¥ä¿å®ˆå¼çš„è®¾è®¡è¿˜æ˜¯ç›ˆä½™å¼çš„è®¾è®¡ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”æ–¹è¯´ï¼Œæ„æ¶ä¸­æ˜¯å¦åº”è¯¥è¿½å¿µä¸€ä¸ªåˆå§‹åŒ–æ—¶å¹¶ä¸éœ€è¦çš„æ—¥å¿—ç³»ç»Ÿï¼Ÿå¦‚æœæ˜¯ï¼Œæ—¥å¿—æ‰“ç‚¹çš„åœ°æ–¹åº”è¯¥åœ¨å“ªé‡Œï¼Œä»€ä¹ˆæ ·çš„ä¿¡æ¯åº”è¯¥è¢«è®°å½•ï¼Ÿè¿™ä¸ªæ˜¯ä¸€ä¸ªç±»ä¼¼çš„å‡ºç°åœ¨ä¼˜åŒ–ç›¸å…³éœ€æ±‚è¿‡ç¨‹ä¸­çš„å›°å¢ƒâ€”æˆ‘ä»¬å¾ˆå°‘æå‰çŸ¥é“ç“¶é¢ˆï¼Œå¸¸å½’çš„åšæ³•æ˜¯æ„å»ºä¸€ä¸ªç³»ç»Ÿï¼Œå¯¹å…¶è¿›è¡Œåˆ†æï¼Œå¹¶é€šè¿‡ä¼˜åŒ–è¿›è¡Œæ”¹è¿›ä»¥æé«˜æ€§èƒ½ã€‚è¿™ç§æ–¹æ³•ä¼šæ½œåœ¨å¼•å¯¼æˆ‘ä»¬æ ¹æ®åˆ†æç»“æœå»ä¿®æ”¹ç³»ç»Ÿå¾ˆå¤šéƒ¨åˆ†ã€‚è¿‡ä¸äº†å¤šä¹…ï¼Œä¸€ä¸ªæ–°çš„ç“¶é¢ˆåˆä¼šå‡ºç°ï¼Œè€Œè¿™ä¸ªç“¶é¢ˆå¾ˆå¯èƒ½å°±æ˜¯ä¸Šä¸€æ­¥çš„æ”¹è¿›å¼•èµ·çš„ã€‚è®¾è®¡å¯å¤ç”¨åº“æ¶æ„çš„ä»»åŠ¡ä¼šå˜å¾—éå¸¸å›°éš¾ï¼Œå› ä¸ºæ‰¾åˆ°åº“çš„æ‰€æœ‰çš„ä½¿ç”¨åœºæ™¯å¹¶éæ˜“äº‹ã€‚&lt;/p&gt;

&lt;p&gt;æ€»ä¹‹ï¼Œæ¶æ„å¸ˆå¾ˆå°‘çŸ¥é“ç³»ç»Ÿæ‰€æœ‰å¯èƒ½éœ€è¦è§£å†³çš„é—®é¢˜ã€‚å³ä½¿æå‰äº†è§£äº†éœ€æ±‚ï¼Œä¸€ä¸ªå®ç°çš„å…·ä½“ç»†èŠ‚å¯èƒ½å¹¶æ²¡æœ‰è¢«è€ƒè™‘åˆ°ã€‚å› æ­¤ï¼Œæ¶æ„å¸ˆé¢ä¸´ç€ç©¶ç«Ÿåº”è¯¥ä¿å®ˆè®¾è®¡è¿˜æ˜¯ç›ˆä½™è®¾è®¡çš„å›°å¢ƒã€‚&lt;/p&gt;

&lt;h2 id=&#34;aop-çš„åŸºæœ¬æ¦‚å¿µ&#34;&gt;AOP çš„åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;

&lt;p&gt;åˆ°è¿™é‡Œæˆ‘ä»¬ä¸»è¦è®¨è®ºäº†æ¨¡å—åŒ–çš„æ¨ªåˆ‡å…³æ³¨ç‚¹ä¼šæœ‰å¾ˆå¤§ç›Šå¤„ã€‚ç ”ç©¶äººå‘˜å·²ç»ç ”ç©¶äº†åœ¨ã€Œå…³æ³¨ç‚¹åˆ†ç¦»ã€è¿™ä¸€æ›´ä¸ºæ³›åŒ–çš„ä¸»é¢˜ä¸‹å®Œæˆè¯¥ä»»åŠ¡çš„å„ç§æ–¹æ³•ã€‚ AOP å°±æ˜¯è¿™æ ·çš„ä¸€ç§æ–¹æ³•ã€‚AOP åŠ›äº‰å°†å…³æ³¨ç‚¹å½»åº•åˆ†ç¦»ï¼Œä»¥å…‹æœä¸Šè¿°é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;AOP çš„æ ¸å¿ƒåœ¨äºï¼Œä»¥æ¾æ•£è€¦åˆçš„æ–¹å¼è®©ä½ å®ç°ä¸€ä¸ªç‹¬ç«‹çš„å…³æ³¨ç‚¹ï¼Œç„¶åç»“åˆè¿™äº›å®ç°æˆä¸ºä¸€ä¸ªæœ€ç»ˆçš„ç³»ç»Ÿã€‚ç¡®å®ï¼ŒAOP ä½¿ç”¨æ¾æ•£è€¦åˆã€æ¨¡å—åŒ–çš„&lt;strong&gt;åˆ†ç¦»å…³æ³¨ç‚¹&lt;/strong&gt;çš„æ–¹å¼æ¥åˆ›å»ºç³»ç»Ÿã€‚ç›¸åï¼ŒOOPï¼Œåˆ™ä½¿ç”¨æ¾æ•£è€¦åˆã€æ¨¡å—åŒ–çš„å®ç°&lt;strong&gt;å…±åŒå…³æ³¨ç‚¹&lt;/strong&gt;æ–¹å¼æ¥åˆ›å»ºç³»ç»Ÿã€‚AOP ä¸­æ¨¡å—åŒ–çš„å•ä½å«åš*æ¨ªåˆ‡é¢*ï¼ˆaspectï¼‰ï¼Œå¥½æ¯” OOP ä¸­å…±åŒçš„å…³æ³¨ç‚¹æ˜¯*ç±»*ï¼ˆclassï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;AOPæ¶‰åŠä¸‰ä¸ªä¸åŒçš„å¼€å‘æ­¥éª¤ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;åˆ‡é¢åˆ†è§£&lt;/strong&gt;ï¼šå°†éœ€æ±‚åˆ†è§£å¹¶è¯†åˆ«å‡ºæ¨ªåˆ‡å…³æ³¨ç‚¹ä¸å…±åŒå…³æ³¨ç‚¹ã€‚ä½ å¯ä»¥å°†ç³»ç»Ÿçº§åˆ«çš„å…³æ³¨ç‚¹ä¸æ¨¡å—çº§åˆ«å…³æ³¨ç‚¹åˆ†ç¦»ã€‚æ¯”å¦‚è¯´ï¼Œä¸Šé¢æåˆ°çš„ä¿¡ç”¨å¡æ¨¡å—ï¼Œä½ éœ€è¦è¯†åˆ«ä¸‰ç§å…³æ³¨ç‚¹ï¼šä¿¡ç”¨å¡æ ¸å¿ƒæµç¨‹ï¼Œæ—¥å¿—å’Œæˆæƒã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;å…³æ³¨ç‚¹å®ç°&lt;/strong&gt;ï¼šåˆ†ç¦»çš„å®ç°å„ä¸ªå…³æ³¨ç‚¹ã€‚åƒä¸Šé¢çš„ä¾‹å­ä¸€æ ·ï¼Œä½ å¯ä»¥å•ç‹¬å®ç°æ ¸å¿ƒæµç¨‹ã€æ—¥å¿—å’Œæˆæƒä¸‰ä¸ªå•å…ƒã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;åˆ‡é¢é‡ç»„&lt;/strong&gt;ï¼šåœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼Œåˆ‡é¢é›†æˆå™¨é€šè¿‡åˆ›å»ºæ¨¡å—åŒ–å•å…ƒæ¥æŒ‡å®šé‡ç»„è§„åˆ™ â€” åˆ‡é¢ã€‚é‡ç»„è¿‡ç¨‹ï¼ˆä¹Ÿç§°ä¸º&lt;strong&gt;ç¼–ç»‡&lt;/strong&gt;æˆ–é›†æˆï¼‰ä½¿ç”¨æ­¤ä¿¡æ¯æ¥ç»„åˆæˆæœ€ç»ˆç³»ç»Ÿã€‚æ¯”å¦‚ä¸Šé¢çš„ä¿¡ç”¨å¡ä¾‹å­ï¼Œä½ å¾—ä½¿ç”¨ä¸€ç§ AOP å®ç°çš„*è¯­è¨€*å…·ä½“/è§„èŒƒåŒ–æ“ä½œä¸­å“ªä¸€æ­¥éœ€è¦æ‰“æ—¥å¿—ã€‚è¿˜å¾—æŒ‡å®šæ¯ä¸ªæ“ä½œåœ¨è¢«å‰éƒ½éœ€è¦æ¸…é™¤æˆæƒã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/07/06/5d207ff77b21c16740.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;AOP å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æ–¹æ³•ä¸ OOP ä¸ä¸€æ ·ã€‚å¯¹äº AOP æ¥è®²ï¼Œæ¯ä¸ªå…³æ³¨ç‚¹çš„å®ç°å¹¶ä¸ä¼šæ„è¯†åˆ°å…¶å®ƒå…³æ³¨ç‚¹ä¸‹åœ¨æ¨ªåˆ‡å®ƒã€‚æ¯”å¦‚ä¸Šé¢çš„ä¿¡ç”¨å¡ä¾‹å­ï¼Œä¿¡ç”¨æ­¢å¤„ç†æ¨¡å—å¹¶ä¸çŸ¥é“å…¶å®ƒçš„å…³æ³¨ç‚¹æ˜¯æ—¥å¿—ã€æˆæƒæ“ä½œã€‚è¿™å¯¹äº OOP æ¥è®²æ„å‘³ç€å¾ˆå¤§çš„èŒƒå¼è½¬æ¢ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨æ„ï¼šä¸€ä¸ª AOP çš„å®ç°å¯ä»¥é‡‡ç”¨å…¶å®ƒç¼–ç¨‹æ–¹æ³•ä½œä¸ºå®ƒçš„åŸºæœ¬æ–¹æ³•ã€‚å› æ­¤å¯ä»¥ä¿è¯åŸºç¡€ç³»ç»Ÿéå¸¸å®Œå–„ã€‚æ¯”å¦‚è¯´ï¼Œä¸€ä¸ª AOP çš„å®ç°å¯ä»¥é€‰æ‹© OOP åšä¸ºåŸºç¡€ç³»ç»Ÿï¼Œè¿™æ ·å°±å¯ä»¥è·å¾— OOP å…±åŒå…³æ³¨ç‚¹çš„ä¼˜åŠ¿ã€‚æ¯ä¸ªç‹¬ç«‹çš„å…³æ³¨ç‚¹å¯ä»¥é‡‡ç”¨ OOP æŠ€æœ¯è¯†åˆ«å…³æ³¨ç‚¹ã€‚è¿™ç±»ä¼¼äºè¿‡ç¨‹å¼çš„è¯­è¨€å¯ä»¥åšä¸ºè®¸å¤š OOP è¯­è¨€çš„åŸºç¡€è¯­è¨€ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç¼–ç»‡çš„ä¾‹å­&#34;&gt;ç¼–ç»‡çš„ä¾‹å­&lt;/h2&gt;

&lt;p&gt;ç¼–ç»‡å™¨æ˜¯ä¸€ä¸ªå°†ç‹¬ç«‹çš„å…³æ³¨ç‚¹çººç»‡èµ·æ¥çš„è¿‡ç¨‹ã€‚æ¢å¥è¯è¯´ï¼Œç¼–ç»‡å™¨æ ¹æ®æä¾›ç»™å®ƒçš„æŸäº›æ ‡å‡†å°†ä¸åŒçš„æ‰§è¡Œé€»è¾‘ç‰‡æ®µç¼–ç»‡èµ·æ¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†èƒ½å¤Ÿæ¼”ç¤ºç¼–ç»‡è¿‡ç¨‹ï¼Œè®©æˆ‘ä»¬å›åˆ°ä¹‹å‰çš„ä¿¡ç”¨å¡å¤„ç†ç³»ç»Ÿçš„ä¾‹å­ã€‚ä¸ºäº†çœ‹èµ·æ¥æ›´ç®€å•ï¼Œæˆ‘ä»¬åªè€ƒè™‘ä¸¤ä¸ªæ“ä½œï¼šä¿¡ç”¨å¡å’Œå€Ÿè®°å¡ã€‚å¹¶ä¸”å·²ç»æœ‰ä¸€ä¸ªåˆé€‚çš„æ—¥å¿—å™¨äº†ã€‚&lt;/p&gt;

&lt;p&gt;è€ƒè™‘ä¸‹é¢çš„ä¿¡ç”¨å¡å¤„ç†æ¨¡å—ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;public class CreditCardProcessor {
    public void debit(CreditCard card, Currency amount) 
       throws InvalidCardException, NotEnoughAmountException,
              CardExpiredException {
        // Debiting logic
    }
    
    public void credit(CreditCard card, Currency amount) 
        throws InvalidCardException {
        // Crediting logic
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŒæ ·è¿˜æœ‰ä¸€ä¸ªæ—¥å¿—æ¥å£ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;public interface Logger {
    public void log(String message);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬æƒ³è¦çš„ç»„åˆéœ€è¦ä»¥ä¸‹ç¼–ç»‡è§„åˆ™ï¼Œè¿™äº›è§„åˆ™ä»¥è‡ªç„¶è¯­è¨€è¡¨ç¤ºï¼ˆç¨åå°†æä¾›è¿™äº›ç¼–ç»‡è§„åˆ™çš„ç¼–ç¨‹è¯­è¨€ç‰ˆæœ¬ï¼‰ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ‰“å°æ¯ä¸ªå…¬å…±æ“ä½œçš„å¼€å§‹&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æ‰“å°æ¯ä¸ªå…¬å…±æ“ä½œå®Œæˆ&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æ‰“å°æ¯ä¸ªå…¬å…±æ“ä½œçš„å¼‚å¸¸&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ç¼–ç»‡å™¨éšåå°†ä½¿ç”¨è¿™äº›è§„åˆ™ï¼Œå¹¶å…³æ³¨æ¯ä¸ªå®ç°ä»¥äº§ç”Ÿç­‰ä»·äºä»¥ä¸‹ä»£ç çš„æ•ˆæœã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;public class CreditCardProcessorWithLogging {
    Logger _logger;
    public void debit(CreditCard card, Money amount) 
        throws InvalidCardException, NotEnoughAmountException,
               CardExpiredException {
        _logger.log(&amp;quot;Starting CreditCardProcessor.credit(CreditCard,
Money) &amp;quot;
                    + &amp;quot;Card: &amp;quot; + card + &amp;quot; Amount: &amp;quot; + amount);
        // Debiting logic
        _logger.log(&amp;quot;Completing CreditCardProcessor.credit(CreditCard,
Money) &amp;quot;
                    + &amp;quot;Card: &amp;quot; + card + &amp;quot; Amount: &amp;quot; + amount);
    }
    
    public void credit(CreditCard card, Money amount) 
        throws InvalidCardException {
        System.out.println(&amp;quot;Debiting&amp;quot;);
        _logger.log(&amp;quot;Starting CreditCardProcessor.debit(CreditCard,
Money) &amp;quot;
                    + &amp;quot;Card: &amp;quot; + card + &amp;quot; Amount: &amp;quot; + amount);
        // Crediting logic
        _logger.log(&amp;quot;Completing CreditCardProcessor.credit(CreditCard,
Money) &amp;quot;
                    + &amp;quot;Card: &amp;quot; + card + &amp;quot; Amount: &amp;quot; + amount);
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;åˆ†è§£-aop-è¯­è¨€&#34;&gt;åˆ†è§£ AOP è¯­è¨€&lt;/h2&gt;

&lt;p&gt;å°±åƒå…¶å®ƒç¼–ç¨‹è¯­è¨€æ–¹æ³•çš„å®ç°ï¼ŒAOP å®ç°åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ç§è¯­è¨€è§„èŒƒå’Œä¸€ç§å®ç°ã€‚è¯­è¨€è§„èŒƒæè¿°è¯­è¨€çš„æ„æˆä¸è¯­æ³•ã€‚å®ç°åˆ™æ ¹æ®è¯­è¨€è§„èŒƒå»è®ºè¯ä»£ç çš„æ­£ç¡®æ€§ï¼Œç„¶åè½¬æ¢æˆæœºå™¨ç ç„¶åæ‰§è¡Œã€‚åœ¨è¿™å°èŠ‚ä¸­ï¼Œæˆ‘å°†è§£é‡Š AOP è¯­è¨€çš„ä¸åŒç»„æˆéƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;h4 id=&#34;aop-è¯­è¨€çš„è§„èŒƒ&#34;&gt;AOP è¯­è¨€çš„è§„èŒƒ&lt;/h4&gt;

&lt;p&gt;åœ¨ä¸€ä¸ªé«˜å±‚æ¬¡ä¸Šï¼ŒAOP è¯­è¨€æœ‰ä¸¤ç§ç»„ä»¶ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å…³æ³¨ç‚¹çš„å®ç°&lt;/strong&gt;ï¼šåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„éœ€æ±‚ä¸ä»£ç ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œè¿™æ ·ç¼–è¯‘å™¨æ‰èƒ½ç¿»è¯‘æˆå¯æ‰§è¡Œä»£ç ã€‚ç”±äºå…³æ³¨ç‚¹çš„å®ç°éœ€è¦é€šè¿‡å…·ä½“çš„è¿‡ç¨‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„è¯­è¨€ï¼Œæ¯”å¦‚ Cï¼ŒC++ æˆ–è€… Java&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç¼–ç»‡è§„åˆ™çš„è§„èŒƒ&lt;/strong&gt;ï¼šå¦‚ä½•å°†ç‹¬ç«‹çš„å…³æ³¨ç‚¹å®ç°ç»“åˆæˆæœ€ç»ˆçš„ç³»ç»Ÿã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œå®ç°éœ€è¦ä½¿ç”¨æˆ–è€…åˆ›å»ºä¸€ç§è¯­è¨€æ¥å…·ä½“è¯´æ˜ç»“åˆçš„è§„åˆ™ã€‚å…·ä½“åŒ–ç¼–ç»‡è§„åˆ™çš„è¯­è¨€å¯ä»¥æ˜¯å®ç°è¯­è¨€çš„ä¸€ç§æ‰©å±•ï¼Œæˆ–è€…å…¶å®ƒå®Œå…¨ä¸åŒçš„ä¸œè¥¿ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;aop-è¯­è¨€çš„å®ç°&#34;&gt;AOP è¯­è¨€çš„å®ç°&lt;/h4&gt;

&lt;p&gt;AOP è¯­è¨€ç¼–è¯‘å™¨æœ‰ä»¥ä¸‹ä¸¤ä¸ªé€»è¾‘æ­¥éª¤ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç»“åˆç‹¬ç«‹çš„å…³æ³¨ç‚¹&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;è½¬æ¢æœ€ç»ˆç»“æœæˆå¯æ‰§è¡Œä»£ç &lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;AOP è¯­è¨€å®ç°ç¼–ç»‡å™¨çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼ŒåŒ…æ‹¬æºç åˆ°æºç çš„ç¿»è¯‘ã€‚ä½ å¯ä»¥é¢„å¤„ç†ç‹¬ç«‹åˆ‡é¢çš„æºç ï¼Œç„¶åå°†å®ƒåŠ å·¥æˆç¼–ç»‡è¿‡çš„æºç ã€‚ç„¶å AOP ç¼–è¯‘å™¨å°†è¿™äº›æºç è½¬äº¤ç»™åŸºæœ¬è¯­è¨€ç¼–è¯‘å™¨ç”¨æ¥ç”Ÿæˆæœ€ç»ˆå¯æ‰§è¡Œä»£ç ï¼Œæœ€åè®© Java ç¼–è¯‘å™¨æŠŠä»£ç ç¼–è¯‘æˆå­èŠ‚ç ã€‚åŒæ ·çš„ï¼Œç¼–ç»‡è¿‡ç¨‹å¯ä»¥æ˜¯å­èŠ‚ç çº§åˆ«çš„ï¼›æ¯•ç«Ÿï¼Œå­èŠ‚ç ä¹Ÿæ˜¯ä¸€ç§æºä»£ç ã€‚å¼•å¤–åº•å±‚ç³»ç»Ÿâ€”VMè™šæ‹Ÿæœºï¼Œæ˜¯å¯ä»¥æ„ŸçŸ¥åˆ°åˆ‡é¢çš„ã€‚ä½¿ç”¨è¿™ç§åŸºäº Java çš„ AOP å®ç°ï¼Œæ¯”å¦‚ï¼ŒVMè™šæ‹Ÿæœºå°†é¦–å…ˆåŠ è½½ç¼–ç»‡è§„åˆ™ï¼Œç„¶åå°†è¿™äº›è§„åˆ™åº”ç”¨åˆ°éšååŠ è½½çš„ç±»ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒè¡¨ç°å¾—åƒæ˜¯ JIT åŒ–çš„åˆ‡é¢ç¼–ç»‡ã€‚&lt;/p&gt;

&lt;h2 id=&#34;aop-çš„ç›Šå¤„&#34;&gt;AOP çš„ç›Šå¤„&lt;/h2&gt;

&lt;p&gt;AOP æœ‰åŠ©äºå…‹æœç”±ä»£ç çº ç¼ å’Œä»£ç åˆ†æ•£å¼•èµ·çš„ä¸Šè¿°é—®é¢˜ã€‚ä»¥ä¸‹æ˜¯ AOP æä¾›çš„å…¶ä»–ä¼˜åŠ¿ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ¨¡å—åŒ–åœ°æ¨ªåˆ‡å…³æ³¨ç‚¹&lt;/strong&gt;ï¼šAOP ä½¿å¾—æ¯ä¸ªç‹¬ç«‹çš„å…³æ³¨ç‚¹æœ‰æœ€å°åŒ–çš„è€¦åˆï¼Œæœ€ç»ˆäº§å‡ºæ¨¡å—åŒ–çš„å®ç°ã€‚è¿™æ ·çš„ä¸€ç§å®ç°ä¼šäº§ç”Ÿå¾ˆå°‘çš„é‡å¤ä»£ç ã€‚ç”±äºæ¯ä¸ªå…³æ³¨ç‚¹çš„å®ç°æ˜¯åˆ†ç¦»çš„ï¼Œä¹Ÿå°†å‡å°‘æ— ç”¨ä»£ç ï¼Œæ›´é‡è¦çš„æ¨¡å—åŒ–çš„å®ç°è®©æœ€ç»ˆç³»ç»Ÿæ›´æ˜“äºç†è§£ä¸ç»´æŠ¤ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ›´ä¾¿äºç³»ç»Ÿè¿­ä»£&lt;/strong&gt;ï¼šç”±äºåˆ‡é¢æ¨¡å—å¯¹äºæ¨ªåˆ‡å…³æ³¨ç‚¹æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œæ·»åŠ æ–°åŠŸèƒ½ã€æ–°åˆ‡é¢å°†å˜å¾—ç®€å•ã€‚è€Œä¸”å½“ä½ åœ¨ç³»ç»Ÿä¸­æ·»åŠ æ–°æ¨¡å—æ—¶ï¼Œç°æœ‰çš„åˆ‡é¢å°†æ¨ªåˆ‡å®ƒä»¬ï¼Œè¿™æœ‰åŠ©äºä½ æ„å»ºä¸€ç³»åˆ—è¿è´¯çš„è¿­ä»£æ¼”è¿›ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;å»¶è¿Ÿè®¾è®¡ç›®æ ‡çš„ç»‘å®š&lt;/strong&gt;ï¼šå›é¡¾ä¸‹æ¶æ„å¸ˆçš„å›°å¢ƒï¼Œæœ‰äº† AOPï¼Œæ¶æ„å¸ˆå¯¹äºå°†æ¥çš„éœ€æ±‚å°±å¯ä»¥æ¨è¿Ÿåšå‡ºè®¾è®¡ä¸Šçš„å†³å®šï¼Œå› ä¸ºä»–å¯ä»¥ç”¨åˆ†ç¦»çš„åˆ‡é¢æ¥å®ç°ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ›´é«˜çš„ä»£ç å¤ç”¨æ€§&lt;/strong&gt;ï¼šç”±äº AOP åˆ†ç¦»çš„å®ç°æ¯ä¸ªåˆ‡é¢ï¼Œæ¯ä¸ªç‹¬ç«‹æ¨¡å—ä¹‹é—´çš„è€¦åˆæ›´åŠ çš„æ¾æ•£ã€‚æ¯”å¦‚è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ—¥å¿—å™¨æ¥è®°å½•ä½ æ¨¡å—ä¸æ•°æ®åº“çš„æ“ä½œã€‚é€šå¸¸æ¥è®²ï¼Œæ¾æ•£è€¦åˆçš„å®ç°æ˜¯ä»£ç é«˜å¤ç”¨æ€§çš„å…³é”®ç‚¹ã€‚ AOP çš„å®ç°æ¯” OOP çš„å®ç°æ›´åŠ æ¾æ•£è€¦åˆã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;aspectj-ä¸€ç§-java-çš„-aop-å®ç°&#34;&gt;AspectJï¼šä¸€ç§ Java çš„ AOP å®ç°&lt;/h2&gt;

&lt;p&gt;ç•¥&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬ä¸‰ç¯‡ï¼šæ§åˆ¶å™¨ï¼‰</title>
      <link>https://keelii.com/2019/07/03/nestjs-framework-tutorial-3/</link>
      <pubDate>Wed, 03 Jul 2019 18:33:57 +0800</pubDate>
      
      <guid>https://keelii.com/2019/07/03/nestjs-framework-tutorial-3/</guid>
      <description>

&lt;p&gt;&lt;strong&gt;æ§åˆ¶å™¨&lt;/strong&gt;ï¼ˆControllerï¼‰è´Ÿè´£å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶å‘é€å“åº”å†…å®¹ï¼Œåœ¨ä¼ ç»Ÿçš„ MVC æ¶æ„ä¸­æ§åˆ¶å™¨å°±æ˜¯è´Ÿè´£å¤„ç†æŒ‡å®šè¯·æ±‚ä¸åº”ç”¨ç¨‹åºçš„å¯¹åº”å…³ç³»ï¼Œè·¯ç”±åˆ™å†³å®šå…·ä½“å¤„ç†å“ªä¸ªè¯·æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/30/5d18c461b3cb641859.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;è·¯ç”±&#34;&gt;è·¯ç”±&lt;/h3&gt;

&lt;p&gt;å¾—ç›Šäº TypeScriptï¼Œåœ¨ Nest ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»æ¥å®ç°æ§åˆ¶å™¨çš„åŠŸèƒ½ï¼Œä½¿ç”¨è£…é¥°å™¨æ¥å®ç°è·¯ç”±åŠŸèƒ½ã€‚å®ƒä»¬åˆ†åˆ«éœ€è¦é…åˆ @Controller å’Œ @Get é¥°å™¨æ¥ä½¿ç”¨ï¼Œå‰è€…æ˜¯æ§åˆ¶å™¨ç±»çš„è£…é¥°ï¼Œåè€…æ˜¯å…·ä½“æ–¹æ³•çš„è£…é¥°å™¨ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import { Controller, Get } from &#39;@nestjs/common&#39;;

@Controller(&#39;cats&#39;)
export class CatsController {
  @Get()
  findAll(): string {
    return &#39;This action returns all cats&#39;;
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç å£°æ˜äº†ä¸€ä¸ªçŒ«å’ªæ§åˆ¶å™¨ç±»ï¼Œå®ç°äº† findAll æ–¹æ³•ï¼Œå½“ä½ åœ¨æµè§ˆå™¨ä¸­å‘é€è¯·æ±‚åˆ° /cates æ—¶ç¨‹åºå°±è¿”å›ç»™ä½  This action returns all cats&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;++å°æç¤º++ï¼šå¯ä»¥ä½¿ç”¨ Nest-cli å·¥å…·æ¥è‡ªåŠ¨ç”Ÿæˆä¸Šé¢çš„ä»£ç ï¼š$ nest g controller cats&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code&gt;@Get()&lt;/code&gt; è¡¨ç¤º HTTP è¯·æ±‚è£…é¥°å™¨ã€‚æ§åˆ¶å™¨ç±»çš„è£…é¥°å™¨å’Œ HTTP æ–¹æ³•çš„è£…é¥°å™¨å…±åŒå†³å®šäº†ä¸€ä¸ªè·¯ç”±è§„åˆ™ã€‚findAll å°†è¿”å›ä¸€ä¸ªçŠ¶æ€ç ä¸º 200 çš„å“åº”ï¼Œå½“ç„¶ä½ æœ‰ä¸¤ç§æ–¹æ³•æ¥æŒ‡å®šè¿”å›çš„çŠ¶æ€ç ï¼š&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ ‡å‡†æ¨¡å¼ï¼ˆå»ºè®®çš„ï¼‰&lt;/td&gt;
&lt;td&gt;ä½¿ç”¨å†…ç½®æ–¹æ³•æ—¶ï¼Œå¦‚æœè¿”å›ä¸€ä¸ª JavaScript å¯¹è±¡æˆ–è€…æ•°æ®ï¼Œå°†è‡ªåŠ¨åºåˆ—åŒ–æˆ JSONï¼Œå¦‚æœæ˜¯å­—ç¬¦ä¸²å°†é»˜è®¤ä¸ä¼šåºåˆ—åŒ–ï¼Œå“åº”çš„è¿”å›çŠ¶æ€ç  &lt;strong&gt;é»˜è®¤&lt;/strong&gt; æ€»æ˜¯ 200ï¼Œé™¤éæ˜¯ POST è¯·æ±‚ä¼šé»˜è®¤è®¾ç½®æˆ 201ã€‚å¯ä»¥ä½¿ç”¨ @HttpCode() è£…é¥°å™¨æ¥æ”¹å˜å®ƒ&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;æŒ‡å®šæ¡†æ¶&lt;/td&gt;
&lt;td&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‡å®šæ¡†æ¶çš„è¯·æ±‚å¤„ç†æ–¹æ³•ï¼Œæ¯”å¦‚ Express çš„å“åº”å¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨ @Res() è£…é¥°å™¨æ¥è£…é¥°å“åº”å¯¹è±¡ä½¿ç”¨ï¼Œè¿™æ ·ä»¥æ¥ä½ å°±å¯ä»¥ä½¿ç”¨ç±» Express API çš„æ–¹å¼å¤„ç†å“åº”äº†ï¼š&lt;code&gt;response.status(200).send()&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;++è­¦å‘Š++&lt;/strong&gt;ï¼šä½ å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸Šé¢ä¸¤ç§æ–¹æ³•ï¼Œä½†æ˜¯ Nest ä¼šæ£€æµ‹åˆ°ï¼ŒåŒæ—¶æ ‡å‡†æ¨¡å¼ä¼šåœ¨è¿™ä¸ªè·¯ç”±ä¸Šè¢«ç¦ç”¨&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;è¯·æ±‚å¯¹è±¡&#34;&gt;è¯·æ±‚å¯¹è±¡&lt;/h3&gt;

&lt;p&gt;å¤„ç†å™¨ä¸€èˆ¬éœ€è¦è®¿é—®åˆ°è¯·æ±‚å¯¹è±¡ã€‚ä¸€èˆ¬é…åˆ @Req() è£…é¥°å™¨æ¥ä½¿ç”¨ï¼Œè¯·æ±‚å¯¹è±¡åŒ…å«æŸ¥è¯¢å­—ç¬¦ä¸²ã€å‚æ•°ã€HTTP å¤´ï¼Œè¯·æ±‚ä½“ç­‰ã€‚ä½†æ˜¯å¤§å¤šæ•°æƒ…å†µåªç”¨åˆ°å…¶ä¸­æŸä¸ªï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬ä½¿ç”¨æŒ‡å®šçš„è£…é¥°å™¨æ¥è£…é¥°è¯·æ±‚ã€‚&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è£…é¥°å™¨&lt;/th&gt;
&lt;th&gt;å‚æ•°å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@Request()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;req&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@Response()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;res&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@Next()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;next&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@Session()&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;req.session&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@Param(key?: string)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;req.params&lt;/code&gt; / &lt;code&gt;req.params[key]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@Body(key?: string)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;req.body&lt;/code&gt; / &lt;code&gt;req.body[key]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@Query(key?: string)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;req.query&lt;/code&gt; / &lt;code&gt;req.query[key]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@Headers(name?: string)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;req.headers&lt;/code&gt; / &lt;code&gt;req.headers[name]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šæ¯”å¦‚æˆ‘ä»¬åªéœ€è¦å¤„ç†è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆquery stringï¼‰ï¼Œå°±å¯ä»¥ä½¿ç”¨ @Query æ¥è£…é¥°å…¥å‚ï¼Œè¿™æ ·å–åˆ°çš„å€¼å°±è‡ªç„¶æ˜¯ä¸€ä¸ª query string çš„å­—å…¸äº†ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Get()
getHello(@Query() q: String): string {
    console.log(q)
    return this.appService.getHello();
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬çš„è¯·æ±‚æ˜¯ï¼š&lt;a href=&#34;http://localhost:3000/?test=a&#34;&gt;http://localhost:3000/?test=a&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆæ§åˆ¶å°å°†æ‰“å°ä¸€ä¸ª &lt;code&gt;{ test: &#39;a&#39; }&lt;/code&gt; å­—å…¸&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;++å°æç¤º++&lt;/strong&gt;ï¼šå»ºè®®å®‰è£… @types/express åŒ…æ¥è·å– Request çš„ç›¸å…³ç±»å‹æç¤º&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;èµ„æº&#34;&gt;èµ„æº&lt;/h3&gt;

&lt;p&gt;é™¤äº†ä½¿ç”¨ @Get è£…é¥°å™¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å…¶å®ƒ HTTP æ–¹æ³•è£…é¥°å™¨ã€‚æ¯”å¦‚ï¼š&lt;code&gt;@Put()&lt;/code&gt;, &lt;code&gt;@Delete()&lt;/code&gt;, &lt;code&gt;@Patch()&lt;/code&gt;, &lt;code&gt;@Options()&lt;/code&gt;, &lt;code&gt;@Head()&lt;/code&gt;, and &lt;code&gt;@All()&lt;/code&gt;ï¼Œæ³¨æ„ All å¹¶ä¸æ˜¯ HTTP çš„æ–¹æ³•ï¼Œè€Œæ˜¯ Nest æä¾›çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ï¼Œè¡¨ç¤ºæ¥æ”¶ä»»ä½•ç±»å‹çš„ HTTP è¯·æ±‚ã€‚&lt;/p&gt;

&lt;h3 id=&#34;è·¯ç”±é€šé…ç¬¦&#34;&gt;è·¯ç”±é€šé…ç¬¦&lt;/h3&gt;

&lt;p&gt;Nest æ”¯æŒåŸºäºæ¨¡å¼çš„è·¯ç”±è§„åˆ™åŒ¹é…ï¼Œæ¯”å¦‚ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰è¡¨ç¤ºåŒ¹é…ä»»æ„çš„å­—æ¯ç»„åˆã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Get(&#39;ab*cd&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;&#39;ab*cd&#39;&lt;/code&gt; è·¯ç”±å°†åŒ¹é… &lt;code&gt;abcd&lt;/code&gt;, &lt;code&gt;ab_cd&lt;/code&gt;, &lt;code&gt;abecd&lt;/code&gt; ç­‰è§„åˆ™ã€‚åŒæ—¶ï¼š&lt;code&gt;?&lt;/code&gt;, &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;*&lt;/code&gt;, and &lt;code&gt;()&lt;/code&gt; é€šé…ç¬¦ï¼ˆwildcardï¼‰éƒ½å¯ä»¥ä½¿ç”¨&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é€šé…ç¬¦&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;th&gt;ç¤ºä¾‹&lt;/th&gt;
&lt;th&gt;åŒ¹é…&lt;/th&gt;
&lt;th&gt;ä¸åŒ¹é…&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åŒ¹é…ä»»æ„æ•°é‡çš„ä»»æ„å­—ç¬¦&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Law*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Law&lt;/code&gt;, &lt;code&gt;Laws&lt;/code&gt;, or &lt;code&gt;Lawyer&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;GrokLaw&lt;/code&gt;, &lt;code&gt;La&lt;/code&gt;, or &lt;code&gt;aw&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*Law*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Law&lt;/code&gt;, &lt;code&gt;GrokLaw&lt;/code&gt;, or &lt;code&gt;Lawyer&lt;/code&gt;.&lt;/td&gt;
&lt;td&gt;&lt;code&gt;La&lt;/code&gt;, or &lt;code&gt;aw&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;?&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åŒ¹é…ä»»æ„&lt;strong&gt;å•ä¸ª&lt;/strong&gt;å­—ç¬¦&lt;/td&gt;
&lt;td&gt;&lt;code&gt;?at&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Cat&lt;/code&gt;, &lt;code&gt;cat&lt;/code&gt;, &lt;code&gt;Bat&lt;/code&gt; or &lt;code&gt;bat&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;at&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;[abc]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åŒ¹é…æ–¹æ‹¬å·ä¸­çš„ä»»æ„&lt;strong&gt;ä¸€ä¸ª&lt;/strong&gt;å­—ç¬¦&lt;/td&gt;
&lt;td&gt;&lt;code&gt;[CB]at&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Cat&lt;/code&gt; or &lt;code&gt;Bat&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;cat&lt;/code&gt; or &lt;code&gt;bat&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;[a-z]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åŒ¹é…å­—æ¯ã€æ•°å­—åŒºé—´&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Letter[0-9]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Letter0&lt;/code&gt;, &lt;code&gt;Letter1&lt;/code&gt;, &lt;code&gt;Letter2&lt;/code&gt; up to &lt;code&gt;Letter9&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Letters&lt;/code&gt;, &lt;code&gt;Letter&lt;/code&gt; or &lt;code&gt;Letter10&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;çŠ¶æ€ç &#34;&gt;çŠ¶æ€ç &lt;/h3&gt;

&lt;p&gt;å“åº”çš„é»˜è®¤çŠ¶æ€ç æ˜¯ 200ï¼ŒPOST åˆ™æ˜¯ 201ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è£…é¥°å™¨ &lt;code&gt;@HttpCode(204)&lt;/code&gt; æ¥æŒ‡å®š&lt;strong&gt;å¤„ç†å™¨&lt;/strong&gt;çº§åˆ«çš„ é»˜è®¤ HttpCode ä¸º 204&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Post()
@HttpCode(204)
create() {
  return &#39;This action adds a new cat&#39;;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœæƒ³åŠ¨æ€æŒ‡å®šçŠ¶æ€ç ï¼Œå°±è¦ä½¿ç”¨ @Res() è£…é¥°å™¨æ¥æ³¨å…¥å“åº”å¯¹è±¡ï¼ŒåŒæ—¶è°ƒç”¨å“åº”çš„çŠ¶æ€ç è®¾ç½®æ–¹æ³•ã€‚&lt;/p&gt;

&lt;h3 id=&#34;è¯·æ±‚å¤´&#34;&gt;è¯·æ±‚å¤´&lt;/h3&gt;

&lt;p&gt;åŒæ ·çš„æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;@Header()&lt;/code&gt; æ¥è®¾ç½®è‡ªå®šä¹‰çš„è¯·æ±‚å¤´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code&gt;response.header()&lt;/code&gt; è®¾ç½®&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Post()
@Header(&#39;Cache-Control&#39;, &#39;none&#39;)
create() {
  return &#39;This action adds a new cat&#39;;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;è·¯ç”±å‚æ•°&#34;&gt;è·¯ç”±å‚æ•°&lt;/h3&gt;

&lt;p&gt;é€šå¸¸æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€äº›åŠ¨æ€çš„è·¯ç”±æ¥æ¥æ”¶ä¸€äº›å®¢æˆ·ç«¯çš„æŸ¥è¯¢å‚æ•°ï¼Œé€šè¿‡æŒ‡å®šè·¯ç”±å‚æ•°å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ•è·åˆ° URL ä¸Šçš„åŠ¨æ€å‚æ•°åˆ°æ§åˆ¶å™¨ä¸­ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Get(&#39;:id&#39;)
findOne(@Param() params): string {
  console.log(params.id);
  return `This action returns a #${params.id} cat`;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€šè¿‡ä½¿ç”¨ @Param() è£…é¥°å™¨å¯ä»¥åœ¨æ–¹æ³•ä¸­ç›´æ¥è®¿é—®åˆ°è·¯ç”±è£…é¥°å™¨ &lt;code&gt;@Get()&lt;/code&gt; ä¸­çš„çš„å‚æ•°å­—å…¸ï¼Œ:id å°±è¡¨ç¤ºåŒ¹é…åˆ°æ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡å¼•ç”¨ params.id åœ¨æ–¹æ³•ä¸­è®¿é—®åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œå°±åƒå‰é¢å­¦åˆ°çš„å‚æ•°è£…é¥°å™¨ä¹Ÿå¯ä»¥æŒ‡å®šåˆ°å…·ä½“çš„æŸä¸ªå‚æ•°å€¼ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Get(&#39;:id&#39;)
findOne(@Param(&#39;id&#39;) id): string {
  return `This action returns a #${id} cat`;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;è·¯ç”±é¡ºåº&#34;&gt;è·¯ç”±é¡ºåº&lt;/h3&gt;

&lt;p&gt;è·¯ç”±çš„æ³¨å†Œé¡ºåºä¸æ§åˆ¶å™¨ç±»ä¸­çš„&lt;strong&gt;æ–¹æ³•&lt;/strong&gt;é¡ºåºç›¸å…³ï¼Œå¦‚æœä½ å…ˆè£…é¥°äº†ä¸€ä¸ª cats/:id çš„è·¯ç”±ï¼Œåé¢åˆè£…é¥°äº†ä¸€ä¸ª cats è·¯ç”±ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·è®¿é—®åˆ° GET /cats æ—¶ï¼Œåé¢çš„è·¯ç”±å°†ä¸ä¼šè¢«æ•è·ï¼Œå› ä¸ºå‚æ•°æ‰éƒ½æ˜¯&lt;strong&gt;éå¿…é€‰&lt;/strong&gt;çš„ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬äºŒç¯‡ï¼šå…¥é—¨ï¼‰</title>
      <link>https://keelii.com/2019/07/03/nestjs-framework-tutorial-2/</link>
      <pubDate>Wed, 03 Jul 2019 18:32:57 +0800</pubDate>
      
      <guid>https://keelii.com/2019/07/03/nestjs-framework-tutorial-2/</guid>
      <description>

&lt;p&gt;è¿™ç¯‡æ•™ç¨‹èµ·ï¼Œä½ å°†ä¼šå­¦ä¹ åˆ° Nest çš„å‡ ä¸ªæ ¸å¿ƒç‚¹ã€‚ä¸ºäº†æ›´å¥½çš„äº†è§£ Nest åº”ç”¨ä¸­çš„æ¨¡å—ï¼Œæˆ‘ä»¬å°†å¼€å‘ä¸€ä¸ªæœ‰åŸºæœ¬ CRUD&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:Create-Read-Upda&#34;&gt;&lt;a href=&#34;#fn:Create-Read-Upda&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; åŠŸèƒ½çš„å…¥é—¨çº§åº”ç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å®ç°è¯­è¨€&#34;&gt;å®ç°è¯­è¨€&lt;/h2&gt;

&lt;p&gt;Nest æ˜¯ TypeScript å†™çš„ï¼Œæ‰€ä»¥å¤©ç”Ÿå°±å¾ˆå¥½çš„å¹¶ä¸”æ¸è¿›åœ°æ”¯æŒ JavaScriptã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¾èµ–&#34;&gt;ä¾èµ–&lt;/h2&gt;

&lt;p&gt;ä¿è¯ä½ çš„æ“ä½œç³»ç»Ÿä¸Šå®‰è£…çš„ Node.js ç‰ˆæœ¬å¤§äº 8.9.0 å³å¯ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åˆå§‹åŒ–&#34;&gt;åˆå§‹åŒ–&lt;/h2&gt;

&lt;p&gt;å°±åƒä¸ŠèŠ‚è®²åˆ°çš„ç›´æ¥ç”¨ nest new project-name å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬æ¥å›é¡¾ä¸‹ç›®å½•ç»“æ„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;src
â”œâ”€â”€ app.controller.spec.ts
â”œâ”€â”€ app.controller.ts
â”œâ”€â”€ app.module.ts
â”œâ”€â”€ app.service.ts
â””â”€â”€ main.ts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ†åˆ«å¯¹åº”çš„åŠŸèƒ½å¦‚ä¸‹è¡¨ï¼š&lt;/p&gt;

&lt;p&gt;| app.controller.ts | åªæœ‰ä¸€ä¸ªè·¯ç”±çš„æ§åˆ¶å™¨ï¼ˆcontrollerï¼‰ç¤ºä¾‹ |
| app.module.ts | åº”ç”¨ç¨‹åºçš„æ ¹æ¨¡å—ï¼ˆroot moduleï¼‰ |
| main.ts | åº”ç”¨ç¨‹åºçš„å…¥å£æ–‡ä»¶ï¼Œä½¿ç”¨ &lt;code&gt;NestFactory&lt;/code&gt; æ–¹æ³•åˆ›å»ºåº”ç”¨å®ä¾‹ |
åœ¨ main.ts ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤ä½¿ç”¨äº† NestFactory çš„ create() é™æ€æ–¹æ³•è¿”å›åˆ›å»ºçš„åº”ç”¨å¯¹è±¡ï¼Œæ­¤å¯¹åº”ä¼šå®ç° INestApplication æ¥å£ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¹³å°&#34;&gt;å¹³å°&lt;/h2&gt;

&lt;p&gt;Nest çš„ç›®æ ‡æ˜¯ä¸€ä¸ªå¹³å°æ— å…³çš„æ¡†æ¶ã€‚è¿™ä¸ªæ„æ€å°±æ˜¯è¯´ Nest æœ¬èº«å¹¶ä¸é€ æŸä¸ªç»†åˆ†é¢†åŸŸçš„è½®å­ï¼Œä»–åªæ„å»ºä¸€å¥—æ„æ¶ä½“ç³»ï¼Œç„¶åæŠŠä¸€äº›å¥½ç”¨çš„åº“æˆ–è€…å¹³å°èåˆè¿›æ¥ã€‚æ‰€ä»¥ Nest å¯ä»¥è¡”æ¥ä»»ä½• HTTP æ¡†æ¶ï¼Œé»˜è®¤æ”¯æŒ express å’Œ fastify ä¸¤ä¸ª web æ¡†æ¶ã€‚&lt;/p&gt;

&lt;p&gt;| &lt;code&gt;platform-express&lt;/code&gt; | &lt;strong&gt;&lt;a href=&#34;https://expressjs.com/&#34;&gt;Express&lt;/a&gt;&lt;/strong&gt; æ˜¯ä¸€ä¸ª Node web æ¡†æ¶ï¼Œæœ‰å¾ˆå¤šç¤¾åŒºæˆç†Ÿçš„èµ„æºã€‚@nestjs/platform-express é»˜è®¤ä¼šè¢«å¼•å…¥ï¼Œå¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œç”¨èµ·æ¥ä¼šå®¹æ˜“ä¸Šæ‰‹ |
| &lt;code&gt;platform-fastify&lt;/code&gt; | &lt;strong&gt;&lt;a href=&#34;https://www.fastify.io/&#34;&gt;Fastify&lt;/a&gt;&lt;/strong&gt; æ˜¯ä¸€ä¸ªé«˜èƒ½ä½è€—çš„æ¡†æ¶ï¼Œè‡´åŠ›äºæœ€å¤§åŒ–æ•ˆç‡ä¸é€Ÿåº¦ |
æ— è®ºä½¿ç”¨å“ªä¸ªå¹³å°ï¼Œéƒ½è¦æš´éœ²è‡ªå·±çš„åº”ç”¨æ¥å£ã€‚ä¸Šé¢ä¸¤ä¸ªå¹³å°æš´éœ²äº†å¯¹åº”çš„ä¸¤ä¸ªå˜é‡ &lt;code&gt;NestExpressApplication&lt;/code&gt; and &lt;code&gt;NestFastifyApplication&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚ä¸‹çš„ä»£ç ä¼šåˆ›å»ºä¸€ä¸ª app å¯¹è±¡ï¼Œå¹¶ä¸”æŒ‡å®šäº†ä½¿ç”¨ NestExpressApplication å¹³å°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;const app = await NestFactory.create&amp;lt;NestExpressApplication&amp;gt;(ApplicationModule);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸è¿‡ä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦æŒ‡å®šè¿™ä¸ªç±»å‹ã€‚&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:Create-Read-Upda&#34;&gt;Create, Read, Update, Delete é€šå¸¸å¯¹åº”äºæ•°æ®çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:Create-Read-Upda&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬ä¸€ç¯‡ï¼šç®€ä»‹ï¼‰</title>
      <link>https://keelii.com/2019/07/03/nestjs-framework-tutorial-1/</link>
      <pubDate>Wed, 03 Jul 2019 18:31:57 +0800</pubDate>
      
      <guid>https://keelii.com/2019/07/03/nestjs-framework-tutorial-1/</guid>
      <description>

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/30/5d185dfb87f5e21948.png&#34; alt=&#34;Nestjs&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;æ•™ç¨‹ç›®å½•&#34;&gt;++æ•™ç¨‹ç›®å½•++&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;è¯·æ³¨æ„ï¼šæœ¬æ•™ç¨‹ç»“åˆå®˜æ–¹æ–‡æ¡£å†…å®¹å¹¶æ·»åŠ äº†è®¸å¤šæˆ‘è‡ªå·±å­¦ä¹ è¿‡ç§ä¸­çš„ç†è§£ï¼Œå­˜åœ¨è®¸å¤šä¸ªäººè§‚ç‚¹&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ol&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬ä¸€ç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-1-6-30&#34;&gt;ç®€ä»‹&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬äºŒç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-2-6-30&#34;&gt;å…¥é—¨&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬ä¸‰ç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-3-6-30&#34;&gt;æ§åˆ¶å™¨&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬å››ç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-4-6-30&#34;&gt;Providers&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬äº”ç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-5-6-30&#34;&gt;æ¨¡å—&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬å…­ç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-6-6-30&#34;&gt;ä¸­é—´ä»¶&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬ä¸ƒç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-7-6-30&#34;&gt;å¼‚å¸¸è¿‡æ»¤å™¨&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬å…«ç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-8-6-30&#34;&gt;ç®¡é“&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬ä¹ç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-9-6-30&#34;&gt;å®ˆå«&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬åç¯‡ï¼š&lt;a href=&#34;https://wtdf.io/nestjs-framework-tutorial-10-6-30&#34;&gt;æ‹¦æˆªå™¨&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Nestjs æ¡†æ¶æ•™ç¨‹ï¼ˆç¬¬åä¸€ç¯‡ï¼šè‡ªå®šä¹‰è£…é¥°å™¨ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;p&gt;Nest æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆã€å¯æ‰©å±•çš„ Node.js æœåŠ¡ç«¯åº”ç”¨æ¡†æ¶ï¼ŒåŸºäº TypeScript ç¼–å†™å¹¶ä¸”ç»“åˆäº† OOP&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:Object-Oriented&#34;&gt;&lt;a href=&#34;#fn:Object-Oriented&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;ã€FP&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:Functional-Progr&#34;&gt;&lt;a href=&#34;#fn:Functional-Progr&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;ã€FRP&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:Functional-React&#34;&gt;&lt;a href=&#34;#fn:Functional-React&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; çš„ç›¸å…³ç†å¿µã€‚å¹¶ä¸”è®¾è®¡ä¸Šå¾ˆå¤šçµæ„Ÿæ¥è‡ªäº Angular&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:Angular-is-a-pla&#34;&gt;&lt;a href=&#34;#fn:Angular-is-a-pla&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;p&gt;Angular çš„å¾ˆå¤šæ¨¡å¼åˆæ¥è‡ªäº Java ä¸­çš„ Spring æ¡†æ¶ï¼Œä¾èµ–æ³¨å…¥ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ç­‰ï¼Œæ‰€ä»¥ä½ å¯ä»¥è®¤ä¸ºï¼š &lt;strong&gt;Nest æ˜¯ Node.js ç‰ˆçš„ Spring æ¡†æ¶&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æˆ–è®¸å¾ˆå¤šå‰ç«¯å·¥ç¨‹å¸ˆçœ‹åˆ°è¿™é‡Œå°±è‡ªåŠ¨åŠé€€äº†ï¼Œäº‹å®ä¸Šæˆ‘ä»¥å‰ä¹ŸæŒºè®¨åŒ Java çš„ï¼ˆç°åœ¨ä¹Ÿä¸æ€ä¹ˆå–œæ¬¢ï¼‰ï¼Œåæ¥ç”±äºå·¥ä½œåŸå› å­¦ä¹ åˆ°äº†ä¸€äº› Java ç›¸å…³çš„çŸ¥è¯†åæ‰å‘ç°è‡ªå·±çš„è®¤è¯†å¾ˆç‰‡é¢ã€‚ç°åœ¨ WEB åç«¯ä¸»æµçš„æŠ€æœ¯æ ˆéƒ½åŸºäº Spring æ¡†æ¶ï¼Œæ¡†æ¶å¿…ç„¶æ˜¯è§£å†³äº†å¾ˆå¤šå®é™…é—®é¢˜ï¼Œèƒ½å­¦ä¹ åˆ°å®ƒçš„æ€æƒ³æ¯”å®ƒè‡ªå·±çš„å‡ºèº«ã€æ´¾ç³»æ›´é‡è¦ã€‚åŒæ—¶å»ºè®®é‚£äº›æ²¡æœ‰å­¦ä¹ æˆ–è€…æ¥è§¦è¿‡ Java çš„å‰ç«¯å¯ä»¥äº†è§£ä¸€äº›ç›¸å…³æ¦‚å¿µï¼Œä¸è¦æ‹’ç»ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šä¸ºä½ æ‰“å¼€å¦ä¸€æ‰‡é—¨ã€‚&lt;/p&gt;

&lt;p&gt;å¯èƒ½åœ¨å¾ˆå¤šä¼ª FP çˆ±å¥½è€…æ¥çœ‹ OOP æ˜¯è‡ƒè‚¿æ— ç”¨çš„ä¸œè¥¿ã€‚ä½†æ˜¯ä»ä½¿ç”¨è§’åº¦è®²ï¼š&lt;strong&gt;FP å°è€Œç¾ï¼ŒOOP å¤§è€Œå…¨&lt;/strong&gt;ï¼Œå¦‚æœä¸å…³æ³¨åœºæ™¯å»è®¨è®ºå¥½åæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚è€Œä¸”äº‹å®ä¸Šè¿™ä¸¤è€…å®Œå…¨æ˜¯ä¸å†²çªçš„ï¼Œå¯ä»¥ç»“åˆå¾—éå¸¸å®Œç¾ã€‚ä¸è¦è¢«é‚£äº›æ‰€è°“çš„&lt;strong&gt;çº¯&lt;/strong&gt;å‡½æ•°ã€&lt;strong&gt;çº¯&lt;/strong&gt;é¢å‘å¯¹è±¡çš„æ¦‚å¿µè¯¯å¯¼ï¼Œèƒ½å†™å‡ºçœŸæ­£çš„å¥½ä»£ç æ‰æ˜¯é‡è¦çš„ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ ä»¥å‰åœ¨ä½¿ç”¨ Node.js å¼€å‘åç«¯åº”ç”¨æ—¶å¸¸å¸¸ä¸çŸ¥é“å¦‚ä½•è§„åˆ’ä»£ç å…³ç³»ï¼Œæä¸æ¸…æ¥šæ§åˆ¶å™¨ã€æœåŠ¡ã€æ¨¡å‹å’Œæ•°æ®çš„å…³ç³»ï¼Œæˆ–è€…æ˜¯ä½ æ‰“ç®—ä½¿ç”¨ Node.js æ„å»ºå¤§å‹åº”ç”¨ï¼Œé‚£å°±å»ºè®®ä½ äº†è§£ä¸€ä¸‹ Nestã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ¡†æ¶çš„å“²å­¦&#34;&gt;æ¡†æ¶çš„å“²å­¦&lt;/h3&gt;

&lt;p&gt;åœ¨å¼€å§‹ä½“éªŒå‰ï¼Œæœ‰å¿…è¦ç®€å•ä»‹ç»ä¸‹ Nest æ¡†æ¶çš„çš„è®¾è®¡ç†å¿µï¼Œæˆ‘ç»“åˆæˆ‘è‡ªå·±çš„ç†è§£å¤§æ¦‚æ¢³ç†ä¸‹ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;è¿‘å‡ å¹´ç”±äº Node.js çš„å‡ºç°ï¼ŒJavaScript æˆä¸ºäº†å‰ç«¯å’Œåç«¯çš„ã€Œlingua franca&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:-&#34;&gt;&lt;a href=&#34;#fn:-&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;ã€ï¼Œå‰ç«¯æ–¹é¢å‡ºç°äº† Angular, React, Vue ç­‰ä¼—å¤šçš„ UI æ¡†æ¶ï¼Œåç«¯æ–¹é¢ä¹Ÿæœ‰åƒ Express, Koa è¿™æ ·ä¼˜ç§€çš„æ¡†æ¶å‡ºç°ï¼Œä½†è¿™äº›æ¡†æ¶éƒ½æ²¡æœ‰é«˜æ•ˆåœ°è§£å†³ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ â€” &lt;strong&gt;æ¶æ„&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å®˜æ–¹çš„è¿™æ®µä»‹ç»å’Œæˆ‘çœ‹åˆ°çš„éå¸¸ä¸€è‡´ï¼Œæ³¨æ„ä½œè€…è¯´æ˜¯&lt;strong&gt;é«˜æ•ˆåœ°&lt;/strong&gt;è§£å†³ï¼Œæˆ‘çš„ç†è§£æ˜¯ç°åœ¨ Node.js æˆ–è€…è¯´ JavaScript æ¡†æ¶éƒ½æ˜¯å„åšå„çš„ï¼Œéƒ½æ˜¯äº›ç‚¹ï¼Œå¯èƒ½ç¡®å®æœ‰åšçš„å¾ˆä¸é”™çš„ï¼Œä½†æ˜¯æ•´ä½“è€Œè¨€å¹¶æ²¡æœ‰ä¸€ä¸ªæŠŠå„ç§å¥½ä¸œè¥¿ä¸²é“¾èµ·æ¥åšæˆä¸€ç§é€šç”¨æ¨¡å¼çš„æ¡†æ¶ï¼Œæˆ–è€…è¯´æ˜¯æ¶æ„ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªé—®é¢˜ä¸»è¦æœ‰ä¸‰æ–¹é¢åŸå› ï¼šå…¶ä¸€ï¼Œç°åœ¨å¤§å¤šå‰ç«¯å·¥ç¨‹å¸ˆçš„å·¥ä½œèŒƒå›´è¿˜æ˜¯å±€é™äºå‰ç«¯ UI å±‚ï¼Œæˆ–è€…è¯´è§†å›¾å±‚ï¼Œåç«¯ä¸€èˆ¬éƒ½ç”±æ›´åŠ æˆç†Ÿçš„ä¸€æŠ€æœ¯æ ˆæ¥å®ç°ï¼›å…¶äºŒï¼ŒNode.js è¯ç”Ÿäº 2009 å¹´ï¼Œç›¸æ¯”äº 2002 å°±å‘ç¬¬ä¸€ç‰ˆçš„ Spring å·®çš„å¾ˆè¿œï¼›å…¶ä¸‰ï¼ŒNode.js å®é™…ä¸Šå°±æ˜¯ JavaScriptï¼Œè¿™é—¨è¯­è¨€æœ¬èº«ä¹Ÿæœ‰å¾ˆå¤šç¼ºé™·ï¼Œä»¥è‡³äºæ— æ³•èƒœä»»å¤§å‹åº”ç”¨çš„æ¶æ„åœºæ™¯ã€‚&lt;/p&gt;

&lt;p&gt;è™½ç„¶æœ‰è¿™äº›é—®é¢˜ä½†æ˜¯æˆ‘å§‹ç»ˆè®¤ä¸º Nest æ˜¯ä¸ªå¾ˆå¥½çš„å¼€ç«¯ï¼Œæˆ–è€…è¯´å¯¹äºæ‰€è°“çš„ã€Œå…¨æ ˆã€å·¥ç¨‹å¸ˆæ¥è®²æ˜¯ä¸ªå¥½äº‹ã€‚å› ä¸ºæˆ‘è®¤ä¸ºåœ¨å¤§å‹é¡¹ç›®ä¸­æ„æ¶å±‚é¢çš„å¤ç”¨æ¯”ä»£ç å±‚é¢çš„å¤ç”¨æ›´é‡è¦ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;

&lt;p&gt;å®‰è£… Nest æœ€æ–¹ä¾¿çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨å®ƒé¢å¤–æä¾›çš„ä¸€ä¸ª CLI å·¥å…·ï¼ˆéœ€è¦å®‰è£… Node.js &amp;gt; 8.9 ç‰ˆæœ¬ï¼‰ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®ƒå¯ä»¥å¸®ä½ è‡ªå·±ç”Ÿæˆé¡¹ç›®çš„ç›®å½•ç»“æ„å’Œé¢„å®šä¹‰çš„æœ€å°æ¨¡å—ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;npm i -g @nestjs/cli
nest new project-name
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰§è¡Œåå‘½ä»¤è¡Œå¯ä»¥çœ‹è§å®ƒè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;âœ  github.com nest new project-name
âš¡  We will scaffold your app in a few seconds..

CREATE /project-name/.prettierrc (51 bytes)
CREATE /project-name/README.md (3370 bytes)
CREATE /project-name/nest-cli.json (84 bytes)
CREATE /project-name/nodemon-debug.json (163 bytes)
CREATE /project-name/nodemon.json (67 bytes)
CREATE /project-name/package.json (1808 bytes)
CREATE /project-name/tsconfig.build.json (97 bytes)
CREATE /project-name/tsconfig.json (325 bytes)
CREATE /project-name/tslint.json (426 bytes)
CREATE /project-name/src/app.controller.spec.ts (617 bytes)
CREATE /project-name/src/app.controller.ts (274 bytes)
CREATE /project-name/src/app.module.ts (249 bytes)
CREATE /project-name/src/app.service.ts (142 bytes)
CREATE /project-name/src/main.ts (208 bytes)
CREATE /project-name/test/app.e2e-spec.ts (561 bytes)
CREATE /project-name/test/jest-e2e.json (183 bytes)

? Which package manager would you â¤ï¸  to use? yarn
â–¹â–¸â–¹â–¹â–¹ Installation in progress... â˜•
ğŸš€  Successfully created project project-name
ğŸ‘‰  Get started with the following commands:

$ cd project-name
$ yarn run start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ—¶å¯ä»¥æŒ‰æç¤ºï¼Œè¿›å…¥åˆ° &lt;code&gt;project-name&lt;/code&gt; è¿è¡Œé¡¹ç›®ã€‚å¦‚æœçœ‹åˆ°ä¸‹é¢çš„è¾“å‡ºå°±è¡¨ç¤ºæˆåŠŸäº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;âœ  github.com cd project-name
âœ  project-name git:(master) âœ— yarn run start
yarn run v1.10.1
$ ts-node -r tsconfig-paths/register src/main.ts
[Nest] 26470   - 2019/06/30 ä¸‹åˆ8:58   [NestFactory] Starting Nest application...
[Nest] 26470   - 2019/06/30 ä¸‹åˆ8:58   [InstanceLoader] AppModule dependencies initialized +11ms
[Nest] 26470   - 2019/06/30 ä¸‹åˆ8:58   [RoutesResolver] AppController {/}: +5ms
[Nest] 26470   - 2019/06/30 ä¸‹åˆ8:58   [RouterExplorer] Mapped {/, GET} route +3ms
[Nest] 26470   - 2019/06/30 ä¸‹åˆ8:58   [NestApplication] Nest application successfully started +3ms
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åæˆ‘ä»¬è®¿é—® &lt;code&gt;http://localhost:3000&lt;/code&gt; å°±å¯ä»¥çœ‹åˆ° &lt;code&gt;Hello World!&lt;/code&gt; äº†ã€‚ç”¨ç¼–è¾‘å™¨æ‰“å¼€ç›®å½•ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤º&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/30/5d18b3033825c45837.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è‡ªåŠ¨ç”Ÿæˆçš„é…ç½®æ–‡ä»¶è¿˜æ˜¯æŒºå¤šçš„ï¼Œæˆ‘ä»¬ç°åœ¨æš‚ä¸ç”¨å…³æ³¨è¿™äº›ï¼Œåªéœ€è¦çŸ¥é“å¤§æ¦‚æ˜¯åšä»€ä¹ˆçš„å°±è¡Œäº†ã€‚&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢çš„å‘½ä»¤è¡Œä¸­å¯ä»¥çœ‹å‡ºæ¥æ•´ä¸ªé¡¹ç›®æ˜¯ç”¨ ts-node è·‘èµ·æ¥çš„ï¼Œè¿™æ ·çš„ç›®çš„å°±æ˜¯åœ¨å¼€å‘ç¯å¢ƒèŠ‚å»äº†ç¼–è¯‘ .ts çš„è¿‡ç¨‹ï¼ˆå®é™…ä¸Šæ˜¯ ts-node åœ¨èƒŒååšäº†è¿™ä¸ªäº‹æƒ…ï¼‰ã€‚æˆ‘ä»¬åªéœ€è¦å…³æ³¨ &lt;code&gt;src/main.ts&lt;/code&gt; è¿™ä¸ªå…¥å£æ–‡ä»¶å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;æ•´ä¸ª main.ts æ–‡ä»¶å°± 8 è¡Œä»£ç ï¼Œä½¿ç”¨ Nest çš„å·¥å‚å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªåº”ç”¨å®ä¾‹ï¼Œå¹¶ä¸”ç›‘å¬ 3000 ç«¯å£ã€‚æ³¨æ„ï¼ŒNest é»˜è®¤ä¼šä½¿ç”¨ ES çš„ async/await è¯­æ³•ï¼Œæ‰€ä»¥ä½ å†ä¹Ÿä¸ç”¨æ€•åµŒå¥—å›è°ƒå‡½æ•°äº†ï¼Œä»¥åŒæ­¥çš„ç¼–ç æ–¹å¼è·å–å¼‚æ­¥çš„æ•ˆç‡ã€‚&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:Object-Oriented&#34;&gt;Object Oriented Programming â€” é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:Object-Oriented&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:Functional-Progr&#34;&gt;Functional Programming â€” å‡½æ•°å¼çš„ç¼–ç¨‹ &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:Functional-Progr&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:Functional-React&#34;&gt;Functional Reactive Programming â€” å‡½æ•°å¼å“åº”å·¥å¼ç¼–ç¨‹ &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:Functional-React&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:Angular-is-a-pla&#34;&gt;Angular is a platform for building mobile and desktop web applications. &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:Angular-is-a-pla&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:-&#34;&gt;ä¸€ç§æœ¯è¯­ï¼Œè¡¨ç¤ºé€šç”¨è¯­è¨€ &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:-&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>å¤è”4æ˜¯ä¸€é›†ç”µè§†å‰§ï¼Œ3æ‰æ˜¯ä¸€éƒ¨ç”µå½±</title>
      <link>https://keelii.com/2019/06/20/why-avengers-3-is-better-6-7/</link>
      <pubDate>Thu, 20 Jun 2019 19:20:04 -0700</pubDate>
      
      <guid>https://keelii.com/2019/06/20/why-avengers-3-is-better-6-7/</guid>
      <description>

&lt;p&gt;ç›¸ä¿¡å¤è”4çš„çƒ­åº¦ä¹Ÿåº”è¯¥è¿‡äº†ï¼Œä»Šå¤©æˆ‘æ¥èŠå¤©å¤è”4çš„è§‚å½±æ„Ÿå—ä»¥åŠæˆ‘å¯¹æ¼«å¨ç³»åˆ—ç”µå½±çš„ä¸€äº›çœ‹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶æˆ‘å¹¶ä¸æ˜¯ä¸€ååˆæ ¼çš„æ¼«å¨è¿·ï¼Œå¯¹æ¼«å¨ç³»åˆ—ç”µå½±çš„ä¸€äº›ç»†èŠ‚ä¹Ÿä¸æ˜¯å¾ˆäº†è§£ï¼Œæ›´æ²¡çœ‹è¿‡æ¼«ç”»ã€‚æˆ‘åªæƒ³è¯´è¯´åšä¸ºä¸€åæ™®é€šçš„è§‚ç”µå½±è€…çš„æ„Ÿå—ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æˆ‘æ˜¯å¦‚ä½•å–œæ¬¢ä¸Šæ¼«å¨ç”µå½±çš„&#34;&gt;æˆ‘æ˜¯å¦‚ä½•å–œæ¬¢ä¸Šæ¼«å¨ç”µå½±çš„&lt;/h2&gt;

&lt;p&gt;æˆ‘çœ‹çš„ç¬¬ä¸€éƒ¨æ¸©å¨ç”µå½±å°±æ˜¯ã€Šé’¢é“ä¾ ã€‹ï¼Œè®°å¾—è¿˜æ˜¯åœ¨ä¸Šå¤§å­¦çš„æ—¶å€™ã€‚é‚£ç§æ„Ÿè§‰å°±åƒæ˜¯å°æ—¶å€™çœ‹çš„å˜å½¢é‡‘åˆšå˜æˆçœŸäººäº†ã€‚äººä¸æœºå™¨å±…ç„¶èƒ½ç»“åˆçš„é‚£ä¹ˆå¤©è¡£æ— ç¼ï¼Œç®€ç›´é…·æ¯™äº†ã€‚è¿™å…¨è¦å½’åŠŸäºæ‰˜å°¼è¿™ä¸ªè§’è‰²çš„è®¾è®¡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;em&gt;æ‰˜å°¼Â·å²å¡”å…‹æ˜¯ä¸€å&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E4%BC%81%E4%B8%9A%E5%AE%B6&#34; title=&#34;ä¼ä¸šå®¶&#34;&gt;ä¼ä¸šå®¶&lt;/a&gt;ã€å¤©æ‰å‘æ˜å®¶å…¼æåº¦è‡ªæ‹çš„èŠ±èŠ±å…¬å­&lt;/em&gt; â€” å•æ˜¯è¿™æè¿°å°±èƒ½è®©å¤§å¤šæ•°äººæƒŠå¹ä¸å·²äº†ã€‚ä½†æ˜¯ä»–èº«ä¸Šå´æœ‰ç€æ›´é‡è¦çš„ä¸€æ ·ä¸œè¥¿ï¼Œåå¤çœ‹è¿‡å‡ éé’¢é“ä¾ åä½ ä¼šå‘ç°æ‰˜å°¼èº«ä¸Šæœ‰ä¸€ç§&lt;strong&gt;äººç±»ç†æ€§&lt;/strong&gt;çš„é—ªå…‰ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;å›é¡¾æ¯æ¬¡æ‰˜å°¼é¢ä¸´å›°å¢ƒæ—¶ï¼Œä»–ä¼¼ä¹æ€»æ˜¯èƒ½åƒè®¡ç®—æœºä¸€æ ·è¿›è¡Œç²¾ç¡®è®¡ç®—ä»è€Œå¾—å‡ºé—®é¢˜çš„æœ€ä½³è§£å†³æ–¹æ³•ã€‚å³ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ç”¨æœ€å°‘çš„ä»£ä»·ï¼Œè·å–æœ€å¤§çš„æ”¶ç›Š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‰€æœ‰çš„é€»è¾‘åˆ†æ”¯ä»–éƒ½ä¼šè€ƒè™‘è¿›å»ã€‚ä¸ºäº†è¾¾åˆ°æœ€ç»ˆç›®æ ‡ï¼Œä»–å¯ä»¥å¿æ°”åå£°ï¼Œæ”¾ä¸‹ç‰µæŒ‚ã€‚è€Œä¸”ä»–è¿˜æœ‰å¾ˆå¼ºå¤§çš„æ„å¿—åŠ›ï¼Œè¿™ç§èƒ½åŠ›å¯èƒ½å°±æ¥è‡ªäºã€Œwith great power comes great responsibilityã€ã€‚å› ä¸ºä»–è‡ªè§†ç”šé«˜ï¼Œä»–ç›¸ä¿¡è‡ªå·±æ˜¯å¤©æ‰ï¼Œè‡ªå·±æ˜¯è¢«é€‰ä¸­çš„ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ä»–ä¹Ÿæ˜¯æ™®é€šäººï¼Œæœ‰çˆ±ã€æœ‰æ¨ä¹Ÿæœ‰ç½ªè¿‡ã€‚ä½ å¾ˆéš¾æƒ³åƒè¿™æ ·ä¸€ä¸ªæœ‰æœ‰è¡€æœ‰è‚‰çš„å¸¸äººåŒæ—¶ç»“åˆäº†æœºå™¨çš„ä¼˜ç‚¹ã€‚æœ‰äº†é£è¡Œã€æ”»å‡»ã€é˜²å¾¡è¿™äº›ç‰¹æ®ŠæŠ€èƒ½åï¼Œæ‰˜å°¼å°±å¯ä»¥å®Œå…¨æ”¾é£è‡ªå·±ï¼Œå› ä¸ºä»–æƒ³åˆ°çš„ä¸œè¥¿ç«‹é©¬å°±å¯ä»¥åšåˆ°ï¼Œéšç€é¡¶å°–ç§‘å­¦æŠ€æœ¯çš„è¿›åŒ–ä¸æ¢ç©¶ï¼Œæ—¶é—´/ç©ºé—´è¿™äº›ä»¥å‰é™åˆ¶äººç±»çš„ä¸œè¥¿éƒ½æœ‰å¯èƒ½éƒ½ä¼šè¢«æ‰“ç ´ã€‚&lt;/p&gt;

&lt;p&gt;ä»æ‰˜å°¼èº«ä¸Šä½ èƒ½çœ‹åˆ°äººç±»æ€æƒ³çš„ä¸€ç§æ— é™çŠ¶æ€ï¼Œåœ¨ä¸å—ç‰©ç†é™åˆ¶æƒ…å†µä¸‹äººç±»çš„æ€ç»´åˆ›æ„èƒ½è¾¾åˆ°ä»€ä¹ˆæ ·çš„é«˜åº¦ï¼Ÿ&lt;/p&gt;

&lt;p&gt;åœ¨é’¢é“ä¾ ç³»åˆ—å½±ç‰‡ä¸­æˆ‘æœ€å–œæ¬¢çš„ä¸€ä¸ªç‰‡éƒ¨åˆ†å°±æ˜¯é’¢é“ä¾ ç›˜æ—‹å†²ä¸Šå¤©ç©ºçš„é‚£ä¸ªç‰‡æ®µï¼Œè¿™è¿œæ¯”çœ‹ç€èˆªå¤©é£æœºå‡ç©ºçš„æ„Ÿè§‰æ›´åŠ éœ‡æ’¼ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa2db8ddded25755.png&#34; alt=&#34;iron-man-0.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä»¿ä½›å°±æ˜¯å†²ç ´è§„åˆ™çš„æŸç¼šè‡ªç”±è¶…è¶Šçš„ä¸€ç§è±¡å¾&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa2db1a24ec48688.png&#34; alt=&#34;iron-man-03.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/08/5cfb11d89aefc93562.png&#34; alt=&#34;iron-man-01.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;åŒæ—¶ä»–ä¹Ÿæ˜¯ä¸ªæ­£å¸¸äººç±»ï¼Œæœ‰æ„Ÿæƒ…ï¼Œæœ‰çˆ±æ¨&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa2db5eeebe76397.png&#34; alt=&#34;iron-man-04.png&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;å¦‚ä½•è¯„ä»·å¤è”3&#34;&gt;å¦‚ä½•è¯„ä»·å¤è”3&lt;/h2&gt;

&lt;p&gt;å¤è”3æ˜¯ç»§é’¢é“ä¾ ç³»åˆ—ä¹‹åæˆ‘æœ€å–œæ¬¢çš„ä¸€éƒ¨æ¼«å¨ç”µå½±ã€‚å®é™…ä¸Šæˆ‘åœ¨è¯„ä»·ä¸€éƒ¨ç”µå½±çš„æ—¶å€™å¹¶ä¸ä¼šå¤ªåœ¨æ„ä¹‹å‰å‡ éƒ¨çš„è´¨é‡ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºæˆ‘è®¤ä¸ºè¡¡é‡ä¸€éƒ¨å¥½ç”µå½±çš„æ ‡å‡†åº”è¯¥æ˜¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ç»™ä»»ä½•ä¸€ä¸ªäººçœ‹å®Œä¹‹åéƒ½æœ‰æ‰€å—ç›Šå°±æ˜¯ä¸€éƒ¨å¥½ç”µå½±ã€‚è¿™ä¸ªå—ç›Šå¯èƒ½æ˜¯å¨±ä¹å…«å¦ï¼Œå¯èƒ½æ˜¯çˆ±æ¨æƒ…ä»‡ï¼Œä¹Ÿå¯èƒ½æ˜¯è§’è‰²åˆ›æ„æˆ–è€…å½±ç‰‡æœ¬èº«è¦è¡¨è¾¾çš„æŸç§å“²ç†æ€æƒ³&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¹¶ä¸”æˆ‘è®¤ä¸ºæœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯&lt;strong&gt;å½±ç‰‡è¦è¡¨è¾¾çš„æŸç§æ€æƒ³æˆ–è€…å“²ç†&lt;/strong&gt;ï¼Œå› ä¸ºè¿™æ˜¯æœ€èƒ½å¼•å‘äººåæ€çš„ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;p&gt;æ¯«æ— ç–‘é—®ï¼Œå¤è”3ä¸­ç­éœ¸è¿™ä¸ªè§’è‰²æ˜¯æœ‰å²ä»¥æ¥ä¼—å¤šåæ´¾è§’è‰²ä¸­æœ€å‡ºè‰²çš„ä¸€ä¸ªã€‚ç­éœ¸è¢«è®¾è®¡æˆäº†ä¸€ä¸ªå¤–åœ¨ä¸å†…åœ¨éƒ½å¾ˆå¼ºå¤§çš„è§’è‰²ã€‚&lt;/p&gt;

&lt;p&gt;å¤–å½¢ä¸Šç­éœ¸æœ‰ç€æ¯”æ™®é€šä»å¤§çš„å¤šçš„å°ºå¯¸ç”¨ä»¥è‰ºæœ¯ä¸Šçš„å¯¹æ¯”æ•ˆæœã€‚ä»–çš„æ‰‹å¯ä»¥è½»æ¾æŠ“ä½ä¸€ä¸ªäººçš„å¤´éƒ¨ï¼ˆå¼€å¤´æŠ“é›·ç¥çš„å¤´ï¼‰ï¼Œå°ç‰©ä»¶æ”¾åœ¨ä»–æ‰‹é‡Œæœ‰å¾ˆå¼ºçš„è§†è§‰å†²å‡»ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa2f1262fbc14384.png&#34; alt=&#34;thanos-2.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™è®©æˆ‘æƒ³èµ·äº†ã€Šä¸‰å›½å¿—ã€‹ä¸­å¯¹å…¸éŸ¦çš„ä¸€æ®µæå†™ï¼šã€Œå½¢è²Œé­æ¢§ï¼Œæ—…åŠ›è¿‡äººï¼Œæœ‰å¿—èŠ‚ä»»ä¾ ã€‚ä¸€æ‰‹æ‰§å®šæ——æ†ï¼Œç«‹äºé£ä¸­ï¼Œå·ç„¶ä¸åŠ¨â€¦ã€&lt;/p&gt;

&lt;p&gt;åŒæ—¶ç­éœ¸çš„å£°éŸ³ä¹Ÿéå¸¸æœ‰ç‰¹è‰²ï¼Œæ²‰ç¨³ï¼Œå†·é…·ä¸­é€ç€æ­»ä¸€èˆ¬çš„åšå®šã€‚è™½ç„¶å¥³æ€§è§‚ä¼—å¯èƒ½æ›´å–œæ¬¢é›·ç¥æˆ–è€…æ´›åŸºçš„å£°éŸ³ã€‚&lt;/p&gt;

&lt;p&gt;å†…åœ¨æ–¹é¢ä¸»è¦ç”±æ„Ÿæƒ…å’Œä¿¡å¿µç†æƒ³ä¸¤æ¡ä¸»çº¿ï¼š&lt;/p&gt;

&lt;h3 id=&#34;ä¸å¡é­”æ‹‰çš„çˆ¶å¥³äº²æƒ…-æ„Ÿæƒ…çº¿&#34;&gt;ä¸å¡é­”æ‹‰çš„çˆ¶å¥³äº²æƒ…ï¼ˆæ„Ÿæƒ…çº¿ï¼‰&lt;/h3&gt;

&lt;p&gt;è¿™ä¸€æ®µæ˜¯å…¨å‰§ä¸­æˆ‘æœ€å–œæ¬¢çš„ä¸€æ®µï¼Œå‡ ä¹æ²¡æœ‰ä»»ä½•ç‘•ç–µã€‚è¿™ä¸ªä¸åˆ°5åˆ†é’Ÿçš„ç‰‡æ®µï¼Œå¥½å°±å¥½åœ¨æ— è®ºä½ æœ‰æ²¡æœ‰çœ‹è¿‡å‰å‡ éƒ¨ç”šè‡³æ˜¯å•çœ‹è¿™ä¸€æ®µï¼Œæ¯ä¸ªäººéƒ½ä¼šç†è§£åˆ°ã€Œä¸­å¿ƒæ€æƒ³ã€ï¼Œå½“ç„¶è¿™ä¸ªä¸­å¿ƒæ€æƒ³å› äººè€Œå¼‚ã€‚ä¸‹é¢æˆ‘å°±ç®€å•è§£æä¸‹æˆ‘å¯¹è¿™æ®µå‰§æƒ…ç†è§£ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;++Red Skull++ï¼ˆçº¢éª·é«…ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;What you seek lies front of you â€” ä½ æƒ³è¦çš„ä¸œè¥¿å°±åœ¨å‰é¢&lt;/p&gt;

&lt;p&gt;as does what you fear â€” å°±åƒä½ ææƒ§çš„ä¸€æ ·&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa376783bf274270.png&#34; alt=&#34;Red-Skull.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆè¯´ã€Œä½ æƒ³è¦çš„ä¸œè¥¿å°±åœ¨å‰é¢ï¼Œå°±åƒä½ ææƒ§çš„ä¸€æ ·ã€ï¼Œæˆ‘çš„ç†è§£æ˜¯å½“ä¸€ä¸ªäººæƒ³è¦ä¸€æ ·ä¸œè¥¿çš„æ¬²æœ›åˆ°æè‡´çš„æ—¶å€™ï¼Œå°±ä¼šæœ‰ä¸€ç§çŸ›ç›¾ææƒ§ â€” æ€•å¾—ä¸åˆ°ï¼ŒåŒæ—¶ä¹Ÿæ€•å¾—åˆ°ã€‚å¾—ä¸åˆ°æ„å‘³ç€è‡ªå·±çš„æ‰€æœ‰åŠªåŠ›å’Œç‰ºç‰²å°±ç™½è´¹äº†ï¼ŒåŒæ—¶è¶Šä¸å®¹æ˜“å¾—åˆ°çš„ä¸œè¥¿æ€»ä¼šç»™äººä¸€ç§è¶Šå®¹æ˜“ä¸¢å¤±é”™è§‰ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ç¾å¥½çš„ä¸œè¥¿éƒ½åœ¨ä¸€ç¬é—´ï¼Œä¸å®¹æ˜“å¾—åˆ°çš„ä¸œè¥¿ä¸€æ—¦æ‹¥æœ‰å¤±å»ä¹Ÿä¼šå¾ˆå¿«ã€‚å½“ä½ ç»å†è¿‡è¿™ä¸ªè½®å›æ‰ä¼šå‘ç°æ²¡æœ‰ä»€ä¹ˆä¸œè¥¿æ˜¯ç¾å¥½çš„ï¼Œç¾å¥½çš„èƒŒåå¯èƒ½æ˜¯ä½ çœ‹ä¸è§çš„ä¸‘é™‹çš„ç‰ºç‰²ï¼Œæ²¡æœ‰è¿™äº›ä¸‘é™‹çš„ç‰ºç‰²ç¾å¥½ä¹Ÿå¤±å»äº†æ„ä¹‰ã€‚è¿™ä¸€åˆ‡éƒ½åœ¨äºä½ æ˜¯å¦å‡†å¤‡å¥½äº†æ‹¿ç­‰ä»·çš„ç‰ºç‰²å»äº¤æ¢â€¦&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;++Gamora++ï¼ˆå¡é­”æ‹‰ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Whatâ€™s this â€” è¿™æ˜¯ä»€ä¹ˆ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;++Red Skull++ï¼ˆçº¢éª·é«…ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The price â€” ä»£ä»·&lt;/p&gt;

&lt;p&gt;Soul holds a special place among the infinity stones, you might say it has a certain wisdom â€” çµé­‚å®çŸ³åœ¨ä¼—å¤šæ— é™å®çŸ³ä¸­æœ‰ç‰¹æ®Šçš„åœ°ä½ï¼Œæˆ–è€…è¯´æœ‰ä¸€ç§ç‰¹æ®Šçš„æ™ºæ…§&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;++Thanos++ï¼ˆç­éœ¸ï¼‰è¿™é‡Œç­éœ¸è¿˜æ²¡æ„è¯†åˆ°ä»£ä»·æ˜¯ä»€ä¹ˆ&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Tall me what it needs â€” å‘Šè¯‰æˆ‘å®ƒéœ€è¦ä»€ä¹ˆ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;++Red Skull++ï¼ˆçº¢éª·é«…ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;to ensure that whoever possesses it understands its powerâ€¦ ä¸ºäº†ä¿è¯æŒæ‹¥æœ‰å®ƒçš„äººæ˜ç™½å®ƒçš„å¨åŠ›&lt;/p&gt;

&lt;p&gt;the stone demands a sacrifice â€” å®çŸ³éœ€è¦ä¸€æ ·ã€Œç‰ºç‰²ã€&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;++Thanos++ï¼ˆç­éœ¸ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;of what â€” ä»€ä¹ˆ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;++Red Skull++ï¼ˆçº¢éª·é«…ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;in order to take the stone, you must lose that which you love â€” ä¸ºäº†å¾—åˆ°å®çŸ³ï¼Œä½ å¿…é¡»ç‰ºç‰²ä¸€ä»¶ä½ çš„è‡³çˆ±&lt;/p&gt;

&lt;p&gt;a soul for a soul â€” ä¸€ä¸ªçµé­‚æ¢ä¸€ä¸ªçµé­‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ³¨æ„æ­¤æ—¶ç­éœ¸å’Œå¡é­”æ‹‰çš„å¿ƒç†çŠ¶æ€çš„ä¸åŒï¼š&lt;/p&gt;

&lt;p&gt;ç­éœ¸é™·å…¥äº†æ²‰æ€ï¼Œä»–å¯èƒ½åœ¨æ€è€ƒä»€ä¹ˆæ‰ç®—å¾—ä¸Šæ˜¯è‡ªå·±çš„&lt;strong&gt;è‡³çˆ±&lt;/strong&gt;ï¼Œä»–ä¸€ç”Ÿåšçš„äº‹æƒ…å¤ªå¤šï¼Œä½†å›æƒ³èµ·æ¥ä¼¼ä¹è¿è‡ªå·±éƒ½æ‰¾ä¸åˆ°å“ªä»¶äº‹æƒ…èƒ½è¡¨ç°å‡ºä»–çš„&lt;strong&gt;çˆ±&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa30753119d16205.png&#34; alt=&#34;thanos-3.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ­¤æ—¶å¡é­”æ‹‰å†…å¿ƒçªƒå–œï¼Œå› ä¸ºåœ¨å¥¹çœ‹æ¥ç­éœ¸æ²¡æœ‰åŠç‚¹äººæ€§ï¼Œæ›´è°ˆä¸ä¸Š&lt;strong&gt;çˆ±&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa3a0ab768b68906.png&#34; alt=&#34;gemera.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;äºæ˜¯ä»–è¯´äº†ä¸‹é¢è¿™æ®µç°åœ¨çœ‹æ¥å¾ˆæ®‹å¿çš„è¯ï¼š&lt;/p&gt;

&lt;p&gt;++Gamora++ï¼ˆå¡é­”æ‹‰ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;all my life, i dreamed of a dayâ€¦ a momentâ€¦ â€” æˆ‘ä¸€ç”Ÿéƒ½æ¢¦æƒ³æœ‰ä¸€å¤©ï¼Œæ­¤åˆ»â€¦&lt;/p&gt;

&lt;p&gt;when you got what you deserved. and i always so disappointed. â€” æ¯å½“ä½ å¦‚å°æ‰€æ„¿ï¼Œæˆ‘å°±å¯¹ä½ æ¨ä¹‹å…¥éª¨&lt;/p&gt;

&lt;p&gt;But nowâ€¦ â€” ä½†æ˜¯ç°åœ¨â€¦&lt;/p&gt;

&lt;p&gt;you kill and tortureâ€¦ and you call it mercy. â€” ä½ æš´è™æ»¥æ€æ— è¾œâ€¦ ä½ è‡ªè®¸ä»æ…ˆ.&lt;/p&gt;

&lt;p&gt;The universe has judged you. â€” ç°åœ¨è€å¤©ç»ˆäºè¦æƒ©ç½šä½ .&lt;/p&gt;

&lt;p&gt;You asked it for a prize, and it told you no. â€” ä½ æƒ³ç”¨ä¸€ä¸ªæ¡ä»¶æ¢å®çŸ³ï¼Œä½†æ˜¯ä½ ä¸ä¼šç‰¹å‘ˆçš„.&lt;/p&gt;

&lt;p&gt;You failed. â€” è€Œä¸”ä½ å·²ç»è¾“äº†.&lt;/p&gt;

&lt;p&gt;And do you wanna know why? â€” æƒ³çŸ¥é“ä¸ºä»€ä¹ˆå—ï¼Ÿ&lt;/p&gt;

&lt;p&gt;Because you love nothing, no one â€” å› ä¸ºä½ ä»æ¥æ²¡æœ‰çˆ±è¿‡ï¼Œä¸€æ¬¡éƒ½æ²¡æœ‰&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa3def13d1785925.png&#34; alt=&#34;thanos-5.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™æ®µè¯å­—å­—ç ç‘ï¼Œå¼€å§‹æˆ–è®¸ç­éœ¸è¿˜æ²¡æœ‰æ„æ€åˆ°è‡ªå·±è‡³çˆ±åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯æ²¡è¿‡å¤šä¹…ä»–å°±å¼€å§‹æ„è¯†åˆ°è‡ªå·±çš„è‡³çˆ±å°±æ˜¯å¡é­”æ‹‰ï¼Œæ­¤æ—¶çœ¼è§’å·²ç»æœ‰æ³ªç—•ã€‚&lt;/p&gt;

&lt;p&gt;æ­¤æ—¶å‰§æƒ…å·²åˆ°äº†å…³é”®çš„è½¬æŠ˜ç‚¹ï¼Œç­éœ¸çš„èƒŒå½±åˆ™æš—å–»ç€ä¸€ä½çˆ¶äº²çš„é«˜å¤§å½¢è±¡&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa3e3c5f93082010.png&#34; alt=&#34;thanos-6.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;++Thanos++ï¼ˆç­éœ¸ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;No. â€” ä¸.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ³¨æ„æ­¤åˆ»çš„ç­éœ¸è¯´ No çš„è¯­æ°”ï¼Œç»å¯¹ä¸æ˜¯æƒ³å»å¦å®šäº›ä»€ä¹ˆï¼Œè€Œåƒæ˜¯ä¸€ç§å®‰æ…°ã€‚å……æ»¡çˆ±æ„çš„ã€ŒNoã€ï¼Œå¦‚æœä»–æ˜¯å…¶å®ƒè§’è‰²ç›¸ä¿¡åé¢çš„å°è¯éƒ½å‡ºè‡ªåŠ¨å‡ºç°åœ¨æˆ‘ä»¬è„‘å­é‡Œã€ŒNo, my litter gril, i love you more than i can sayâ€¦ã€&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa3e3c25fb821207.png&#34; alt=&#34;thanos-7.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç­éœ¸å®é™…ä¸Šæ˜¯éå¸¸çš„å­¤ç‹¬ï¼Œæ‰€æœ‰ä»–çš„æƒ³æ³•éƒ½ä¸è¢«å‘¨å›´çš„äººè®¤å¯ï¼Œè™½ç„¶ä»–å¼ºå¤§çš„å†…å¿ƒå¯ä»¥å®Œå…¨ä¸åœ¨æ„å¤–äººçš„è¯„åˆ¤ï¼Œä½†æ˜¯ä»–è¿˜åšä¸åˆ°ä¸åœ¨ä¹è‡ªå·±çš„å¥³å„¿å¯¹ä»–çš„è¯„ä»·ã€‚æ‰€ä»¥åå°„æ€§çš„å»å¦å®šå¡é­”æ‹‰ï¼Œä»–éå¸¸åšå®šçš„ç›¸ä¿¡è‡ªå·±æ˜¯çˆ±è‡ªå·±å¥³å„¿çš„ï¼ŒåŒæ—¶ä¹Ÿè¡¨éœ²å‡ºäº†å³å°†è¦å¤±å»å¥³å„¿çš„çœŸæŒšæƒ…æ„Ÿã€‚&lt;/p&gt;

&lt;p&gt;++Gamora++ï¼ˆå¡é­”æ‹‰ï¼‰æ­¤æ—¶çš„å¡é­”æ‹‰è¿˜æ²¡æœ‰ååº”è¿‡æ¥ï¼Œå¥¹è®¤ä¸ºç­éœ¸æ˜¯å› ä¸ºè‡ªå·±çš„è®¡åˆ’æ— æ³•å¾—é€è€Œä¸ºè‡ªå·±æµæ³ªã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Really, tears? â€” çœŸçš„å—ï¼Œä½ ä¹Ÿä¼šä¸ºè‡ªå·±æµæ³ªï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¥¹è¿˜æ²¡æœ‰å‘ç°è‡ªå·±åœ¨æ¨çˆ¶äº²çš„åŒæ—¶å®é™…ä¸Šå¯¹ç­éœ¸ä¹Ÿæ˜¯æœ‰æ„Ÿæƒ…çš„ï¼Œæ­£æ‰€è°“çˆ±ä¹‹æ·±ã€æ¨ä¹‹åˆ‡â€¦&lt;/p&gt;

&lt;p&gt;++Red Skull++ï¼ˆçº¢éª·é«…ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Theyâ€™are not for him. â€” ä»–å¹¶ä¸æ˜¯ä¸ºè‡ªå·±&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa427e13e4589803.png&#34; alt=&#34;thanos-10.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¿˜æ²¡æ¥å¾—åŠååº”ï¼Œçº¢éª·é«…çš„è¯æƒŠé†’äº†å¥¹ï¼ŒåŒæ—¶å¥¹ä¼¼ä¹ä¹Ÿæ„Ÿå—åˆ°äº†å¥¹ä¸ç­éœ¸ä¹‹é—´çš„é‚£ä»½çˆ¶å¥³ä¹‹æƒ…ï¼ˆè„¸è‰²è¡¨æƒ…ä¹Ÿå¼€å§‹å˜åŒ–ï¼Œèµæ¼”æŠ€ï¼‰ï¼ŒçœŸæ­£çš„çˆ±æ°æ°æ˜¯åªèƒ½é€šè¿‡æ„Ÿè§‰è€Œæ¥ï¼Œä¸ç”¨ä»»ä½•è¯­è¨€æ¥è¡¨è¾¾çš„ã€‚&lt;/p&gt;

&lt;p&gt;å†…å¿ƒå·²ç»æ„Ÿè§‰åˆ°äº†è‡ªå·±ä¸ç­éœ¸ä¹‹é—´çš„äº²æƒ…ï¼Œè¿™æ˜¯æ— æ³•å¦å®šçš„ï¼Œæ­¤æ—¶å¥¹ä¹Ÿé™·å…¥äº†æ— åŠ©&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa43e0b722a29444.png&#34; alt=&#34;thanos-11.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è™½ç„¶æ˜¯è¿™æ ·ç†æ™ºè¿˜æ˜¯è®©å¥¹ä¸è‚¯ç›¸ä¿¡è¿™ä¸ªäº‹å®ï¼Œäºæ˜¯å¡é­”æ‹‰ä¹Ÿå¼€å§‹å¦å®šã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;No, this isnâ€™t love â€” ä¸ï¼Œè¿™ä¸æ˜¯çˆ±&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;++Thanos++ï¼ˆç­éœ¸ï¼‰å¾ˆéš¾æƒ³åƒç­éœ¸åœ¨è¿™ä¸€å°æ®µæ—¶é—´å†…ï¼Œå†…å¿ƒæƒ…ç»ªæœ‰å¤šä¹ˆçš„å¤æ‚ã€‚ä»–ç»ˆå…¶ä¸€ç”Ÿæƒ³è¦å®Œæˆçš„äº‹ä¸šå´è¦è®©ä»–å¤±å»è‡³çˆ±ã€‚ä»–æ˜¯ä¸€ä¸ªæ— æ¯”ç†æƒ³åŒ–çš„å­˜åœ¨ï¼Œä¸ºäº†è‡ªå·±çš„ç†æƒ³å¯ä»¥æ”¾å¼ƒä»»ä½•ä¸œè¥¿ï¼Œè€Œä¸”ä»–å·²ç»é”™è¿‡ä¸€æ¬¡å‘½è¿ï¼Œæ‰€ä»¥è¿™æ¬¡ä»–é€‰æ‹©äº†å®Œæˆè‡ªå·±çš„å®¿å‘½ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I ignored my destiny once, i can&amp;rsquo;t do that again, Even for you â€” æˆ‘å·²ç»é”™è¿‡ä¸€æ¬¡å‘½è¿äº†ï¼Œä¸èƒ½å†é”™ä¸€æ¬¡ï¼Œå³ä½¿ä»¥å¤±å»ä½ ä¸ºä»£ä»·&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa4998da76121144.png&#34; alt=&#34;thanos-12.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ­¤æ—¶ç­éœ¸çš„è„¸ä¸Šå®Œæˆæ²¡æœ‰äº†æ¶éœ¸çš„å†·é…·è¡¨æƒ…ï¼Œè€Œæ˜¯ä¸€ç§å¯¹äºå°†è¦å¤±å»è‡³çˆ±çš„æ— åŠ©ä¸å¤±è½â€¦&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa4a2cdcbce18508.png&#34; alt=&#34;thanos-13.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ¥ç€ä»–äº²æ‰‹å°†è‡ªå·±çš„å¥³å„¿ä»ä¸‹æ‚¬å´–ï¼Œä½†æ­¤åˆ»ç­éœ¸çš„è¡¨æƒ…ä¼¼ä¹å‘†ä½äº†ï¼Œå¯èƒ½ä»–è‡ªå·±ä¹Ÿä¸èƒ½ç›¸ä¿¡ä»–è‡ªå·±çš„æ‰€åšæ‰€ä¸º&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa4a56d1b2f91572.png&#34; alt=&#34;thanos-14.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2019/06/07/5cfa4aed84ed566262.png&#34; alt=&#34;thanos-15.png&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;è‡ªå·±çš„ä¿¡å¿µ-ç†æƒ³çº¿&#34;&gt;è‡ªå·±çš„ä¿¡å¿µï¼ˆç†æƒ³çº¿ï¼‰&lt;/h3&gt;

&lt;p&gt;ä¸€ä¸ªä»ä¸è¯´è°çš„äººåªæœ‰ä¸€ç§å¯èƒ½ï¼Œå°±æ˜¯åŠå…¶çš„ç†æƒ³ä¸»ä¹‰ï¼Œåœ¨ä»–ä»¬çš„è®¤çŸ¥é‡Œé¢åªæœ‰çœŸç†ã€å¯¹é”™ä»¥åŠè‡ªå·±çš„ä¿¡å¿µã€‚ä»ç­éœ¸å’Œå¡é­”æ‹‰çš„å¯¹è¯å°±èƒ½çœ‹å‡ºã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;You are strong â€” me&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;re generous â€” me&lt;/p&gt;

&lt;p&gt;But i never taought you to lie&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å½“ç„¶å¤–åœ¨çš„çš„å¼ºå¤§åªæ˜¯é™ªè¡¬ï¼Œä»–èº«ä¸Šæœ€èƒ½æ„ŸæŸ“äººçš„æ˜¯é‚£ç§ä¸æƒœä¸€åˆ‡ä»£ä»·è¿½æ±‚è‡ªå·±ç†æƒ³çš„ä¸€ç§ä¿¡ä»°&lt;/p&gt;

&lt;p&gt;ä»è¿™ä¸ªå±‚é¢æ¥è®²ï¼Œé’¢é“ä¾ å’Œç­éœ¸çš„ä¿¡ä»°æ˜¯å¹³ç­‰çš„ã€‚åœ¨è¿™ä¸ªå±‚é¢ä»–ä»¬ä¹‹é—´æ²¡æœ‰çŸ›ç›¾ï¼Œæ²¡æœ‰æ­£ä¹‰/é‚ªæ¶ ä¹‹åˆ†ã€‚ç†ç”±å¾ˆç®€å•ï¼š&lt;strong&gt;ä½ è®¤ä¸ºæ‹¯æ•‘æ›´å¤šçš„äººç±»æ˜¯ä½ çš„æ­£ç¡®ä¿¡ä»°ï¼Œé‚£æˆ‘è®¤ä¸ºé€šè¿‡éšæœºæ¶ˆç­ä¸€åŠç”Ÿå‘½å¯ä»¥è®©å®‡å®™è¾¾åˆ°ä¸€ç§å¹³è¡¡ä¹Ÿæ˜¯æˆ‘çš„æ­£ç¡®ä¿¡ä»°&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æ‰˜å°¼å’Œç­éœ¸æƒ³è¦ç»´æŠ¤çš„ä¸œè¥¿ä¸åœ¨ä¸€ä¸ªå±‚é¢ä¸Šï¼Œæ‰€ä»¥æ— æ³•åˆ¤æ–­å¯¹æ–¹æ˜¯å¦æ­£ç¡®ã€‚æˆ‘è§‰å¾—å¤è”3ç•™ç»™è§‚ä¼—çš„ä¸€ä¸ªæœ€å¤§çš„é—®é¢˜å°±æ˜¯&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ‰˜å°¼æ‹¯æ•‘åœ°çƒçš„ç†æƒ³æ˜¯ç†æƒ³ï¼Œé‚£ç­éœ¸è¦ç»´æŠ¤å®‡å®™çš„å¹³è¡¡çš„ç†æƒ³ç®—ä¸ç®—æ˜¯ç†æƒ³ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;äººç±»çœ‹å¾…è¿™ä¸ªé—®é¢˜ä¼šå—é™äºè‡ªèº«çš„ç¯å¢ƒï¼Œç†æ€§ä¸Šå—åˆ¶äºæ—¶é—´ç©ºé—´ï¼Œæ„Ÿæ€§ä¸Šå—åˆ¶äºæ„Ÿæƒ…ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªé—®é¢˜ä¸Šå¤šæ•°äººè¿åˆ¤æ–­çš„èµ„æ ¼éƒ½æ²¡æœ‰&lt;/p&gt;

&lt;p&gt;ç¬¬3éƒ¨åœ¨æˆ‘çœ‹æ¥æ˜¯è¿™ä¸€ä¸ªå·¨å¤§çš„åˆ‡å…¥ç‚¹ï¼Œå¹¶æœŸå¾…ç¬¬4éƒ¨èƒ½æœ‰æ‰€è§£é‡Š&lt;/p&gt;

&lt;h2 id=&#34;å›å¤´å†çœ‹å¤è”4&#34;&gt;å›å¤´å†çœ‹å¤è”4&lt;/h2&gt;

&lt;p&gt;ä»…è¿‡äº†ä¸€å¹´ï¼Œæˆ‘å¸¦ç€æœŸå¾…å»çœ‹äº†å¤è”4ï¼Œä½†å¹¶æ²¡æœ‰è¾¾åˆ°æˆ‘çš„é¢„æœŸã€‚å› ä¸ºå¤§å®¶éƒ½äº†æŠŠå¤è”å½“æˆäº†ä¸€éƒ¨ç”µè§†å‰§åœ¨çœ‹ã€‚ç”µå½±æœ¬èº«ä¹Ÿå‡ ä¹æ²¡æœ‰äº†ç”µå½±çš„å…ƒç´ ï¼Œé™¤äº†å„ç§è¶…çº§è‹±é›„çš„æ¢—å¤–æˆ‘å®åœ¨æ²¡çœ‹å‡ºæ¥æœ‰ä»€ä¹ˆäº®ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;è¿™å¯èƒ½ä¹Ÿç¬¦åˆäº†äº‹ç‰©å‘å±•çš„è§„å¾‹ï¼Œå½“æœ‰å¤ªå¤šäººå–œæ¬¢ä¸€æ ·ä¸œè¥¿ã€è¿½æ±‚ä¸€æ ·ä¸œè¥¿çš„æ—¶å€™äº‹æƒ…å°±å˜å‘³å„¿äº†ï¼Œæ¯•ç«Ÿç”µå½±å…¬å¸åšä¸ºå•†ä¸šæœºæ„æ˜¯è¦ç»´æŠ¤è‡ªå·±çš„å“ç‰Œï¼Œè¦ç…§é¡¾å¤šæ•°äººçš„æƒ…æ„Ÿã€‚å°±å¥½æ¯”ç”µè§†å‰§æ¼”ä¹…äº†è§‚ä¼—å°±ä¼šæœ‰äº†å¿ƒç†é¢„æœŸï¼Œå¾ˆéš¾åˆ›æ–°ä¸€æ ·ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯å¤è”4åšä¸º MCU ç”µå½±çš„æ ‡è‡´æ€§é˜¶æ®µï¼Œä¹Ÿç®—æ˜¯ä¸€ä¸ªå¥½çš„ç»“å°¾ï¼Œæ¯•ç«Ÿè¦ç…§é¡¾åˆ°å¤šæ•°çš„äººå–œå¥½ï¼ŒåŒæ—¶è¦èåˆå„ç§è‹±é›„äººç‰©çš„ç¦»åœºï¼Œè¿˜è¦æ¼”çš„ä¸é‚£ä¹ˆç”Ÿç¡¬ç¡®å®å¤ªéš¾äº†ã€‚&lt;/p&gt;

&lt;p&gt;æ€»çš„æ¥è¯´ï¼Œå¤è”3æ‚è€Œä¸ä¹±ï¼Œä¸»çº¿æ”¯çº¿æ˜æ˜¾ï¼Œå½±ç‰‡æ•´ä½“æœ‰å±‚æ¬¡æ„Ÿï¼Œå‰§æƒ…ç´§å‡‘è¿ç»­æ¼”å‘˜çš„æ¼”æŠ€ä¹Ÿéå¸¸æ£’ã€‚å¤è”4åˆ™æ˜¯è®©æ‰€æœ‰æ™®é€šçš„æ¯ä¸€ä¸ªäººï¼ˆç±»ï¼‰éƒ½äº«å—åˆ°äº†ä¸€ç§èƒœåˆ©çš„å–œæ‚¦ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¹Ÿè®¸ Markdown å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½é€‰æ‹©</title>
      <link>https://keelii.com/2019/06/06/md-maybe-not-good-enough/</link>
      <pubDate>Thu, 06 Jun 2019 18:31:57 +0800</pubDate>
      
      <guid>https://keelii.com/2019/06/06/md-maybe-not-good-enough/</guid>
      <description>

&lt;p&gt;æˆ‘ç»å¸¸ä¼šä½¿ç”¨ markdown æ¥å†™ä¸€äº›ä¸œè¥¿ã€‚æ¯”å¦‚ï¼šåšå®¢æ–‡ç« ã€æŠ€æœ¯æ–‡æ¡£ä»€ä¹ˆçš„ã€‚ä½†æ˜¯æ—¶é—´é•¿äº†æ€»æ˜¯ä¼šè§‰å¾—ç¼–è¾‘ Markdown æºç çš„æ–¹å¼å¤ªå®¹æ˜“è®©äººåˆ†å¿ƒäº†ã€‚&lt;/p&gt;

&lt;p&gt;Markdown ç¡®å®æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„&lt;strong&gt;é€šç”¨&lt;/strong&gt;æ’ç‰ˆæ ¼å¼ï¼Œå› ä¸ºå®ƒå¾ˆç®€å•ï¼Œå­¦ä¹ ä½¿ç”¨èµ·æ¥æ²¡æœ‰é—¨æ§›ã€‚ä½†æ˜¯éšç€äººä»¬è¶Šæ¥è¶Šå¤šçš„ä½¿ç”¨ Markdown åˆ›ä½œï¼ŒMarkdown æœ¬èº«çš„ä¸€äº›é—®é¢˜ä¹Ÿæ˜¾éœ²å‡ºæ¥ã€‚æ¯”å¦‚ï¼šå½“ä½ éœ€è¦ä¸€äº›é«˜çº§æ’ç‰ˆæ ¼å¼çš„æ—¶å€™ Markdown æ˜¯æ— èƒ½ä¸ºåŠ›çš„ï¼Œæ›´ä¸ç”¨è¯´è¡¨æ ¼ç¼–è¾‘è¿™ç±»é‡æ’ç‰ˆçš„å·¥ä½œåœ¨ Markdown ä¸­çš„ç¼–è¾‘ä½“éªŒäº†ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶å¼€æºç¤¾åŒºä¼šæœ‰ä¸€äº›å¼€æºé¡¹ç›®æ¥æ‰©å±• Markdown çš„åŠŸèƒ½ï¼Œç”šè‡³æ˜¯ç”¨ Markdown æ¥ç”»æµç¨‹å›¾ã€‚è¿™ä¸”æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œé—®é¢˜æ˜¯å½“ä½ ä½¿ç”¨äº†ä¸€äº›æ‰©å±•çš„é«˜çº§åŠŸèƒ½æ—¶åˆæƒ³æŠŠä»–æ‰©å±•åˆ°å…¶å®ƒç³»ç»Ÿï¼ˆæ¯”å¦‚åšå®¢ï¼‰ï¼Œè¿™æ—¶ä½ åˆä¸å¾—ä¸æ”¹é€ åšå®¢æ¥é€‚é…è¿™äº›åŠŸèƒ½ï¼ŒMarkdown ä¹Ÿå°±ä¸§å¤±äº†å®ƒçš„ä¾¿æºæ€§ã€‚æ‰€ä»¥è¯´ä½¿ç”¨ Markdown çš„å…³é”®é—®é¢˜åœ¨äºï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚ä½•èƒ½æ›´ç®€å•æ–¹ä¾¿çš„ä½¿ç”¨ Markdownï¼ŒåŒæ—¶åˆä¸å¤±ä¸€äº›å¥½ç”¨çš„åŠŸèƒ½&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;å¦‚ä½•è§£å†³ç¼–è¾‘çš„ä½“éªŒé—®é¢˜&#34;&gt;å¦‚ä½•è§£å†³ç¼–è¾‘çš„ä½“éªŒé—®é¢˜&lt;/h4&gt;

&lt;p&gt;ç¼–è¾‘æ’ç‰ˆæœ€ä½³çš„ä½“éªŒæ¯«æ— ç–‘é—®æ˜¯ã€Œ&lt;strong&gt;æ‰€è§å³æ‰€å¾—&lt;/strong&gt;ã€çš„æ¨¡å¼ã€‚å› ä¸ºäººä»¬æ€»æ˜¯å–œæ¬¢æ”¹å®Œä¸œè¥¿ç«‹å³çœ‹è§æ•ˆæœã€‚ç›®å‰å¸¸ç”¨çš„ Markdown ç¼–è¾‘å™¨é€šå¸¸åˆ†å·¦å³ä¸¤åˆ—ï¼š++æºç ++ ï½œ ++é¢„è§ˆ++ã€‚å®é™…ä¸Šæˆ‘è®¤ä¸ºè¿™ç§æ¨¡å¼å¹¶ä¸å¥½ï¼Œç”šè‡³æ˜¯é”™çš„ã€‚å› ä¸ºæ•´ä¸ªç¼–è¾‘è¿‡ç¨‹ä¼šéå¸¸ç—›è‹¦ï¼Œä½ ä¸å¾—ä¸æ—¢å…³æ³¨æºç é‡Œé¢çš„æ ¼å¼ï¼Œå¦‚ï¼šç©ºæ ¼ã€Markdown ç¬¦å·ï¼Œè¿˜å¾—å…³æ³¨é¢„è§ˆå‡ºæ¥çš„æ•ˆæœæ˜¯ä¸æ˜¯æ»¡æ„ç„¶åå†è°ƒæ•´ã€‚&lt;/p&gt;

&lt;p&gt;ç›¸æ¯”ä¹‹ä¸‹ &lt;a href=&#34;https://typora.io/&#34;&gt;Typora&lt;/a&gt; ç»™å‡ºäº†ç¨å¥½ä¸€äº›çš„ä½“éªŒæ–¹æ¡ˆ â€” &lt;strong&gt;å¯Œæ–‡æœ¬çš„ç¼–è¾‘æ¨¡å¼ +&lt;/strong&gt; &lt;strong&gt;Markdown æºæ ¼å¼&lt;/strong&gt;ã€‚è¿™åº”è¯¥ä¹Ÿæ˜¯ç›®å‰ Markdown æœ€å¥½çš„ç¼–è¾‘æ–¹å¼äº†ï¼Œä½†æ˜¯åœ¨æˆ‘çœ‹æ¥è¿˜æ˜¯ä¸å¤Ÿå¥½ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘è‡ªå·±åœ¨ä¹¦å†™ Markdown æ–‡ä»¶çš„æ—¶é—´ä¼šéå¸¸æ³¨æ„æ ¼å¼æ’ç‰ˆï¼Œæ¯”å¦‚ï¼šæ ‡ç‚¹ç¬¦å·ï¼Œä¸­è‹±æ–‡ç©ºæ ¼ï¼Œåˆ†è¡Œç•™ç™½ç­‰ï¼ŒTypora çš„ç¼–è¾‘æ¨¡å¼å¹¶ä¸èƒ½è®©æˆ‘å…äºè¿™æ ·çš„å›°æ‰°ï¼Œæˆ‘è¿˜æ˜¯ä¸å¾—ä¸å…³æ³¨ Markdown çš„é‚£äº›ç¬¦å·ï¼Œè¿™äº›ç¬¦å·å°±åƒå¬éŸ³ä¹æ—¶çš„è€³æœºé‡Œé¢çš„ã€Œæ‚éŸ³ã€ä¸€æ ·ã€‚å½“ä½ ä¸“æ³¨äºå†™ä½œï¼Œä¸€å£æ°”å†™ä¸‹ä¸Šåƒå­—çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“å°±ä¼šè¢«è¿™ç§æ‚éŸ³æ‰“æ–­ï¼Œçµæ„Ÿè½¬ç¬å³é€â€¦&lt;/p&gt;

&lt;h4 id=&#34;å¦‚ä½•æ·»åŠ ä¸€äº›åŠŸèƒ½ç‰¹æ€§&#34;&gt;å¦‚ä½•æ·»åŠ ä¸€äº›åŠŸèƒ½ç‰¹æ€§&lt;/h4&gt;

&lt;p&gt;è¿™ä¸ªé—®é¢˜æˆ‘è®¤ä¸ºä¸åº”è¯¥ç»™ Markdown æ‰©å±•åŠŸèƒ½ï¼Œå› ä¸ºæ‰©å±• Markdonw åªèƒ½é€šè¿‡&lt;strong&gt;æ·»åŠ æ›´å¤šç¬¦å·&lt;/strong&gt;çš„å½¢å¼å®ç°ã€‚è€Œè¿™ä¼šå¢åŠ å®ƒçš„å¤æ‚åº¦ï¼Œæœ€ç»ˆè®© Markdown æ ¼å¼å˜çš„&lt;strong&gt;ä¸å¯äº¤æ¢&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å„ç§ç¼–è¾‘æ–¹å¼æŒ‰åŠŸèƒ½å¼ºå¤§çš„æ’åºåº”è¯¥æ˜¯ï¼šMakrdown &amp;lt; å¯Œæ–‡æœ¬ &amp;lt; Wordã€‚å¤æ‚çš„åŠŸèƒ½åº”è¯¥ç”±åé¢ä¸¤ç§å·¥å…·æ¥èƒœä»»ï¼ŒMarkdown å¯ä»¥åšä¸ºä¸€ç§æ ¼å¼ä¸Šçš„çº¦å®šã€‚é‡åŠŸèƒ½ä¸éœ€è¦å®ƒæ¥å®ç°ï¼Œæ¯”å¦‚ç¼–è¾‘è¡¨æ ¼çš„ä½“éªŒåœ¨ Markdown é‡Œç®€ç›´å°±æ˜¯ç¾éš¾ï¼Œä½†æ˜¯åœ¨å¯Œæ–‡æœ¬æˆ–è€… Word ä¸­å´å¼‚å¸¸ç®€å•ã€‚è¿™å°±åƒæ˜¯ Markdown åº”è¯¥åšä¸º++æ¥å£++æ¥å®šä¹‰ä¸€äº›è§„èŒƒï¼Œè€Œä¸åº”è¯¥è®©å®ƒå»å…³å¿ƒå…·ä½“++å®ç°++ã€‚&lt;/p&gt;

&lt;h4 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h4&gt;

&lt;p&gt;æ—¢ç„¶å¦‚æ­¤é‚£æœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼ˆå¹¿å‘Šé¢„è­¦ï¼‰ã€‚æˆ‘æ­£åœ¨å¼€å‘ä¸€æ¬¾åŸºäºç½‘é¡µçš„ WYSIWYG&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:What-You-See-Is&#34;&gt;&lt;a href=&#34;#fn:What-You-See-Is&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; å¯Œæ–‡æœ¬ç¼–è¾‘å™¨åº”ç”¨ï¼Œå¹¶è¯•ç€è§£å†³ä¸Šé¢çš„è¿™äº›é—®é¢˜ï¼Œè§£å†³ Markdown é—®é¢˜çš„åŒæ—¶åˆèƒ½è·å¾—å¯Œæ–‡æœ¬ç¼–è¾‘çš„ä¼˜è´¨ä½“éªŒï¼Œä¸»è¦é¢å‘æœ‰å†™ä½œå’Œç¼–è¾‘æ–‡ç« /ç¬”è®°éœ€æ±‚çš„ç”¨æˆ·ã€‚å¦‚æœä½ ä¹Ÿåˆšå¥½æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œä¸å¦¨è¯•è¯•ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;//wtdf.io&#34;&gt;wtdf.io&lt;/a&gt; â€” åŸºäºç½‘é¡µçš„æ‰€è§å³æ‰€å¾— Markdown å†™ä½œåº”ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:What-You-See-Is&#34;&gt;What You See Is What You Get â€” ä¸­è¯‘ã€Œæ‰€è§æ‰€å¾—ã€ &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:What-You-See-Is&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>é€‰æ‹©å¤ªå¤šæ‰€ä»¥è¿·å¤±æ–¹å‘</title>
      <link>https://keelii.com/2019/03/24/choice-leads-lose/</link>
      <pubDate>Sun, 24 Mar 2019 19:20:04 -0700</pubDate>
      
      <guid>https://keelii.com/2019/03/24/choice-leads-lose/</guid>
      <description>&lt;p&gt;å‰å‡ å¤©æ— æ„åœ¨å¾®åšä¸Šçœ‹è§äº†ã€Šæµæµªæ±‰æ²ˆå·è‡ªè¿°ã€‹ä¸€æ–‡ï¼Œæ­¤æ–‡æ¥è‡ªä¸€ä¸ªä¸Šæµ·çš„æµæµªæ±‰è¯­å½•ã€‚&lt;/p&gt;

&lt;p&gt;ä¸åŒçš„æ˜¯ä»–å¹¶ä¸æ˜¯ä¸ºäº†ç”Ÿè®¡è€Œæµæµªæ¡ç ´çƒ‚ï¼Œæ²ˆå·ä»å°å–œæ¬¢æ¡ç ´çƒ‚ï¼Œæ¡å®Œç ´çƒ‚æ¢äº†é’±ä¹°ä¹¦çœ‹ã€‚å®¶åº­ç¯å¢ƒä¸ç†è§£æ›´ä¸æ”¯æŒï¼Œåˆ°äº†ç¤¾ä¼šä¸Šï¼Œä»–æœ¬æ¥å¯ä»¥æŒ‰å¤§å¤šæ•°äººçœ¼ä¸­çš„ &lt;strong&gt;æ­£å¸¸&lt;/strong&gt; äººä¸€æ ·å·¥ä½œï¼Œä¸€è¾ˆå­å½“å…¬åŠ¡å‘˜ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ä»–è¿˜æ˜¯æ”¹ä¸äº†è‡ªå·±æ¡ç ´çƒ‚çš„ä¹ æƒ¯ï¼Œè¿™æ ·ä»¥æ¥å•ä½ä¹Ÿå®¹ä¸ä¸‹ä»–ã€‚æƒ³æ³•å®Œå…¨ä¸ä¸ä¸»æµèåˆï¼Œåªèƒ½è¢«æµæµªã€‚å¯ä»¥å³ä¾¿æ˜¯è¿™æ ·ï¼Œåœ¨çœ‹å®ƒçš„æ–‡å­—é‡Œï¼Œä½ ä»ç„¶èƒ½æ„Ÿå—åˆ°å­—é‡Œè¡Œé—´éƒ½æ•£å‘ç€å¯¹ç”Ÿæ´»çš„æ— é™å‘å¾€ï¼Œå¯¹ä¿¡å¿µçš„è¿½æ±‚ï¼Œä»¥åŠå¯¹æ®‹é…·ç°å®çš„ä¸€ä¸æ¸©æŸ”ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äººè¯´æ•…äº‹åˆ†ä¸¤ç§ï¼šä¸€ç§å¼€å§‹å°±è®²ç»™ä½ æœ€ç¾å¥½çš„ä¸œè¥¿ï¼Œæœ€å®Œç¾æ— ç¼ºçš„äº‹ç‰©ï¼Œäººæ€§æœ€å–„è‰¯çš„éƒ¨åˆ†ã€‚åæ¥æ…¢æ…¢çš„ä»€ä¹ˆéƒ½å˜äº†ï¼Œä»¥å‰é‚£äº›çœ‹ä¼¼ç¾å¥½çš„ä¸œè¥¿éƒ½æœ‰äº†ç‘•ç–µï¼Œäººæ€§ä¹Ÿæ²¡èƒ½ç»å¾—ä½æ—¶é—´çš„è€ƒéªŒï¼Œæ‰€æœ‰çš„è®¤è¯†éƒ½æ”¯ç¦»ç ´ç¢ï¼›è¿˜æœ‰ä¸€ç§ä¸€å¼€å§‹å°±å‘Šè¯‰ä½ æœ€ä¸‘æ¶çš„ä¸œè¥¿ï¼Œæœ€è®©äººæ¶å¿ƒã€éš¾å—çš„äº‹ç‰©ï¼Œäººæ€§æœ€é»‘æš—çš„ä¸€é¢ã€‚åæ¥æ…¢æ…¢çš„ä¹Ÿä¼¼ä¹å˜äº†ï¼Œä¸ç»æ„çš„å‘ç°å¥½åƒè¿˜æœ‰é‚£ä¹ˆä¸€ä¸å…‰æ˜çš„ä¸œè¥¿ï¼Œä¸€ç‚¹ç‚¹èƒ½è®©äººæ„ŸåŠ¨çš„äº‹æƒ…ã€‚&lt;/p&gt;

&lt;p&gt;å‰ä¸€ç§æ›´åƒæ˜¯ä»æ•™ç§‘ä¹¦åˆ°ç°å®çš„ä¸€ç§è¿‡ç¨‹ï¼Œå¯èƒ½å¾ˆå¤šäººæ…¢æ…¢çš„éƒ½å—ä¸äº†è¿™ç§è½å·®ï¼Œé€æ¸æ²¡æœ‰äº†ç²¾ç¥æ”¯æŸ±ï¼ŒåŒæ¶äº†ç”Ÿæ´»ã€‚åä¸€ç§åˆ™çœ‹ä¼¼æ‚²è§‚ã€åé¢ï¼Œå®åˆ™èƒ½æ¿€å‘å‡ºäººä»¬æœ¬èƒ½å–„è‰¯çš„ä¸€é¢ã€‚&lt;/p&gt;

&lt;p&gt;è¿™è®©æˆ‘æƒ³èµ·äº†ä¸€å¥è¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;äººä¸æ˜¯æ´»ä¸€è¾ˆå­ï¼Œä¸æ˜¯æ´»å‡ å¹´å‡ æœˆå‡ å¤©ï¼Œè€Œæ˜¯æ´»é‚£ä¹ˆå‡ ä¸ªç¬é—´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¯¹äºæ²ˆå·æ¥è¯´ï¼Œç¤¾ä¼šå’Œå®¶åº­ç»™ä»–çš„éƒ½æ˜¯æ’æ–¥ã€å¦è®¤å’Œå¼‚æ ·çš„çœ¼å…‰ã€‚ä½†æ˜¯å¯èƒ½ä»–å°±åªèƒ½ä»ä¹¦ä¸­æ‰¾åˆ°äº†é‚£ä¹ˆä¸€ä¸å…‰æ˜ï¼Œä¸€äº›è®©è‡ªå·±æ„ŸåŠ¨çš„ç¬é—´å§ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥åæ€ä¸‹æˆ‘ä»¬çš„ç°å®ç”Ÿæ´»ã€‚ç°å®ä¸­æˆ‘ä»¬æ€»æ˜¯è¯´ã€Œè‡ªå·±æ²¡æœ‰é€‰æ‹©ï¼Œæˆ‘ä¸å¾—ä¸è¿™æ ·ã€æ²¡æœ‰é€€è·¯â€¦ã€ã€‚ä½†äº‹å®ä¸ŠçœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿæˆ–è®¸æ­£æ˜¯å› ä¸ºæˆ‘ä»¬æ‹¥æœ‰çš„å¤ªå¤šæ‰è®©è‡ªå·±æ²¡æ³•é€‰æ‹©ã€‚&lt;/p&gt;

&lt;p&gt;äººæ˜¯å¾ˆå¥‡æ€ªçš„ï¼Œå½“ä½ æŸå¤©æ²¡æœ‰åŠ ç­ï¼Œå·¥ä½œå®Œæˆåæ—©æ—©å›å®¶åçªç„¶å‘ç°å±…ç„¶è¿˜æœ‰å¾ˆå¤šæ—¶é—´å¯ä»¥å®‰æ’ã€‚è¿™æ—¶å€™ä½ ä¼šæƒ³åšå¾ˆå¤šäº‹æƒ…ï¼šç©æ‰‹æœºã€ç¡è§‰ã€å¥½å¥½åšé¡¿é¥­ã€çœ‹éƒ¨ç”µå½±â€¦&lt;/p&gt;

&lt;p&gt;ä½†å½“ä½ çœŸæ­£çš„é¢ä¸´å¾ˆå¤šç§é€‰æ‹©æ—¶ï¼Œè‡ªå·±ä¼šå»æƒè¡¡ã€‚å¯èƒ½è‡ªå·±ç²¾ç¥ä¸Šå¾ˆéœ€è¦æ”¾æ¾ä¸€ä¸‹ï¼Œéœ€è¦å¨±ä¹ä¸€ä¸‹ã€‚ä½†æ˜¯ç†æ™ºåˆå‘Šè¯‰ä½ åº”è¯¥åšä¸€äº›ã€Œæœ‰æ„ä¹‰ã€çš„äº‹æƒ…ã€‚æœ€ç»ˆå¯èƒ½ä¸€ä»¶äº‹éƒ½æ²¡åšå¥½ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ—¶å€™å…¶å®ä½ éœ€è¦ç”¨ &lt;strong&gt;è‚‰ä½“æ“çºµç²¾ç¥&lt;/strong&gt;ï¼Œä¸è¦æƒ³ï¼Œå…ˆå»åšã€‚å› ä¸ºå®é™…ä¸Šå½“ä½ æŒç»­ä¸“æ³¨çš„åšä¸€ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œç²¾ç¥ä¸Šä¼šç‰¹åˆ«æ”¾æ¾ï¼Œä½ ä¸éœ€è¦å†è€ƒè™‘é‚£ä¹ˆå¤šçš„é€‰æ‹©ï¼Œåªéœ€è¦Â *åƒæœºå™¨*Â ä¸€æ ·å»åšå¥½ä¸€ä»¶äº‹æƒ…ã€‚&lt;/p&gt;

&lt;p&gt;äººæ€»æ˜¯å¯ä»¥é€šè¿‡åšäº‹æƒ…æ¥è®©è‡ªå·±çš„ &lt;strong&gt;å†…å¿ƒå˜çš„å®‰ç¨³&lt;/strong&gt;ã€‚æˆ‘æ›¾ç»æ— æ„ä¸­å¬åˆ°ä¸¤äººå¥³ç”ŸèŠå¤©ï¼Œå…¶ä¸­ä¸€ä¸ªå¥³ç”Ÿè¯´&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æˆ‘ç‰¹åˆ«å–œæ¬¢æ´—è¡£æœï¼Œå› ä¸ºå½“æˆ‘ç‰¹åˆ«ä¸“æ³¨çš„æŠŠè¡£æœæ´—å¹²å‡€çš„æ—¶å€™ï¼Œé‚£ç§æ„Ÿè§‰ç‰¹åˆ«å®‰é™ï¼Œè™½ç„¶éœ€è¦ä½ è€—è´¹ä¸€äº›ä½“åŠ›ï¼Œä½†æ˜¯æ´—å®Œåä½ çš„å†…å¿ƒä¼šæœ‰ä¸€ç§è§£è„±ï¼Œä¸€ç§å¦‚é‡Šé‡è´Ÿçš„æ„Ÿè§‰â€¦&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘å¬åˆ°è¿™æ®µèŠå¤©çš„æ—¶å€™æ˜¯ç‰¹åˆ«æƒŠè®¶çš„ï¼ŒåŸè¯ç‰¹åˆ«æœ‰æ„ŸæŸ“åŠ›ã€‚åæ¥æˆ‘å‘ç°äº†è¿™ç§æ„Ÿè§‰å°±åƒæ˜¯æˆ‘å¹³å¸¸å†™ä»£ç ä¸€æ ·ï¼Œä¸€å†™èµ·ä»£ç ï¼Œå°±å¾ˆä¸“æ³¨ï¼Œä¼¼ä¹èƒ½å¿˜è®°æ—¶é—´ã€‚å½“ä½ è§£å†³äº†ä¸€ä¸ªé—®é¢˜ï¼Œå®Œæˆäº†ä¸€ä¸ªåŠŸèƒ½æ¨¡å—çš„æ—¶å€™é•¿å‘¼ä¸€å£å¸ã€ä¼¸ä¸ªæ‡’è…°ï¼Œç¬é—´æ„Ÿè§‰ç‰¹åˆ«æ»¡è¶³ã€‚å³ä½¿å›åˆ°ç°å®ä¸­ä½ è¿˜å¾—é¢ä¸´å¾ˆå¤šå¤æ‚çš„äº‹æƒ…ï¼Œä½†åœ¨è¿™ä¸€æ—¶åˆ»ä½ æ˜¯è‡ªç”±çš„ã€‚&lt;/p&gt;

&lt;p&gt;åæ¥æˆ‘ä¹Ÿç†è§£äº†é‚£å¥ Nike ç»å…¸å¹¿å‘Šè¯­ã€ŒJust do itã€çš„æ·±åˆ»æ¶µä¹‰ï¼Œå½“ç„¶è¿™å’Œæˆ‘é€‰æ‹©åš IT è¡Œä¸šæ˜¯ä¸¤ç äº‹ã€‚&lt;/p&gt;

&lt;p&gt;å›¾ï¼š&lt;a href=&#34;https://www.pexels.com/photo/abstract-bright-color-dark-397998/&#34;&gt;https://www.pexels.com/photo/abstract-bright-color-dark-397998/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä½¿ç”¨ Pixi.js æ„å»ºä¸€ä¸ªè§†å·®æ»šåŠ¨å™¨ï¼ˆç¬¬ä¸‰ç¯‡ï¼‰</title>
      <link>https://keelii.com/2019/03/19/building-a-parallax-scroller-with-pixijs-cn-3/</link>
      <pubDate>Tue, 19 Mar 2019 19:20:04 -0700</pubDate>
      
      <guid>https://keelii.com/2019/03/19/building-a-parallax-scroller-with-pixijs-cn-3/</guid>
      <description>

&lt;h2 id=&#34;ç¿»è¯‘å¯¹ç…§&#34;&gt;ç¿»è¯‘å¯¹ç…§&lt;/h2&gt;

&lt;p&gt;åŸæ–‡ï¼š
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=5226&#34;&gt;PART 1&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=5666&#34;&gt;PART 2&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=6496&#34;&gt;PART 3&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=7046&#34;&gt;PART 4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¯‘æ–‡ï¼š
&lt;a href=&#34;https://keelii.com/2019/03/16/building-a-parallax-scroller-with-pixijs-cn-1/&#34;&gt;ç¬¬ä¸€ç¯‡&lt;/a&gt;ãƒ»
&lt;a href=&#34;https://keelii.com/2019/03/17/building-a-parallax-scroller-with-pixijs-cn-2/&#34;&gt;ç¬¬äºŒç¯‡&lt;/a&gt;ãƒ»
&lt;a href=&#34;https://keelii.com/2019/03/19/building-a-parallax-scroller-with-pixijs-cn-3/&#34;&gt;ç¬¬ä¸‰ç¯‡&lt;/a&gt;ãƒ»
ç¬¬å››ç¯‡&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;å…³æ³¨Â &lt;a href=&#34;https://twitter.com/intent/follow?screen_name=chriscaleb&#34;&gt;@chriscaleb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç³»åˆ—çš„æ•™ç¨‹å·²ç»æ›´æ–°åˆ°äº†Â &lt;a href=&#34;http://www.pixijs.com/&#34;&gt;PixiJS v4&lt;/a&gt; ç‰ˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¢è¿å†æ¬¡æ¥åˆ°è¿™ä¸ªç³»åˆ—æ•™ç¨‹çš„ç¬¬ä¸‰éƒ¨åˆ†ï¼Œè¿™ä¸€èŠ‚å°†ä¼šæ¶‰åŠåˆ°å¦‚ä½•ä½¿ç”¨ pixi.js åˆ¶ä½œè§†å·®æ»šåŠ¨æ¸¸æˆçš„åœ°å›¾ã€‚æ•´ä¸ªæ•™ç¨‹åˆ°ç›®å‰ä¸ºæ­¢å·²ç»æ¶µç›–äº†å¾ˆå¤šå†…å®¹ã€‚åœ¨ç¬¬ä¸€ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸€äº› pixi.js åŸºç¡€çŸ¥è¯†ï¼Œå¹¶å°†è§†å·®æ»šåŠ¨åº”ç”¨äºå‡ ä¸ªå±‚ä¸Šã€‚åœ¨ç¬¬äºŒéƒ¨åˆ†ï¼Œé€šè¿‡ä»£ç é‡æ„å°†ä¸€äº›é¢å‘å¯¹è±¡çš„æ¦‚å¿µåº”ç”¨åˆ°å®è·µä¸­ã€‚è¿™ä¸€èŠ‚æˆ‘ä»¬å°†æŠŠé‡ç‚¹æ”¾åœ¨ç¬¬ä¸‰ä¸ªæ›´å¤æ‚çš„è§†å·®å±‚ä¸Šï¼Œå®ƒå°†ä»£è¡¨ç©å®¶è§’è‰²åœ¨æ¸¸æˆæ—¶å°†ä¼šç©¿è¶Šçš„åœ°å›¾ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ä½ å°†å­¦åˆ°ä»€ä¹ˆ&#34;&gt;ä½ å°†å­¦åˆ°ä»€ä¹ˆâ€¦&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;å¦‚ä½•å¤„ç†çº¹ç†ï¼ˆtexturesï¼‰å’Œç²¾çµè¡¨ï¼ˆsprites sheetï¼‰&lt;/li&gt;
&lt;li&gt;å¯¹è±¡æ±  çš„åŸºç¡€&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;é¢„å¤‡çŸ¥è¯†&#34;&gt;é¢„å¤‡çŸ¥è¯†â€¦&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;pixi.js åŸºç¡€&lt;/li&gt;
&lt;li&gt;äº†è§£ JavaScript æˆ–è€… ActionScript çš„åŸºç¡€çŸ¥è¯†&lt;/li&gt;
&lt;li&gt;å¯¹é¢å‘å¯¹è±¡æœ‰åŸºæœ¬çš„æ¦‚å¿µ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘ä»¬å°†ç»§ç»­ä»ä¸Šä¸€ä¸ªæ•™ç¨‹ç»“æŸçš„åœ°æ–¹å¼€å§‹ã€‚ä½ å¯ä»¥ä½¿ç”¨å‰ä¸¤ä¸ªæ•™ç¨‹ç¼–å†™çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥ä» &lt;a href=&#34;https://github.com/ccaleb/pixi-parallax-scroller/tree/master/tutorial-2&#34;&gt;GitHub&lt;/a&gt; ä¸‹è½½ç¬¬äºŒä¸ªæ•™ç¨‹çš„æºä»£ç ã€‚ä¹Ÿå¯ä»¥åœ¨ GitHubä¸Š æ‰¾åˆ°ç¬¬ä¸‰èŠ‚å®Œæ•´æ•™ç¨‹çš„ &lt;a href=&#34;https://github.com/ccaleb/pixi-parallax-scroller/tree/master/tutorial-3&#34;&gt;æºä»£ç &lt;/a&gt;ï¼Œå³ä½¿ä½ é‡åˆ°äº†é—®é¢˜ï¼Œæˆ‘ä¹Ÿé¼“åŠ±ä½ å®Œæˆæœ¬æ•™ç¨‹ï¼Œæœ‰ç–‘é—®å¯ä»¥è¯·ä»…å‚è€ƒæºä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç³»åˆ—çš„æ•™ç¨‹éå¸¸å—åˆ°Â &lt;a href=&#34;http://www.adamatomic.com/canabalt/&#34;&gt;Canabalt&lt;/a&gt;Â å’ŒÂ &lt;a href=&#34;https://chrome.google.com/webstore/detail/monster-dash/cknghehebaconkajgiobncfleofebcog?hl=en&#34;&gt;Monster Dash&lt;/a&gt; æ¸¸æˆçš„å¯å‘ï¼Œå½“ç©å®¶çš„è‹±é›„åœ¨å¹³å°ä¹‹é—´å¥”è·‘å’Œè·³è·ƒæ—¶ï¼Œè¿™äº›æ¸¸æˆéƒ½èƒ½å¾ˆå¥½åœ°åˆ©ç”¨è§†å·®æ»šåŠ¨æ¥æä¾›èŠ±å“¨çš„è§†è§‰æ•ˆæœã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æ¥ä¸‹æ¥çš„ä¸¤èŠ‚æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªéå¸¸ç±»ä¼¼äº Monster Dash ä¸­çš„æ»šåŠ¨æ¸¸æˆåœ°å›¾ã€‚ Monster Dash çš„æ¸¸æˆåœ°å›¾æ˜¯ç”±ä¸€ç³»åˆ—ä¸åŒå®½åº¦å’Œé«˜åº¦çš„ç –å—å„¿æ„å»ºè€Œæˆã€‚æ¸¸æˆçš„ç›®çš„æ˜¯é€šè¿‡åœ¨ç –å—å„¿ä¹‹é—´è·³è·ƒæ¥å°½å¯èƒ½é•¿åœ°ç”Ÿå­˜ã€‚æ¸¸æˆåœ°å›¾çš„æ»šåŠ¨é€Ÿåº¦éšç€æ—¶é—´çš„æ¨ç§»è€Œå¢åŠ ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.yeahbutisitflash.com/pixi-parallax-scroller/final/index.html&#34;&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t1/25206/13/10616/142679/5c887df7E7c1fa38a/eab39f5f7ab1cc6d.png&#34; alt=&#34;ps-tut1-screenshot1&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šé¢å°±æ˜¯ä½ è¿™ä¸€èŠ‚å°†è¦å®Œæˆçš„ç¤ºä¾‹ã€‚å•å‡»å›¾ç‰‡å³å¯æŸ¥çœ‹åŒ…å«ç –å—å„¿å’Œé—´éš™çš„æ»šåŠ¨åœ°å›¾ã€‚&lt;/p&gt;

&lt;h2 id=&#34;èµ·æ­¥&#34;&gt;èµ·æ­¥&lt;/h2&gt;

&lt;p&gt;å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ç¬¬ä¸€èŠ‚å’Œç¬¬ä¸€èŠ‚æ•™ç¨‹ï¼Œæˆ‘å»ºè®®ä½ åº”è¯¥å…ˆçœ‹å®Œè¿™ä¸¤èŠ‚ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æœ¬èŠ‚æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€äº›æ–°çš„å›¾ç‰‡ç´ æã€‚å¯ä»¥ç›´æ¥ä» &lt;a href=&#34;www.yeahbutisitflash.com/pixi-parallax-scroller/tutorial-3/resources.zip&#34;&gt;è¿™é‡Œ&lt;/a&gt; ä¸‹è½½ï¼Œå¹¶å°†å…¶å†…å®¹è§£å‹ç¼©åˆ°é¡¹ç›®çš„ resource æ–‡ä»¶å¤¹ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢å°±æ˜¯ä½ çš„Â &lt;code&gt;resource&lt;/code&gt;Â æ–‡ä»¶å¤¹çš„æ ·å­ï¼ˆWindowsï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img11.360buyimg.com/devfe/jfs/t1/31697/16/6353/53328/5c8e01e2E14bc1c7b/d5701c262078bc35.png&#34; alt=&#34;ps-tut3-screenshot1&#34; /&gt;&lt;/p&gt;

&lt;p&gt;macOS ä¸‹åˆ™æ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img20.360buyimg.com/devfe/jfs/t1/25309/3/11322/64214/5c8e01f7Ed95812be/fa19f72e6cc3b5e7.png&#34; alt=&#34;ps-tut3-screenshot2&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ­¤å¤–ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰å»ºç«‹ä¸€ä¸ªæœ¬åœ°çš„ web æœåŠ¡å™¨ï¼Œè¯·å‚è€ƒç¬¬ä¸€èŠ‚çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæœ¬æ•™ç¨‹æ¯”å‰ä¸¤ç¯‡é•¿ã€‚ä½ å¯èƒ½éœ€è¦å¤§çº¦ä¸¤ä¸ªå°æ—¶æ‰èƒ½å®Œæˆæ‰€æœ‰å·¥ä½œã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ¸¸æˆåœ°å›¾&#34;&gt;æ¸¸æˆåœ°å›¾&lt;/h2&gt;

&lt;p&gt;æ­£å¦‚ä¸Šé¢çš„æ¼”ç¤ºä¸­å±•ç¤ºçš„é‚£æ ·ï¼Œæˆ‘ä»¬çš„æ¸¸æˆåœ°å›¾æœ‰å¾ˆå¤šç§å±•ç¤ºå½¢å¼ã€‚å¦‚ç –å—å„¿çš„å®½åº¦å’Œé«˜åº¦å„ä¸ç›¸åŒã€‚æ¯ä¸ªè·¨åº¦è¿˜åŒ…æ‹¬ä¸€ç³»åˆ—çª—æˆ·å’Œå¢™å£è£…é¥°å…ƒç´ ã€‚å¢™å£è£…é¥°æœ¬èº«ç”±ç®¡é“å’Œé€šé£å£ç»„æˆã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆå¢™è·¨åº¦æ˜¯å¦‚ä½•æ„å»ºçš„ï¼Ÿæ¯ä¸ªè·¨åº¦éƒ½æ˜¯ç”±ä¸€ç³»åˆ—æ‹¼æ¥åœ¨ä¸€èµ·çš„å‚ç›´åˆ‡ç‰‡æ„æˆçš„ã€‚æ¯ä¸ªåˆ‡ç‰‡çš„å¤§å°ä¸º 64 x 256 åƒç´ ã€‚ä¸‹å›¾æ˜¾ç¤ºäº†ç¤ºä¾‹ç –å—å„¿ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img20.360buyimg.com/devfe/jfs/t1/11199/10/12039/18165/5c8e031aE2a8746ce/c51ef91aeebd739b.png&#34; alt=&#34;diagram-1&#34; /&gt;&lt;/p&gt;

&lt;p&gt;é€šè¿‡å‚ç›´ç§»åŠ¨æ¯ä¸ªåˆ‡ç‰‡çš„ä½ç½®æ¥å¤„ç†ç –å—å„¿çš„é«˜åº¦ã€‚ä¸‹é¢çš„ç¤ºæ„å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒä¸ªé¢å¢™çš„åˆ‡ç‰‡éƒ¨åˆ†ä½äºè§†å£çš„å¯è§åŒºåŸŸä¸‹æ–¹ï¼ˆè¯‘è€…ï¼šè¶…å‡ºè§†å£ï¼‰ï¼Œä½¿å…¶çœ‹èµ·æ¥ä½äºç¬¬ä¸€é¢å¢™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img14.360buyimg.com/devfe/jfs/t1/28702/23/11291/23279/5c8e047aE0dc68c77/08ba190fd4f5f08b.png&#34; alt=&#34;diagram-2&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¤§å¤šæ•°æƒ…å†µï¼Œä¸€è€Œå¢™å†…çš„æ¯ä¸ªåˆ‡ç‰‡å°†ä¼šæ˜¯æ°´å¹³å¯¹é½çš„ã€‚ä½†æœ‰ä¸€ä¸ªä¾‹å¤–ã€‚ Monster Dash æœ‰ä¸€ä¸ªé˜¶æ¢¯å¼çš„è·¨åº¦ï¼Œè®©ç©å®¶å¯ä»¥ç›´æ¥è·Œè½åˆ°ä¸‹ä¸€ä¸ªæ°´å¹³çº¿ä¸Šã€‚ä»¥ä¸‹æ˜¯å®ƒçš„æ„é€ æ–¹å¼ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img13.360buyimg.com/devfe/jfs/t1/14544/9/11325/22909/5c8e0484E33aa7b33/c2b3b720df1d69a1.png&#34; alt=&#34;diagram-3&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ ä»”ç»†è§‚å¯Ÿä¸Šé¢çš„ç¤ºæ„å›¾ï¼Œä½ åº”è¯¥æ³¨æ„åˆ°è¿™é‡ŒçœŸæ­£çš„æ˜¯å¢™é¢æœ‰ä¸¤ä¸ªï¼ˆç¬¬ä¸€ä¸ªè·¨åº¦é«˜äºç¬¬äºŒä¸ªï¼‰ï¼Œå®ƒä»¬é€šè¿‡ä¸­é—´çš„ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆå°é˜¶ï¼‰è¿æ¥èµ·æ¥ã€‚&lt;/p&gt;

&lt;p&gt;ä½ å¯èƒ½ä¼šæƒŠè®¶åœ°å‘ç°æˆ‘ä»¬çš„æ•´ä¸ªæ¸¸æˆåœ°å›¾åªç”±å…«ç§ä¸åŒç±»å‹çš„å‚ç›´åˆ‡ç‰‡æ„æˆï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img11.360buyimg.com/devfe/jfs/t1/18163/12/11214/22059/5c8e053aE742a81ce/3fe250596cbb7bab.png&#34; alt=&#34;diagram-4&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™äº›åˆ‡ç‰‡çš„é¡ºåºå¾ˆé‡è¦ã€‚æˆ‘ä»¬å†æ¥è°ˆè°ˆè¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åˆ†è§£ç –å—å¢™&#34;&gt;åˆ†è§£ç –å—å¢™&lt;/h2&gt;

&lt;p&gt;ä¸€é¢ç –å—å¢™åŒ…æ‹¬ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;å‰è¾¹ç¼˜&lt;/li&gt;
&lt;li&gt;ä¸­é—´éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;åè¾¹ç¼˜&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å‰/åè¾¹ç¼˜éƒ½åªç”±ä¸€ä¸ªå‚ç›´åˆ‡ç‰‡è¡¨ç¤ºã€‚ç„¶è€Œï¼Œä¸­é—´éƒ¨åˆ†å¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ‡ç‰‡åˆ¶æˆã€‚åˆ‡ç‰‡è¶Šå¤šï¼Œå¢™è·¨åº¦å°±è¶Šé•¿ã€‚æˆ‘ä»¬å°†åˆ¶ä½œä¸€é¢æœ‰ 30 ä¸ªåˆ‡ç‰‡çš„ç –å—å¢™ã€‚ä¸‹å›¾å¯ä»¥è§£é‡Šç –å—å¢™çš„ä¸‰å¤§éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img20.360buyimg.com/devfe/jfs/t1/26701/4/11364/142241/5c8e0660E36cd06e7/61bb2ce4e0f7b003.png&#34; alt=&#34;diagram-5&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¢™çš„ä¸­é—´éƒ¨åˆ†åªæœ‰ä¸‹é¢ä¸¤ç§åˆ‡ç‰‡ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;çª—å£ï¼ˆwindowï¼‰&lt;/li&gt;
&lt;li&gt;è£…é¥°ï¼ˆdecorationï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å› æ­¤æ•´ä¸ªå¢™çš„ä¸­é—´éƒ¨åˆ†é•¿åº¦ä¸º 6ï¼Œç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;window, decoration, window, decoration, window, decoration
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶è€Œï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œç –å—å¢™çš„ä¸­é—´éƒ¨åˆ†æ˜¯éå¶æ•°ä¸ªåˆ‡ç‰‡æ‰èƒ½ä¿è¯å‡ºç°çš„å®¹å™¨å³æœ‰äº®ç¯çš„ä¹Ÿæœ‰ç­çš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ 7 ä¸ªåˆ‡ç‰‡æ¥åˆ¶ä½œä¸­é—´éƒ¨åˆ†&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;window, decoration, window, decoration, window, decoration, window
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸ºäº†ä¿è¯ç –å—å¢™å°½å¯èƒ½çœ‹èµ·æ¥æœ‰è¶£ï¼Œçª—æˆ·å¯ä»¥ç‚¹äº®æˆ–ä¸ç‚¹äº®ï¼Œæˆ‘ä»¬å¯ä»¥éšæœºé€‰æ‹©ä¸‰ç§è£…é¥°åˆ‡ç‰‡ã€‚å› æ­¤ï¼Œå¢™çš„ä¸­é—´éƒ¨åˆ†å°†ç”±äº”ç§ä¸åŒç±»å‹çš„åˆ‡ç‰‡æ„æˆã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†å¢åŠ æ›´å¤šçš„åˆ‡ç‰‡ç§ç±»ï¼Œæˆ‘ä»¬ä»ç –å—å¢™çš„è¾¹ç¼˜ç´ æä¸­ï¼ˆä¸¤ä¸ªï¼‰é€‰æ‹©ä¸¤ä¸ªåˆ‡ç‰‡åšä¸ºå‰åè¾¹ç¼˜ï¼ˆè¯‘è€…ï¼šè¾¹ç¼˜ç´ ææœ‰ä¸¤ä¸ªï¼Œå¯ä»¥éšæœºé€‰ä¸€ä¸ªåšå‰è¾¹ç¼˜ï¼Œç„¶åç¿»è½¬å®ƒåšæˆåè¾¹ç¼˜ï¼Œä½†æ˜¯ä¸èƒ½ä¸€ä¸ªåšå‰ä¸€ä¸ªåšåï¼Œç¤ºæ„å›¾ä¸­çš„ front &amp;amp; back å’Œå›¾ç‰‡æ²¡æœ‰å¯¹åº”å…³ç³»ï¼‰ï¼Œåè¾¹ç¼˜ä¹Ÿå¯ä»¥ä½¿ç”¨åŒæ ·çš„å‰è¾¹ç¼˜ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦æŠŠå®ƒï¼ˆå‰è¾¹ç¼˜ï¼‰æ°´å¹³ç¿»è½¬ç„¶åæ­£ç¡®åœ°æ‹¼æ¥åˆ°åè¾¹ç¼˜å³å¯ã€‚å°é˜¶åˆ‡ç‰‡å¾ˆå°‘ä¼šå‡ºç°ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç”¨ä¸€ä¸ªåˆ‡ç‰‡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img13.360buyimg.com/devfe/jfs/t1/26044/20/11490/360476/5c8f0047Ec7d99a6b/b226b682c6da3a9f.png&#34; alt=&#34;diagram-6-1024x531&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ä¸Šé¢çš„ç´ æï¼Œå•ç‹¬æ”¾åœ¨ä¸€ä¸ªæµè§ˆå™¨ tab é‡Œé¢ï¼Œå¯ä»¥æ–¹ä¾¿åˆ¶ä½œæ—¶æŸ¥çœ‹å®ƒã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ä¸è¦å°†åˆ‡ç‰‡ &lt;strong&gt;ç±»å‹&lt;/strong&gt; ä¸ç”¨äºæ„å»ºæŒ‡å®šç –å—å¢™çš„åˆ‡ç‰‡æ•°æ··æ·†ã€‚ä¾‹å¦‚ï¼Œä¸€é¢ç –å—å¢™å¯ä»¥æœ‰ 30 ä¸ªå‚ç›´åˆ‡ç‰‡ï¼Œä½†å®é™…ä¸Šåªç”± 8 ç±»åˆ‡ç‰‡æ„å»ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç°åœ¨ä½ å·²ç»äº†è§£äº†ç –å—å¢™æ˜¯å¦‚ä½•æ„å»ºçš„ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å®ç°å®ƒäº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç²¾çµè¡¨-sprite-sheet&#34;&gt;ç²¾çµè¡¨ï¼ˆSprite sheetï¼‰&lt;/h2&gt;

&lt;p&gt;å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬çš„ç –å—å¢™ç”±å…«ç§ä¸åŒç±»å‹çš„ç –å—æ„æˆã€‚è¡¨ç¤ºè¿™äº›åˆ‡ç‰‡çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä¸ºæ¯ä¸ªåˆ‡ç‰‡æä¾›å•ç‹¬çš„ PNGæ–‡ä»¶ã€‚è™½ç„¶è¿™æ˜¯ä¸€ç§åŠæ³•ï¼Œä½†æˆ‘ä»¬å®é™…ä¸Šä¼šå°†æ‰€æœ‰åˆ‡ç‰‡æ·»åŠ åˆ°ä¸€ä¸ªç§°ä¸º &lt;strong&gt;ç²¾çµè¡¨&lt;/strong&gt; çš„å¤§å‹ PNG æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ç²¾çµè¡¨é€šå¸¸ä¹Ÿç§°ä¸º &lt;strong&gt;çº¹ç†å›¾é›†ï¼ˆtexture atlas&lt;/strong&gt;ï¼‰Â ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨ &lt;strong&gt;ç²¾çµè¡¨&lt;/strong&gt;Â è¿™ä¸ªæœ¯è¯­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘åœ¨æœ¬æ•™ç¨‹çš„ resources.zip æ–‡ä»¶ä¸­æä¾›äº†ç²¾çµè¡¨ã€‚è¿™æ˜¯ä¸€ä¸ªåä¸º &lt;code&gt;wall.png&lt;/code&gt; çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚æ‰€æœ‰å…«ä¸ªåˆ‡ç‰‡éƒ½å·²æ‰“åŒ…åˆ°ä¸€ä¸ªä½å›¾ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img14.360buyimg.com/devfe/jfs/t1/16841/31/11340/23788/5c8f02ecEcdd940cb/a38fb14d2958229f.png&#34; alt=&#34;sprite-sheet&#34; /&gt;&lt;/p&gt;

&lt;p&gt;èµ„æºæ–‡ä»¶å¤¹ä¸­è¿˜æœ‰ä¸€ä¸ªä¸ç²¾çµè¡¨å¯¹åº”çš„ &lt;code&gt;wall.json&lt;/code&gt; æ–‡ä»¶ã€‚å¯ä»¥ç›´æ¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ã€‚æ­¤æ–‡ä»¶ä½¿ç”¨ JSON æ•°æ®æ ¼å¼æ¥å®šä¹‰ç²¾çµè¡¨ä¸­å•ç‹¬ä½å›¾åˆ‡ç‰‡çš„åç§°å’Œä½ç½®ã€‚ä½¿ç”¨ç²¾çµè¡¨æ—¶ï¼Œè¡¨ä¸­çš„æ¯ä¸ªå•ç‹¬çš„ä½å›¾ç§°ä¸º &lt;strong&gt;å¸§&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬çš„æ•´ä¸ªç²¾çµè¡¨å°†ä½œä¸ºçº¹ç†åŠ è½½åˆ°ä»£ç ä¸­ï¼ˆä¸­é—´å±‚å’Œè¿œæ™¯å›¾å±‚ä¹Ÿè¿™ä¹ˆåŠ è½½è¿‡ï¼‰ã€‚å› æ­¤ï¼Œæœ‰æ—¶ä¼šå°†æ¡†æ¶è§†ä¸ºå­çº¹ç†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¹¶ä¸éœ€è¦å®Œå…¨ç†è§£ JSON æ–‡ä»¶ï¼Œå› ä¸º Pixi å°†å¤„ç†å®ƒã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æ¢ç´¢ä¸€ä¸‹æ­£åœ¨ä½¿ç”¨çš„è¿™ä¸ªæ–‡ä»¶ã€‚ä¸‹é¢è¿™æ®µæ˜¯æ¥è‡ª JSON æ•°æ®ä¸­çš„ä¸€æ®µï¼Œè¡¨ç¤ºç¬¬ä¸€ä¸ªå¢™è¾¹åˆ‡ç‰‡çš„æ¡†æ¶ã€‚æˆ‘å·²ç»ä¸ºé«˜äº®äº†ä¸€äº›ä»£ç è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot;edge_01&amp;quot;: // é«˜äº®
{
  &amp;quot;frame&amp;quot;: {&amp;quot;x&amp;quot;:128,&amp;quot;y&amp;quot;:0,&amp;quot;w&amp;quot;:64,&amp;quot;h&amp;quot;:256},// é«˜äº®
  &amp;quot;rotated&amp;quot;: false,
  &amp;quot;trimmed&amp;quot;: false,
  &amp;quot;spriteSourceSize&amp;quot;: {&amp;quot;x&amp;quot;:0,&amp;quot;y&amp;quot;:0,&amp;quot;w&amp;quot;:64,&amp;quot;h&amp;quot;:256},
  &amp;quot;sourceSize&amp;quot;: {&amp;quot;w&amp;quot;:64,&amp;quot;h&amp;quot;:256}
},
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¬¬ä¸€è¡ŒåŒ…å«ä¸æ¡†æ¶å…³è”çš„ &lt;strong&gt;å”¯ä¸€åç§°&lt;/strong&gt;ï¼ˆ&lt;code&gt;edge_01&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot;edge_01&amp;quot;:
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¯å½“æˆ‘ä»¬æƒ³è¦ä»ç²¾çµè¡¨ä¸­ç›´æ¥è·å–è¿™ä¸ªå¢™åˆ‡ç‰‡çš„å›¾åƒæ—¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ­¤åç§°ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚æœä½ ä¸ç†Ÿæ‚‰ JSON æ•°æ®æ ¼å¼ï¼Œåˆ™å¯ä»¥åœ¨æ­¤ &lt;a href=&#34;https://zh.wikipedia.org/zh-cn/JSON&#34;&gt;Wikipedia æ¡ç›®&lt;/a&gt; ä¸­æ‰¾åˆ°æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸‹ä¸€ä¸ªé«˜äº®è¡Œä»£ç å®šä¹‰äº†æ¡†æ¶çš„çŸ©å½¢åŒºåŸŸï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot;frame&amp;quot;: {&amp;quot;x&amp;quot;:128,&amp;quot;y&amp;quot;:0,&amp;quot;w&amp;quot;:64,&amp;quot;h&amp;quot;:256},
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ¬è´¨ä¸Šï¼Œå®ƒç”¨äºåœ¨ç²¾çµè¡¨ä¸­å®šä½å¸§çš„ä½å›¾ã€‚&lt;/p&gt;

&lt;p&gt;JSON æ–‡ä»¶ä¸­è¿˜æœ‰å…¶ä»–ä¸ƒç§ç±»å‹çš„åˆ‡ç‰‡ã€‚æ¯ä¸ªåˆ‡ç‰‡å°†ç”±å”¯ä¸€çš„å¸§åç§°è¡¨ç¤ºã€‚ä½¿ç”¨ç²¾çµè¡¨æ—¶ï¼Œä½ åªéœ€è¦çŸ¥é“ &lt;strong&gt;å”¯ä¸€åç§°&lt;/strong&gt; å³å¯ã€‚ä¸‹é¢æˆ‘è¿˜æä¾›äº†ä¸€å¼ æ ‡æœ‰æ¯ä¸ªåˆ‡ç‰‡ç±»å‹çš„å›¾ç‰‡ã€‚ä¹Ÿå¯ä»¥å•ç‹¬æ‰“å¼€è¿™ä¸ªå›¾ç‰‡ï¼Œæ–¹ä¾¿å›é¡¾ã€‚&lt;/p&gt;

&lt;p&gt;wall.json çš„åé¢ï¼Œæœ‰ä¸€äº›å…ƒæ•°æ®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot;meta&amp;quot;: {
  &amp;quot;app&amp;quot;: &amp;quot;http://www.codeandweb.com/texturepacker &amp;quot;,
  &amp;quot;version&amp;quot;: &amp;quot;1.0&amp;quot;,
  &amp;quot;image&amp;quot;: &amp;quot;wall.png&amp;quot;,
  &amp;quot;format&amp;quot;: &amp;quot;RGBA8888&amp;quot;,
  &amp;quot;size&amp;quot;: {&amp;quot;w&amp;quot;:256,&amp;quot;h&amp;quot;:512},
  &amp;quot;scale&amp;quot;: &amp;quot;1&amp;quot;,
  &amp;quot;smartupdate&amp;quot;: &amp;quot;$TexturePacker:SmartUpdate:fc102f6475bdd4d372c...&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨è¯¥æ•°æ®è¡¨ç¤ºç²¾çµè¡¨çš„å®é™…æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚ Pixi å°†ä½¿ç”¨è¯¥æ•°æ®åŠ è½½æ­£ç¡®çš„ PNG æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;h2 id=&#34;çº¹ç†æ‰“åŒ…å™¨-texturepacker&#34;&gt;çº¹ç†æ‰“åŒ…å™¨ï¼ˆTexturePackerï¼‰&lt;/h2&gt;

&lt;p&gt;æˆ‘ä½¿ç”¨äº†ä¸€ä¸ªå·¥å…·æ¥ç”Ÿæˆæœ¬æ•™ç¨‹çš„ç²¾çµè¡¨å’Œ JSON æ–‡ä»¶ã€‚å®ƒçš„åå­—å« &lt;a href=&#34;http://www.codeandweb.com/texturepacker&#34;&gt;TexturePacker&lt;/a&gt;ï¼Œå¯ç”¨äºWindowsï¼ŒMac OS X å’Œ Linuxã€‚å®ƒå¯ä»¥å¯¼å‡ºè®¸å¤šç²¾çµè¡¨æ ¼å¼ï¼ŒåŒ…æ‹¬ pixi.js ä½¿ç”¨çš„JSONï¼ˆå“ˆå¸Œï¼‰æ ¼å¼ã€‚æˆ‘ä¸ä¼šåœ¨æœ¬æ•™ç¨‹ä¸­ä»‹ç»å¦‚ä½•ä½¿ç”¨ TexturePackerï¼Œä½†å®ƒéå¸¸å®¹æ˜“æŒæ¡ã€‚ä»˜è´¹ç‰ˆæœ¬ä¹Ÿç‰©è¶…æ‰€å€¼ï¼Œè¿˜æœ‰ä¸€ä¸ªå…è´¹ç‰ˆæœ¬ï¼Œé€‚åˆé‚£äº›æƒ³å…ˆå­¦ä¹ åŸºç¡€çŸ¥è¯†çš„äººã€‚&lt;/p&gt;

&lt;h2 id=&#34;åŠ è½½ç²¾çµè¡¨&#34;&gt;åŠ è½½ç²¾çµè¡¨&lt;/h2&gt;

&lt;p&gt;æ—¢ç„¶æˆ‘ä»¬å¯¹ç²¾çµè¡¨æœ‰ä¸€ç‚¹äº†è§£äº†ï¼Œå°±è®©æˆ‘ä»¬ç»§ç»­æŠŠå®ƒåŠ è½½è¿›ç¨‹åºã€‚æˆ‘ä»¬é¦–å…ˆå°†ä¸€äº›ä»£ç æ·»åŠ åˆ°é¡¹ç›®çš„ Main ç±»ä¸­ã€‚ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€ Main.jsã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æ–‡ä»¶çš„æœ«å°¾ï¼Œæ·»åŠ ä»¥ä¸‹æ–¹æ³•æ¥åŠ è½½ç²¾çµè¡¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.loadSpriteSheet = function() {
  var loader = PIXI.loader;
  loader.add(&amp;quot;wall&amp;quot;, &amp;quot;resources/wall.json&amp;quot;);
  loader.once(&amp;quot;complete&amp;quot;, this.spriteSheetLoaded.bind(this));
  loader.load();
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨äº† &lt;code&gt;PIXI.loaders.Loader&lt;/code&gt; ç±»ï¼Œå®ƒå¯ç”¨äºåŠ è½½å›¾åƒï¼Œç²¾çµè¡¨å’Œä½å›¾å­—ä½“æ–‡ä»¶ã€‚æˆ‘ä»¬ç›´æ¥ä» &lt;code&gt;PIXI.loader&lt;/code&gt; å±æ€§è·å–åŠ è½½å™¨çš„é¢„å®šä¹‰çš„å®ä¾‹æ¥ä½¿ç”¨åŠ è½½å™¨ï¼Œæ‰€æœ‰èµ„æºéƒ½å¯ä»¥äººè¿™é‡ŒåŠ è½½ã€‚æ‰€ä»¥ï¼Œåªéœ€æŠŠ &lt;code&gt;wall.json&lt;/code&gt;Â æ–‡ä»¶ä¹Ÿæ·»åŠ è¿›å»ã€‚æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªä¸æ–‡ä»¶å…³è”çš„å”¯ä¸€ ID ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¹¶å°†èµ„æºçš„å®é™…ç›¸å¯¹è·¯å¾„ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ã€‚&lt;/p&gt;

&lt;p&gt;åŠ è½½ç²¾çµè¡¨åï¼ŒPIXI.loaders.Loader ç±»ä¼šè§¦å‘ä¸€ä¸ª &lt;code&gt;complete&lt;/code&gt; äº‹ä»¶ã€‚ä¸ºäº†å“åº”è¯¥äº‹ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦ç»‘å®š complete æ–¹æ³•åˆ°è‡ªå®šä¹‰å‡½æ•°Â &lt;code&gt;spriteSheetLoaded()&lt;/code&gt; ä¸­ï¼Œè¿™ä¸ªå‡½æ•°æˆ‘ä»¬ç¨åå®ç°ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åï¼Œè°ƒç”¨æˆ‘ä»¬çš„ PIXI.loaders.Loader å®ä¾‹çš„ &lt;code&gt;load()&lt;/code&gt; æ–¹æ³•æ¥çœŸæ­£åŠ è½½æˆ‘ä»¬çš„ç²¾çµè¡¨ã€‚åŠ è½½å®Œåï¼ŒPixi å°†æå–æ‰€æœ‰å¸§å¹¶å°†å…¶å­˜å‚¨åœ¨å†…éƒ¨çš„çº¹ç†ç¼“å­˜ä¸­ä»¥ä¾¿åç»­ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ç›®å‰ï¼Œè¿œæ™¯å±‚å’Œä¸­é—´å±‚å›¾åƒåœ¨å…¶æ„é€ å‡½æ•°ä¸­åŠ è½½ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥é¢„å…ˆåŠ è½½è¿™äº›å›¾åƒï¼Œå¹¶é¿å…åœ¨å®ä¾‹åŒ–è¿œæ™¯å±‚å’Œä¸­é—´ç±»æ—¶å‡ºç°çŸ­æš‚çš„å»¶è¿Ÿã€‚å°†å®ƒä»¬æ·»åŠ åˆ°æˆ‘ä»¬çš„ Loader å®ä¾‹ä¸­ï¼š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;loader.add(&amp;quot;wall&amp;quot;, &amp;quot;resources/wall.json&amp;quot;);
loader.add(&amp;quot;bg-mid&amp;quot;, &amp;quot;resources/bg-mid.png&amp;quot;); // æ·»åŠ 
loader.add(&amp;quot;bg-far&amp;quot;, &amp;quot;resources/bg-far.png&amp;quot;); // æ·»åŠ 
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;æ— éœ€å¯¹ Far æˆ– Mid ç±»è¿›è¡Œä»»ä½•æ›´æ”¹ï¼Œå› ä¸ºåœ¨å°è¯•ä»æ–‡ä»¶ç³»ç»ŸåŠ è½½çº¹ç†ä¹‹å‰ï¼Œå¯¹Â  &lt;code&gt;PIXI.Texture.fromImage()&lt;/code&gt; çš„è°ƒç”¨å°†ä¼˜å…ˆæŸ¥è¯¢å†…éƒ¨çº¹ç†ç¼“å­˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬ç¼–å†™Â &lt;code&gt;spriteSheetLoaded()&lt;/code&gt; æ–¹æ³•ã€‚åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.spriteSheetLoaded = function() {
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬éœ€è¦ç¼–å†™è¿™ä¸ªç©ºæ–¹æ³•ã€‚ä¹‹å‰æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Scroller ç±»çš„å®ä¾‹ï¼Œå¹¶åœ¨ Main ç±»çš„æ„é€ å‡½æ•°ä¸­å¯åŠ¨äº†æˆ‘ä»¬çš„ä¸»å¾ªç¯ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨è¦ç­‰åˆ°ç²¾çµè¡¨åŠ è½½å®Œæˆåå†è¿›è¡Œæ‰€æœ‰æ“ä½œã€‚è®©æˆ‘ä»¬å°†è¯¥ä»£ç ç§»åŠ¨åˆ°æˆ‘ä»¬çš„ &lt;code&gt;spriteSheetLoaded()&lt;/code&gt; æ–¹æ³•ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;å‘ä¸Šæ»šåŠ¨åˆ°æ„é€ å‡½æ•°å¹¶åˆ é™¤ä»¥ä¸‹ä¸¤è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Main() {
  this.stage = new PIXI.Container();
  this.renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );

  this.scroller = new Scroller(this.stage); // åˆ é™¤

  requestAnimationFrame(this.update.bind(this)); // åˆ é™¤
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†å›åˆ°ä½ çš„ &lt;code&gt;spriteSheetLoaded()&lt;/code&gt; æ–¹æ³•å¹¶åœ¨é‚£é‡Œæ·»åŠ åˆ é™¤çš„ä¸¤è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.spriteSheetLoaded = function() {
  this.scroller = new Scroller(this.stage);
  requestAnimationFrame(this.update.bind(this));
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€åï¼Œè¿”å›æ„é€ å‡½æ•°å¹¶è°ƒç”¨ &lt;code&gt;loadSpriteSheet()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Main() {
  this.stage = new PIXI.Container();
  this.renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );

  this.loadSpriteSheet(); // æ·»åŠ 
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨ä¿å­˜ä»£ç å¹¶åˆ·æ–°æµè§ˆå™¨ã€‚åœ¨ Chrome çš„ JavaScript æ§åˆ¶å°ä¸­æŸ¥çœ‹æ²¡æœ‰é”™è¯¯ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æµ‹è¯•ç²¾çµè¡¨&#34;&gt;æµ‹è¯•ç²¾çµè¡¨&lt;/h2&gt;

&lt;p&gt;è™½ç„¶æˆ‘ä»¬å·²ç»æˆåŠŸåŠ è½½äº†ç²¾çµè¡¨ï¼Œä½†æˆ‘ä»¬å¹¶ä¸çŸ¥é“å¸§ï¼ˆæˆ‘ä»¬çš„å…«ä¸ªå‚ç›´å£åˆ‡ç‰‡ç±»å‹ï¼‰æ˜¯å¦å·²çœŸæ­£åœ°å­˜å‚¨åœ¨ Pixi çš„çº¹ç†ç¼“å­˜ä¸­ã€‚æ‰€ä»¥è®©æˆ‘ä»¬ç»§ç»­åˆ›å»ºä¸€äº›ä½¿ç”¨å…¶ä¸­ä¸€äº›ç²¾çµæ¥ä½¿ç”¨è¿™ä½¿ç”¨å¸§ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å°†åœ¨ &lt;code&gt;spriteSheetLoaded()&lt;/code&gt; æ–¹æ³•ä¸­æ‰§è¡Œæˆ‘ä»¬çš„æµ‹è¯•ã€‚å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°å…¶ä¸­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.spriteSheetLoaded = function() {
  this.scroller = new Scroller(this.stage);
  requestAnimationFrame(this.update.bind(this));

  var slice1 = PIXI.Sprite.fromFrame(&amp;quot;edge_01&amp;quot;); // é«˜äº®
  slice1.position.x = 32; // é«˜äº®
  slice1.position.y = 64; // é«˜äº®
  this.stage.addChild(slice1); // é«˜äº®
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨äº† PIXI.Sprite ç±»çš„ &lt;code&gt;fromFrame()&lt;/code&gt; é™æ€æ–¹æ³•ã€‚å®ƒä½¿ç”¨çº¹ç†ç¼“å­˜ä¸­ä¸æŒ‡å®šå¸§ ID åŒ¹é…çš„çº¹ç†åˆ›å»ºä¸€ä¸ªæ–°çš„ç²¾çµã€‚æˆ‘ä»¬æŒ‡å®š &lt;code&gt;edge_01&lt;/code&gt; å¸§ç”¨æ¥è¡¨ç¤ºç –å—å¢™å‰è¾¹ç¼˜çš„åˆ‡ç‰‡ã€‚&lt;/p&gt;

&lt;p&gt;ä¿å­˜ä»£ç å¹¶åˆ·æ–°æµè§ˆå™¨ä»¥æŸ¥çœ‹åˆ‡ç‰‡ã€‚ä¸ç”¨æ‹…å¿ƒå®ƒå±•ç¤ºçš„ä½ç½®ï¼Œä½ç½®ç°åœ¨è¿˜ä¸é‡è¦ã€‚&lt;/p&gt;

&lt;p&gt;è®©æˆ‘ä»¬æ·»åŠ ç¬¬äºŒä¸ªå‚ç›´åˆ‡ç‰‡ã€‚è¿™æ¬¡æˆ‘ä»¬å°†ä½¿ç”¨ç –å—å¢™ä¸­é—´çš„åˆ‡ç‰‡ç±»å‹ã€‚ä¸ºäº†æ›´ç²¾ç¡®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç²¾çµè¡¨ä¸­åä¸º&lt;code&gt;decoration_03&lt;/code&gt; çš„å¸§ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.spriteSheetLoaded = function() {
  this.scroller = new Scroller(this.stage);
  requestAnimationFrame(this.update.bind(this));

  var slice1 = PIXI.Sprite.fromFrame(&amp;quot;edge_01&amp;quot;);
  slice1.position.x = 32;
  slice1.position.y = 64;
  this.stage.addChild(slice1);

  var slice2 = PIXI.Sprite.fromFrame(&amp;quot;decoration_03&amp;quot;); // æ·»åŠ 
  slice2.position.x = 128; // æ·»åŠ 
  slice2.position.y = 64; // æ·»åŠ 
  this.stage.addChild(slice2); // æ·»åŠ 
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†æ¬¡ä¿å­˜å¹¶æµ‹è¯•ã€‚ç°åœ¨åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªå‚ç›´å¢™åˆ‡ç‰‡ä½äºèˆå°ä¸Šï¼Œç±»ä¼¼äºä¸‹é¢çš„è¿™ä¸ªå±å¹•æˆªå›¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t1/14918/30/11267/98749/5c8f0dd7Ee4736269/d06820174522e100.png&#34; alt=&#34;tut3-testing-sprite-sheet&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¸Œæœ›ä½ ç°åœ¨å¯¹ç²¾çµè¡¨çš„æ¡†æ¶å·²æˆåŠŸåŠ è½½å¹¶ç¼“å­˜äº§ç”Ÿäº†ä¸€äº›æˆå°±æ„Ÿã€‚ä» &lt;code&gt;spriteSheetLoaded()&lt;/code&gt; æ–¹æ³•ä¸­åˆ é™¤æµ‹è¯•ä»£ç ã€‚æ–¹æ³•åº”å†æ¬¡å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.spriteSheetLoaded = function() {
  this.scroller = new Scroller(this.stage);
  requestAnimationFrame(this.update.bind(this));
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ä½ çš„ä¿®æ”¹&lt;/p&gt;

&lt;h2 id=&#34;ä¸€äº›-gpu-ç†è®º&#34;&gt;ä¸€äº› GPU ç†è®º&lt;/h2&gt;

&lt;p&gt;æˆ‘è¿˜æ²¡æœ‰è§£é‡Šä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©å°†åˆ‡ç‰‡æ‰“åŒ…æˆä¸€ä¸ªç²¾çµè¡¨è€Œä¸æ˜¯å•ç‹¬åŠ è½½å…«ä¸ª PNG åˆ°å†…å­˜ä¸­ã€‚åŸå› å’Œæ€§èƒ½ç›¸å…³ã€‚ Pixi çš„ WebGL æ¸²æŸ“å™¨åˆ©ç”¨è®¡ç®—æœºçš„å›¾å½¢å¤„ç†å•å…ƒï¼ˆGPUï¼‰æ¥åŠ é€Ÿå›¾å½¢æ€§èƒ½ã€‚ä½†æ˜¯ä¸ºäº†ä¿è¯æœ€ä½³æ€§èƒ½ï¼Œæˆ‘ä»¬å¿…é¡»è‡³å°‘äº†è§£ä¸€ç‚¹ GPU çš„å·¥ä½œåŸç†ã€‚&lt;/p&gt;

&lt;p&gt;GPU æ›´æ“…é•¿ä¸€æ¬¡å¤„ç†å¤§æ•°æ®é‡çš„åœºæ™¯ã€‚ Pixi ä¼šè¿åˆ GPU çš„è¿™ä¸ªç‰¹ç‚¹ï¼ŒæŠŠæ•°æ®å¯¹è±¡æ‰¹é‡å‘é€ç»™ GPUã€‚ä½†æ˜¯ï¼Œå®ƒåªèƒ½æ‰¹é‡å¤„ç†å…·æœ‰ç›¸ä¼¼çŠ¶æ€çš„å±•ç¤ºå¯¹è±¡ã€‚å½“é‡åˆ°å…·æœ‰ä¸åŒçŠ¶æ€çš„æ˜¾ç¤ºå¯¹è±¡æ—¶ï¼Œè¡¨ç¤ºå·²ç»å‘ç”ŸçŠ¶æ€æ”¹å˜å¹¶ä¸” GPU ä¼šåœæ­¢ä»¥ç»˜åˆ¶å½“å‰æ‰¹æ¬¡ã€‚ç¨‹åºä¸­å‘ç”Ÿçš„çŠ¶æ€æ›´æ”¹è¶Šå°‘ï¼ŒGPU éœ€è¦æ‰§è¡Œçš„ç»˜åˆ¶æ“ä½œå°±è¶Šå°‘ï¼Œä»¥ä¾¿å‘ˆç°å±•ç¤ºåˆ—è¡¨ã€‚ GPU æ‰§è¡Œçš„ç»˜åˆ¶æ“ä½œè¶Šå°‘ï¼Œæ¸²æŸ“æ€§èƒ½å°±è¶Šå¿«ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;åˆšåˆšæåˆ°çš„ &lt;strong&gt;ç»˜åˆ¶&lt;/strong&gt;ï¼ˆdrawï¼‰Â æ“ä½œå’Œæˆ‘ä»¬å¹³å¸¸ç»˜ç”»æ„æ€å·®ä¸å¤šã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸å¹¸çš„æ˜¯ï¼Œæ¯å½“é‡åˆ°å…·æœ‰ä¸åŒçº¹ç†çš„å±•ç¤ºå¯¹è±¡æ—¶ï¼ŒçŠ¶æ€å°±ä¼šå‘ç”Ÿæ”¹å˜ã€‚ç²¾çµè¡¨å¯ä»¥å¸®åŠ©é¿å…çŠ¶æ€æ›´æ”¹ï¼Œå› ä¸ºæ‰€æœ‰å›¾åƒéƒ½å­˜å‚¨åœ¨å•ä¸ªçº¹ç†ä¸­ã€‚ GPU å¯ä»¥éå¸¸æ„‰å¿«åœ°ä»ç²¾çµè¡¨ä¸­ç»˜åˆ¶æ¯ä¸ªå¸§ï¼ˆæˆ–å­çº¹ç†ï¼‰ï¼Œè€Œæ— éœ€å•ç‹¬çš„è°ƒç”¨ç»˜åˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œå¯ä»¥å­˜å‚¨åœ¨ GPU ä¸Šçš„çº¹ç†å­˜åœ¨å¤§å°é™åˆ¶ã€‚å¤§å¤šæ•°ç°ä»£ GPU å¯ä»¥å­˜å‚¨å¤§å°ä¸º 2048Ã—2048 åƒç´ çš„çº¹ç†ã€‚å› æ­¤ï¼Œå¦‚æœä½ è¦ä½¿ç”¨ç²¾çµè¡¨ï¼Œè¯·ç¡®ä¿å…¶å°ºå¯¸ä¸è¶…è¿‡ GPU çº¹ç†çš„é™åˆ¶ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬çš„ç²¾çµè¡¨å¾ˆå°ã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤ï¼Œä¸å°†æ¯ä¸ªå¢™åˆ‡ç‰‡çš„å›¾åƒå­˜å‚¨åœ¨å•ç‹¬çš„çº¹ç†ä¸Šç›¸æ¯”ï¼Œæˆ‘ä»¬çš„ç²¾çµè¡¨å¯ä»¥å¸®åŠ©æ˜¾ç€æé«˜æ»šåŠ¨å™¨çš„æ€§èƒ½ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å±•ç¤ºæ¸¸æˆåœ°å›¾&#34;&gt;å±•ç¤ºæ¸¸æˆåœ°å›¾&lt;/h2&gt;

&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬å·²ç»æˆåŠŸåŠ è½½äº†ç²¾çµè¡¨å¹¶ä¸”è¿˜è®¾æ³•æ˜¾ç¤ºäº†ä¸€äº›å¸§ï¼Œä½†æ˜¯æˆ‘ä»¬å¦‚ä½•çœŸæ­£åœ°æ„å»ºä¸€ä¸ªåŒ…å«ç –å—å¢™çš„å¤§åœ°å›¾ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘æƒ³æœ€ç®€å•çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªç²¾çµæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªç²¾çµä»£è¡¨æˆ‘ä»¬åœ°å›¾ä¸­çš„å‚ç›´å¢™åˆ‡ç‰‡ã€‚ç„¶è€Œï¼Œè€ƒè™‘åˆ°æ¯ä¸ªåˆ‡ç‰‡çš„å®½åº¦æ¯”è¾ƒçŸ­ï¼Œæˆ‘ä»¬çš„æ•´ä¸ªåœ°å›¾å°†å¾ˆå®¹æ˜“ç”±æ•°åƒä¸ªç²¾çµç»„æˆã€‚è¿™æ˜¯å¾ˆå¤šç²¾çµéƒ½å°†å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯å°†æ‰€æœ‰è¿™äº›ç²¾çµè½¬å‚¨åˆ°æˆ‘ä»¬çš„å±•ç¤ºåˆ—è¡¨ä¸Šï¼Œé‚£ä¹ˆå®ƒä¼šç»™æ¸²æŸ“å™¨å¸¦æ¥å¾ˆå¤§çš„å‹åŠ›ï¼Œå¯èƒ½ä¼šå½±å“æ¸¸æˆçš„å¸§é€Ÿç‡ã€‚&lt;/p&gt;

&lt;p&gt;å¦ä¸€ç§æ–¹æ³•æ˜¯å®ä¾‹åŒ–å¹¶ä»…æ˜¾ç¤ºå°†åœ¨è§†å£ä¸­å¯è§çš„ç²¾çµã€‚å½“åœ°å›¾æ»šåŠ¨æ—¶ï¼Œæœ€å·¦è¾¹çš„ç²¾çµæœ€ç»ˆå°†ç¦»å¼€å±å¹•ã€‚å½“å‘ç”Ÿè¿™ç§æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ˜¾ç¤ºåˆ—è¡¨ä¸­åˆ é™¤è¯¥ç²¾çµï¼Œå¹¶åœ¨è§†å£æœ€å³è¾¹çš„å¤–éƒ¨æ·»åŠ ä¸€ä¸ªæ–°çš„ç²¾çµã€‚é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç”¨æˆ·æä¾›æ»šåŠ¨æ•´ä¸ªåœ°å›¾çš„é”™è§‰ï¼Œè€Œå®é™…ä¸Šåªéœ€è¦å¤„ç†è§†å£ä¸­å½“å‰å¯è§çš„åœ°å›¾éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;p&gt;è™½ç„¶ç¬¬äºŒç§æ–¹æ³•è‚¯å®šæ¯”ç¬¬ä¸€ç§æ–¹æ³•æ›´å¥½ï¼Œä½†å®ƒéœ€è¦ä¸ºæˆ‘ä»¬çš„ç²¾çµè¿›è¡Œä¸æ–­çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ï¼šä¸ºè¿›å…¥çš„æ¯ä¸ªæ–°ç²¾çµåˆ†é…å†…å­˜ï¼Œä¸ºç¦»å¼€çš„ç²¾çµé‡Šæ”¾å†…å­˜ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆåšæ¯”è¾ƒç³Ÿç³•å‘¢ï¼Ÿå› ä¸ºåˆ†é…å†…å­˜éœ€è¦å®è´µçš„ CPU å‘¨æœŸï¼Œè¿™å¯èƒ½ä¼šå½±å“æ¸¸æˆçš„æ€§èƒ½ã€‚å¦‚æœä½ å¿…é¡»ä¸æ–­åœ°åˆ†é…å†…å­˜ï¼Œé‚£å°†é¿å…ä¸äº†è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;é‡Šæ”¾ä¹‹å‰å¯¹è±¡ä½¿ç”¨çš„å†…å­˜ä¹Ÿæ˜¯æ½œåœ¨çš„ CPU æ€§èƒ½æŸè€—ã€‚ JavaScript è¿è¡Œæ—¶åˆ©ç”¨åƒåœ¾æ”¶é›†å™¨é‡Šæ”¾ä»¥å‰è¢«ä¸å†éœ€è¦çš„å¯¹è±¡ä½¿ç”¨çš„å†…å­˜ã€‚ä½†æ˜¯ï¼Œä½ æ— æ³•ç›´æ¥æ§åˆ¶ä½•æ—¶è¿›è¡Œåƒåœ¾æ”¶é›†ï¼Œå‡å¦‚éœ€è¦é‡Šæ”¾å¤§é‡å†…å­˜ï¼Œè¯¥è¿‡ç¨‹å¯èƒ½éœ€è¦å‡ æ¯«ç§’ã€‚å› æ­¤ï¼Œä¸æ–­å®ä¾‹åŒ–ç²¾çµå†ä»å±•ç¤ºåˆ—è¡¨ä¸­åˆ é™¤ç²¾çµå°†å¯¼è‡´é¢‘ç¹çš„åƒåœ¾æ”¶é›†ï¼Œè¿™ä¼šå½±å“æ¸¸æˆçš„æ€§èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸‰ç§æ–¹æ³•å¯ä»¥é¿å…å‰ä¸¤ç§é—®é¢˜ã€‚å®ƒè¢«ç§°ä¸º &lt;strong&gt;å¯¹è±¡æ± &lt;/strong&gt;ï¼Œå®ƒèƒ½åœ¨ä¸è§¦å‘ JavaScript çš„åƒåœ¾æ”¶é›†å™¨çš„æƒ…å†µä¸‹æ›´åŠ æ™ºèƒ½åœ°ä½¿ç”¨å†…å­˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¯¹è±¡æ± -object-pooling&#34;&gt;å¯¹è±¡æ± ï¼ˆObject Poolingï¼‰&lt;/h2&gt;

&lt;p&gt;æƒ³ç†è§£å¯¹è±¡æ± ï¼Œè¯·è€ƒè™‘ä¸€ä¸ªç®€å•çš„æ¸¸æˆåœºæ™¯ã€‚åœ¨å°„å‡»æ¸¸æˆä¸­ï¼Œç©å®¶çš„èˆ¹å¯èƒ½ä¼šåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­å‘å°„æ•°åä¸‡æšå°„å¼¹ï¼Œä½†ç”±äºèˆ¹çš„å°„é€Ÿï¼Œä»»ä½•æ—¶å€™éƒ½åªèƒ½æœ‰ 20 æšå°„å¼¹è¿›å…¥å±å¹•ã€‚å› æ­¤ï¼Œä»…åœ¨æ¸¸æˆä»£ç ä¸­åˆ›å»º 20 ä¸ªå°„å¼¹å®ä¾‹å¹¶åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­é‡æ–°ä½¿ç”¨è¿™äº›å°„å¼¹æ˜¯æ›´å¥½çš„ã€‚&lt;/p&gt;

&lt;p&gt;20 ä¸ªå°„å¼¹å¯ä»¥å­˜æ”¾åœ¨ä¸€ä¸ªé˜µåˆ—ä¸­ã€‚æ¯æ¬¡ç©å®¶å¼€ç«æ—¶ï¼Œæˆ‘ä»¬ä»é˜µåˆ—ä¸­ç§»é™¤ä¸€ä¸ªå°„å¼¹å¹¶å°†å…¶æ·»åŠ åˆ°å±å¹•ä¸Šã€‚å½“å°„å¼¹ç¦»å¼€å±å¹•ï¼ˆæˆ–å‡»ä¸­æ•Œäººï¼‰æ—¶ï¼Œæˆ‘ä»¬å°†å…¶æ·»åŠ å›é˜µåˆ—ä»¥ä¾¿ç¨åå†æ¬¡ä½¿ç”¨ã€‚é‡è¦çš„æ˜¯æˆ‘ä»¬æ°¸è¿œä¸éœ€è¦åˆ›å»ºæ–°çš„å°„å¼¹å®ä¾‹ã€‚ç›¸åï¼Œæˆ‘ä»¬åªä½¿ç”¨é¢„å…ˆåˆ›å»ºçš„ 20 ä¸ªå®ä¾‹æ± ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæ•°ç»„å°†æ˜¯æˆ‘ä»¬çš„å¯¹è±¡æ± ã€‚è¿™æ ·åˆç†å—ï¼Ÿ&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚æœä½ æƒ³äº†è§£æœ‰å…³å¯¹è±¡æ± çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹æ­¤ &lt;a href=&#34;https://zh.wikipedia.org/zh-cn/%E5%AF%B9%E8%B1%A1%E6%B1%A0%E6%A8%A1%E5%BC%8F&#34;&gt;Wikipediaæ¡ç›®&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡æ± åº”ç”¨åˆ°æ¸¸æˆåœ°å›¾ä¸­ï¼Œå¹¶å…·æœ‰ä»¥ä¸‹å†…å®¹ï¼šä¸€ä¸ªçª—å£ï¼ˆwindowï¼‰åˆ‡ç‰‡æ± ï¼›ä¸€å¹¢å¢™é¢è£…é¥°ï¼ˆdecorationï¼‰åˆ‡ç‰‡ï¼›ä¸€å±‚å‰è¾¹ç¼˜ï¼›ä¸€å±‚åè¾¹ç¼˜ï¼›è¿˜æœ‰ä¸€ä¸ªå°é˜¶ã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤ï¼Œè™½ç„¶æˆ‘ä»¬çš„æ¸¸æˆåœ°å›¾æœ€ç»ˆå¯èƒ½åŒ…å«æ•°ç™¾ä¸ªçª—å£ï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦åˆ›å»ºè¶³å¤Ÿçš„çª—å£ç²¾çµæ¥è¦†ç›–è§†å£çš„å®½åº¦ã€‚å½“ä¸€ä¸ªçª—å£å³å°†åœ¨æˆ‘ä»¬çš„è§†å£ä¸­æ˜¾ç¤ºæ—¶ï¼Œæˆ‘ä»¬åªéœ€ä» windows å¯¹è±¡æ± ä¸­æ£€ç´¢ä¸€ä¸ªçª—å£ç²¾çµã€‚å½“è¯¥çª—å£æ»šå‡ºè§†å›¾æ—¶ï¼Œæˆ‘ä»¬å°†å…¶ä»æ˜¾ç¤ºåˆ—è¡¨ä¸­åˆ é™¤å¹¶å°†å…¶è¿”å›åˆ°å¯¹è±¡æ± ã€‚æˆ‘ä»¬å°†è¿™ä¸ªåŸåˆ™åº”ç”¨äºè¾¹ç¼˜ï¼Œè£…é¥°å’Œå°é˜¶ã€‚&lt;/p&gt;

&lt;p&gt;çŸ¥é“è¿™å°±è¶³å¤Ÿäº†ã€‚è®©æˆ‘ä»¬å¼€å§‹æ„å»ºä¸€ä¸ªå¯¹è±¡æ± ç±»æ¥ä¿å­˜æˆ‘ä»¬çš„åˆ‡ç‰‡ç²¾çµã€‚&lt;/p&gt;

&lt;h2 id=&#34;åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ± ç±»&#34;&gt;åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ± ç±»&lt;/h2&gt;

&lt;p&gt;ç”±äºæˆ‘ä»¬çš„æ¸¸æˆåœ°å›¾ä»£è¡¨äº†ä¸€ç³»åˆ—ç –å—å¢™ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;WallSpritesPool&lt;/code&gt; çš„ç±»ï¼Œä½œä¸ºæˆ‘ä»¬å„ç§å¢™å£éƒ¨ä»¶çš„æ± å­ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ›´é€šç”¨çš„ç±»åå¯èƒ½æ˜¯ &lt;code&gt;MapSpritesPool&lt;/code&gt;ï¼Œä¹Ÿå¯ä»¥æ˜¯ &lt;code&gt;ObjectPool&lt;/code&gt;ã€‚ä½†æ˜¯ï¼Œå°±æœ¬æ•™ç¨‹è€Œè¨€ï¼Œ&lt;code&gt;WallSpritesPool&lt;/code&gt; æ˜¯æ¯”è¾ƒåˆé€‚çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹æ„é€ å‡½æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.windows = [];
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜æ–‡ä»¶å¹¶å°†å…¶å‘½åä¸º &lt;code&gt;WallSpritesPool.js&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º windows çš„ç©ºæ•°ç»„ã€‚æ­¤æ•°ç»„å°†å……å½“æˆ‘ä»¬åœ°å›¾ä¸­æ‰€æœ‰çš„çª—å£ç²¾çµçš„å¯¹è±¡æ± ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç»™-windows-æ± å­æ·»åŠ å…ƒç´ &#34;&gt;ç»™ windows æ± å­æ·»åŠ å…ƒç´ &lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬çš„æ•°ç»„éœ€è¦é¢„å…ˆå¡«å……ä¸€äº›çª—å£ç²¾çµã€‚è¯·è®°ä½ï¼Œæˆ‘ä»¬çš„ç –å—å¢™å¯ä»¥æ”¯æŒä¸¤ç§ç±»å‹çš„çª—æˆ· â€” ä¸€ä¸ªå¼€ç¯çš„çª—æˆ·å’Œä¸€ä¸ªæ²¡æœ‰å¼€ç¯çš„çª—æˆ· - æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç¡®ä¿æˆ‘ä»¬æ·»åŠ ä¸¤ç§ç±»å‹è¶³å¤Ÿå¤šã€‚é€šè¿‡å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°æ„é€ å‡½æ•°æ¥å¡«å……æ•°ç»„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.windows = [];

  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ä¸ºå¯¹è±¡æ± æ·»åŠ äº† 12 ä¸ªçª—å£ç²¾çµã€‚å‰ 6 ä¸ªç²¾çµä»£è¡¨æˆ‘ä»¬äº®ç¯çš„çª—å£ï¼ˆ&lt;code&gt;window_01&lt;/code&gt;ï¼‰ï¼Œè€Œä½™ä»– 6 ä¸ªç²¾çµä»£è¡¨æœªäº®ç¯çš„çª—å£ï¼ˆ&lt;code&gt;window_02&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä»å¯¹è±¡æ± ä¸­æ£€ç´¢ç²¾çµæ—¶ï¼Œå®ƒä»¬å°†ä»æ•°ç»„çš„å‰é¢è·å–ã€‚æ ¹æ®æˆ‘ä»¬åœ¨å¡«å……æ—¶å°†ç²¾çµæ·»åŠ åˆ°æ•°ç»„ä¸­çš„é¡ºåºï¼Œå¯¹çª—å£ç²¾çµçš„å‰ 6 ä¸ªè¯·æ±‚å°†å§‹ç»ˆè¿”å›ä¸€ä¸ªäº®ç¯çš„çª—å£ï¼Œè€Œæ¥ä¸‹æ¥çš„ 6 ä¸ªè¯·æ±‚å°†å§‹ç»ˆè¿”å›ä¸€ä¸ªæœªäº®ç¯çš„çª—å£ã€‚æˆ‘ä»¬ä»æ± ä¸­è·å¾—çš„çª—å£åˆ‡ç‰‡ç±»å‹éœ€è¦ &lt;strong&gt;éšæœº&lt;/strong&gt; å‡ºç°ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨å¡«å……æ•°ç»„åæ•°ç»„å…ƒç´ è¿›è¡Œæ‰“ä¹±æ¥å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹æ–¹æ³•å°†æŠŠä¼ é€’ç»™å®ƒçš„æ•°ç»„æ‰“ä¹±ã€‚æ·»åŠ æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.shuffle = function(array) {
  var len = array.length;
  var shuffles = len * 3;
  for (var i = 0; i &amp;lt; shuffles; i++)
  {
    var wallSlice = array.pop();
    var pos = Math.floor(Math.random() * (len-1));
    array.splice(pos, 0, wallSlice);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨ä»æ„é€ å‡½æ•°è°ƒç”¨ &lt;code&gt;shuffle()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.windows = [];

  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;));
  
  this.shuffle(this.windows); // è°ƒç”¨
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬åšä¸€äº›é‡æ„ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªæ›´ç®€æ´çš„æ–¹æ³•æ¥å¡«å……æˆ‘ä»¬çš„æ•°ç»„ã€‚ç”±äºæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨æ•°ç»„ä¸­æ·»åŠ ä¸¤ç»„ç²¾çµï¼ˆäº®ç¯å’Œä¸äº®ç¯çš„çª—å£ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥æ›¿æ¢ä»¥ä¸‹ä»£ç è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.windows = [];

  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_01&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;)); // åˆ é™¤
  this.windows.push(PIXI.Sprite.fromFrame(&amp;quot;window_02&amp;quot;)); // åˆ é™¤
  
  this.shuffle(this.windows);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”¨ä¸‹é¢çš„ä»£æ›¿ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.windows = [];

  this.addWindowSprites(6, &amp;quot;window_01&amp;quot;); // æ·»åŠ 
  this.addWindowSprites(6, &amp;quot;window_02&amp;quot;); // æ·»åŠ 
  
  this.shuffle(this.windows);
}

 // æ·»åŠ 
WallSpritesPool.prototype.addWindowSprites = function(amount, frameId) {
  for (var i = 0; i &amp;lt; amount; i++)
  {
    var sprite = PIXI.Sprite.fromFrame(frameId);
    this.windows.push(sprite);
  }
};

WallSpritesPool.prototype.shuffle = function(array) {
  var len = array.length;
  var shuffles = len * 3;
  for (var i = 0; i &amp;lt; shuffles; i++)
  {
    var wallSlice = array.pop();
    var pos = Math.floor(Math.random() * (len-1));
    array.splice(pos, 0, wallSlice);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;addWindowSprites()&lt;/code&gt; æ–¹æ³•å…è®¸æˆ‘ä»¬å‘ windows æ•°ç»„ä¸­æ·»åŠ ä¸€äº›åœ¨ç²¾çµè¡¨ä¸­æŒ‡å®šçš„ç²¾çµå¸§ã€‚å› æ­¤ï¼Œå®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸ºæˆ‘ä»¬çš„æ± å­æ·»åŠ ä¸€ç»„ 6 ä¸ªäº®ç¯ç²¾çµå’Œä¸€ç»„ 6 ä¸ªæœªäº®ç¯ç²¾çµã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ç»§ç»­ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å†åšä¸€æ¬¡é‡æ„ã€‚å°†æ„é€ å‡½æ•°ä¸­çš„ä»£ç ç§»åŠ¨åˆ°å•ç‹¬çš„æ–¹æ³•ä¸­ã€‚åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.windows = []; // åˆ é™¤

  this.addWindowSprites(6, &amp;quot;window_01&amp;quot;); // åˆ é™¤
  this.addWindowSprites(6, &amp;quot;window_02&amp;quot;); // åˆ é™¤
  
  this.shuffle(this.windows); // åˆ é™¤
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½¿ç”¨ä¸€ä¸ªæ–°æ–¹æ³•æ›¿æ¢ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.createWindows = function() {
  this.windows = [];

  this.addWindowSprites(6, &amp;quot;window_01&amp;quot;);
  this.addWindowSprites(6, &amp;quot;window_02&amp;quot;);

  this.shuffle(this.windows);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€åï¼Œä»æ„é€ å‡½æ•°ä¸­è°ƒç”¨ &lt;code&gt;createWindows()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.createWindows();
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¥½çš„ï¼Œæˆ‘ä»¬ç›®å‰ç”¨ä»£ç åˆ›å»ºäº†çª—å£ç²¾çµï¼Œå°†å®ƒä»¬æ·»åŠ åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶æ‰“ä¹±è¯¥æ•°ç»„ã€‚ç»§ç»­ä¹‹å‰ä¿å­˜æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¸ºä»€ä¹ˆä½¿ç”¨åäºŒä¸ªçª—å£ç²¾çµ&#34;&gt;ä¸ºä»€ä¹ˆä½¿ç”¨åäºŒä¸ªçª—å£ç²¾çµ&lt;/h2&gt;

&lt;p&gt;ä»æŠ€æœ¯ä¸Šè®²ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ± ä¸­ä½¿ç”¨å°‘äº 12 ä¸ªçª—å£ç²¾çµã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬åªéœ€è¦è¶³å¤Ÿçš„ç²¾çµæ¥è¦†ç›–è§†å£çš„å®½åº¦ã€‚æˆ‘é€‰æ‹©åäºŒä¸ªçš„åŸå› æ˜¯ä¸ºäº†è®©ç –å—å¢™çš„äº®ç¯å’Œä¸äº®ç¯çª—æˆ·å…·æœ‰ä¸€äº›éšæœºæ€§ã€‚ç„¶è€Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘å¯ä»¥åœ¨åˆç†èŒƒå›´å†…ä½¿ç”¨ä»»æ„æ•°é‡çš„ç²¾çµï¼Œåªè¦å®ƒä¸ºæˆ‘æä¾›è¶³å¤Ÿçš„çª—å£ç²¾çµä»¥åœ¨è§†å£å†…ç”Ÿæˆç –å—å¢™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å€Ÿç”¨-borrow-å’Œå½’è¿˜-return-ç²¾çµ&#34;&gt;å€Ÿç”¨ï¼ˆborrowï¼‰å’Œå½’è¿˜ï¼ˆreturnï¼‰ç²¾çµ&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬çš„å¯¹è±¡æ± æœ‰ä¸€ç»„çª—å£ç²¾çµï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰æä¾›ä»æ± ä¸­è·å–ç²¾çµæˆ–è¿”å›æ± çš„å…¬å…±æ–¹æ³•ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ‰€æœ‰æ–¹æ³•å’Œå±æ€§éƒ½å¯ä»¥åœ¨ JavaScript ä¸­å…¬å¼€è®¿é—®ã€‚è¿™å¯èƒ½ä½¿ä½ éš¾ä»¥è¯†åˆ«å±äºä½ çš„ç±» API çš„æ–¹æ³•å’Œå±æ€§ä»¥åŠå¤„ç†å®ç°ç»†èŠ‚çš„æ–¹æ³•å’Œå±æ€§ã€‚å½“æˆ‘æŠŠæŸäº›ä¸œè¥¿ç§°ä¸ºâ€œå…¬å¼€â€æ—¶ï¼Œæˆ‘çš„æ„æ€æ˜¯è¯´æˆ‘æ‰“ç®—åœ¨ç±»çš„å¤–éƒ¨ä½¿ç”¨å®ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘ä»¬å°†æä¾›ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;borrowWindow()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;returnWindow()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;borrowWindow()&lt;/code&gt; æ–¹æ³•å°†ä» windows æ± ä¸­åˆ é™¤ä¸€ä¸ªçª—å£ç²¾çµï¼Œå¹¶è¿”å›å¯¹å®ƒçš„å¼•ç”¨ä¾›ä½ ä½¿ç”¨ã€‚å®Œæˆåï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨ &lt;code&gt;returnWindow()&lt;/code&gt;Â å°†ç²¾çµä½œä¸ºå‚æ•°ä¼ é€’å›æ¸¸æˆæ± ã€‚&lt;/p&gt;

&lt;p&gt;å¥½çš„ï¼Œæˆ‘ä»¬åœ¨ç±»çš„æ„é€ å‡½æ•°ä¹‹åæ·»åŠ Â &lt;code&gt;borrowWindow()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.createWindows();
}
// æ·»åŠ 
WallSpritesPool.prototype.borrowWindow = function() {
  return this.windows.shift();
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å½“ç®€å•çš„æ–¹æ³•ï¼Œå®ƒåªæ˜¯ä» windows æ•°ç»„çš„å‰é¢åˆ é™¤ç¬¬ä¸€ä¸ªç²¾çµå¹¶è¿”å›å®ƒã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;borrowWindow()&lt;/code&gt; æ–¹æ³•ä¸ä¼šæ£€æŸ¥æ± ä¸­æ˜¯å¦è¿˜æœ‰ç²¾çµã€‚æˆ‘ä»¬åœ¨è¿™ä¸€ç³»åˆ—æ•™ç¨‹ä¸­éƒ½ä¸ä¼šå¤ªåœ¨æ„è¿™ç§å¼‚å¸¸æƒ…å†µï¼Œä½†åœ¨å°è¯•ä»ä¸­è¿”å›å†…å®¹ä¹‹å‰ï¼Œæ£€æŸ¥ä¸€ä¸‹ç²¾çµæ± æ˜¯å¦ä¸ºç©ºæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚æœ‰å¤šç§ç­–ç•¥å¯ç”¨äºå¤„ç†ç©ºæ± å­ã€‚ä¸€ä¸ªå¸¸è§çš„æ–¹æ³•æ˜¯åœ¨å¹²ç‡¥ï¼ˆæ²¡æœ‰å…ƒç´ ï¼‰æ—¶åŠ¨æ€å¢åŠ æ± çš„å¤§å°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç°åœ¨ç›´æ¥åœ¨å…¶ä¸‹é¢æ·»åŠ  &lt;code&gt;returnWindow()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.borrowWindow = function() {
  return this.windows.shift();
};
// æ·»åŠ 	
WallSpritesPool.prototype.returnWindow = function(sprite) {
  this.windows.push(sprite);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±åƒ &lt;code&gt;borrowWindow()&lt;/code&gt; ä¸€æ ·ï¼Œ&lt;code&gt;returnWindow()&lt;/code&gt; æ–¹æ³•å¾ˆç®€å•ã€‚å®ƒå°†ç²¾çµä½œä¸ºå‚æ•°å¹¶å°†è¯¥ç²¾çµå‹å…¥åˆ° windows æ•°ç»„çš„æœ«å°¾ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ç§ä»å¯¹è±¡æ± ä¸­å€Ÿç”¨çª—å£ç²¾çµçš„æ–¹æ³•ï¼Œä¸€æ—¦æˆ‘ä»¬å®Œæˆå®ƒå°±å°†ç²¾çµè¿”å›ç»™ï¼ˆå½’è¿˜ï¼‰å¯¹è±¡æ± çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¿«é€Ÿå›é¡¾&#34;&gt;å¿«é€Ÿå›é¡¾&lt;/h2&gt;

&lt;p&gt;æŸ¥çœ‹ä¸€ä¸‹ &lt;code&gt;WallSpritesPool&lt;/code&gt; ç±»ã€‚å¹¶æ²¡æœ‰å¾ˆå¤šä»£ç ï¼Œä½†é‡è¦çš„æ˜¯ä½ è¦äº†è§£åœ¨æ·»åŠ ä¹‹å‰å‘ç”Ÿäº†ä»€ä¹ˆã€‚ä»¥ä¸‹æ˜¯ç±»çš„å½“å‰ç‰ˆæœ¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.createWindows();
}

WallSpritesPool.prototype.borrowWindow = function() {
  return this.windows.shift();
};
	
WallSpritesPool.prototype.returnWindow = function(sprite) {
  this.windows.push(sprite);
};

WallSpritesPool.prototype.createWindows = function() {
  this.windows = [];

  this.addWindowSprites(6, &amp;quot;window_01&amp;quot;);
  this.addWindowSprites(6, &amp;quot;window_02&amp;quot;);

  this.shuffle(this.windows);
};

WallSpritesPool.prototype.addWindowSprites = function(amount, frameId) {
  for (var i = 0; i &amp;lt; amount; i++)
  {
    var sprite = PIXI.Sprite.fromFrame(frameId);
    this.windows.push(sprite);
  }
};

WallSpritesPool.prototype.shuffle = function(array) {
  var len = array.length;
  var shuffles = len * 3;
  for (var i = 0; i &amp;lt; shuffles; i++)
  {
    var wallSlice = array.pop();
    var pos = Math.floor(Math.random() * (len-1));
    array.splice(pos, 0, wallSlice);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯¥ç±»åªåˆ›å»ºä¸€ä¸ªåŒ…å« 6 ä¸ªäº®ç¯çª—å£ç²¾çµå’Œ 6ä¸ªæœªäº®ç¯çª—å£ç²¾çµæ•°ç»„ã€‚è¯¥æ•°ç»„å……å½“çª—å£çš„ç²¾çµæ± ï¼Œå¹¶ä¸”è¢«æ‰“ä¹±ä»¥ç¡®ä¿éšæœºæ··åˆä¸¤ç§çŠ¶æ€ã€‚æä¾›äº†ä¸¤ä¸ªå…¬å…±æ–¹æ³• â€” &lt;code&gt;borrowWindow()&lt;/code&gt; å’Œ &lt;code&gt;returnWindow()&lt;/code&gt; - å®ƒä»¬å…è®¸ä»ç²¾çµæ± ä¸­å€Ÿç”¨ä¸€ä¸ªçª—å£ç²¾çµï¼Œç„¶åå½’è¿˜åˆ°æ± ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;è¿™å°±æ˜¯å®ƒè¦åšçš„æ‰€æœ‰äº‹æƒ…äº†ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦è€ƒè™‘å…¶ä»–åˆ‡ç‰‡ç±»å‹ï¼ˆå‰è¾¹ç¼˜ï¼Œåè¾¹ç¼˜ï¼Œå¢™é¢è£…é¥°å’Œå¢™å£å°é˜¶ï¼‰ï¼Œä½†æˆ‘ä»¬å¾ˆå¿«å°±ä¼šå°†å®ƒä»¬æ·»åŠ åˆ°æˆ‘ä»¬çš„ WallSpritesPool ç±»ä¸­ã€‚é¦–å…ˆè®©æˆ‘ä»¬æŠŠå°†ç²¾çµæ± çš„ä»£ç å¼•ç”¨åˆ°é¡µé¢ï¼Œä¿è¯æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;

&lt;h2 id=&#34;æµ‹è¯•ä½ çš„å¯¹è±¡æ± &#34;&gt;æµ‹è¯•ä½ çš„å¯¹è±¡æ± &lt;/h2&gt;

&lt;p&gt;è½¬åˆ°ä½ çš„ index.html æ–‡ä»¶å¹¶å¼•ç”¨ &lt;code&gt;WallSpritesPool&lt;/code&gt; ç±»çš„æºæ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.0.0/pixi.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Far.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Mid.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Scroller.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;WallSpritesPool.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;!-- æ·»åŠ  --&amp;gt;
&amp;lt;script src=&amp;quot;Main.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨æ‰“å¼€ Main.jsã€‚æˆ‘ä»¬å°†å¯¹ Main ç±»è¿›è¡Œä¸€äº›ä¸´æ—¶æ›´æ”¹ï¼Œä»¥ä¾¿æµ‹è¯•å¯¹è±¡æ± ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬é¦–å…ˆåœ¨ &lt;code&gt;spriteSheetLoaded()&lt;/code&gt; æ–¹æ³•ä¸­åˆ›å»ºæˆ‘ä»¬çš„å¯¹è±¡æ± çš„å®ä¾‹ï¼Œåˆ›å»ºå°†ç”¨äºä¿å­˜ä»æ± ä¸­è·å–çš„åˆ‡ç‰‡ç²¾çµæ•°ç»„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.spriteSheetLoaded = function() {
  this.scroller = new Scroller(this.stage);
  requestAnimationFrame(this.update.bind(this));

  this.pool = new WallSpritesPool(); // æ·»åŠ 
  this.wallSlices = []; // æ·»åŠ 
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†å¯¹è±¡æ± å®ä¾‹å­˜å‚¨åœ¨åä¸º pool çš„æˆå‘˜å˜é‡ä¸­ï¼Œè€Œæˆ‘ä»¬çš„æ•°ç»„çš„æˆå‘˜å˜é‡åä¸º &lt;code&gt;wallSlices&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬ç¼–å†™ä¸€äº›ä»£ç æ¥ä»æ± ä¸­è·å–æŒ‡å®šæ•°é‡çš„çª—å£å¹¶å°†å®ƒä»¬è¿ç»­åœ°æ·»åŠ åˆ°èˆå°ä¸Šã€‚æ·»åŠ ä»¥ä¸‹æµ‹è¯•æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.borrowWallSprites = function(num) {
  for (var i = 0; i &amp;lt; num; i++)
  {
    var sprite = this.pool.borrowWindow();
    sprite.position.x = -32 + (i * 64);
    sprite.position.y = 128;

    this.wallSlices.push(sprite);

    this.stage.addChild(sprite);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é™¤äº†å°†çª—å£ç²¾çµæ·»åŠ åˆ°èˆå°ï¼Œä¸Šé¢çš„ &lt;code&gt;borrowWallSprites()&lt;/code&gt; æ–¹æ³•è¿˜å°†æ¯ä¸ªç²¾çµæ·»åŠ åˆ°æˆ‘ä»¬çš„ &lt;code&gt;wallSlices&lt;/code&gt; æˆå‘˜å˜é‡ä¸­ã€‚è¿™æ ·åšçš„åŸå› æ˜¯æˆ‘ä»¬éœ€è¦èƒ½å¤Ÿä»ç¬¬äºŒä¸ªæµ‹è¯•æ–¹æ³•ä¸­è®¿é—®ï¼ˆåˆ é™¤ã€ç§»é™¤ã€å½’è¿˜ï¼‰è¿™äº›çª—å£ç²¾çµï¼Œæˆ‘ä»¬ç°åœ¨å°†ç¼–å†™å®ƒä»¬ã€‚æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.returnWallSprites = function() {
  for (var i = 0; i &amp;lt; this.wallSlices.length; i++)
  {
    var sprite = this.wallSlices[i];
    this.stage.removeChild(sprite);
    this.pool.returnWindow(sprite);
  }

  this.wallSlices = [];
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸ª &lt;code&gt;returnWallSprites()&lt;/code&gt; æ–¹æ³•åˆ é™¤æ·»åŠ åˆ°èˆå°çš„æ‰€æœ‰çª—å£åˆ‡ç‰‡ï¼Œå¹¶å°†è¿™äº›ç²¾çµå½’è¿˜åˆ°å¯¹è±¡æ± ã€‚&lt;/p&gt;

&lt;p&gt;é€šè¿‡è¿™ä¸¤ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯æˆ‘ä»¬æ˜¯å¦å¯ä»¥ä»å¯¹è±¡æ± ä¸­å€Ÿç”¨çª—å£ç²¾çµï¼Œå¹¶å°†è¿™äº›ç²¾çµå½’è¿˜ç»™æ± å­ã€‚æˆ‘ä»¬å°†ä½¿ç”¨Chrome çš„ JavaScript æ§åˆ¶å°çª—å£ï¼š&lt;/p&gt;

&lt;p&gt;åˆ·æ–°æµè§ˆå™¨å¹¶æ‰“å¼€JavaScriptæ§åˆ¶å°ã€‚æ‰‹åŠ¨æ‰§è¡Œå¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.borrowWallSprites(9);
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;è¯·è®°ä½ï¼Œæˆ‘ä»¬çš„ Main ç±»å¯ä»¥é€šè¿‡ä¸»å…¨å±€å˜é‡ main è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥è°ƒç”¨ &lt;code&gt;borrowWallSprites()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å°±åƒä¸‹é¢çš„æˆªå›¾ä¸€æ ·ï¼Œä½ åº”è¯¥çœ‹åˆ°èˆå°ä¸Šæœ‰ä¹ä¸ªçª—å£ç²¾çµã€‚éƒ½æ˜¯ä»ä½ çš„å¯¹è±¡æ± ä¸­ &lt;strong&gt;å€Ÿ&lt;/strong&gt; æ¥çš„ï¼Œç„¶åè¢«æ·»åŠ åˆ°èˆå°ä¸Šã€‚è¿˜è¦æ³¨æ„ï¼Œäº®ç¯å’Œäº®ç¯çš„çª—å£åºåˆ—å¯èƒ½æ˜¯éšæœºå‡ºç°çš„ã€‚è¿™æ˜¯å› ä¸ºæ± ä¸­çš„çª—å£æ•°ç»„åœ¨åˆ›å»ºåè¢«æ‰“ä¹±äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img12.360buyimg.com/devfe/jfs/t1/31720/25/6450/27075/5c8f20c3E419f8f9b/1c176082df00c88d.png&#34; alt=&#34;tut3-testing-object-pool&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬éªŒè¯æ˜¯å¦å¯ä»¥å°†è¿™äº›ç²¾çµå½’è¿˜ç»™å¯¹è±¡æ± ã€‚åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.returnWallSprites();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç²¾çµå¢™åº”è¯¥ä»èˆå°ä¸Šæ¶ˆå¤±ï¼Œå¹¶å°†è¿”å›åˆ°å¯¹è±¡æ± ã€‚&lt;/p&gt;

&lt;p&gt;è¿™è¿˜ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„å®é™…éœ€ç¤ºã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä»æ± ä¸­è¯·æ±‚æ›´å¤šçª—å£å¹¶æ£€æŸ¥å®ƒä»¬æ˜¯å¦ä¹Ÿå‡ºç°åœ¨å±å¹•ä¸Šã€‚è®©æˆ‘ä»¬ä»æ¸¸æ³³æ± ä¸­å†å€Ÿç”¨ä¹ä¸ªçª—å£ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.borrowWallSprites(9);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åå†å½’è¿˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.returnWallSprites();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬ç°åœ¨ä»å¯¹è±¡æ± ä¸­è·å¾—äº†æ€»å…±18ä¸ªç²¾çµã€‚è¯·è®°ä½ï¼Œæ± ä¸­åªåŒ…å« 12 ä¸ªçª—å£ç²¾çµï¼ˆ6ä¸ªå¼€ç¯çš„ï¼Œ6 ä¸ªä¸å¼€ç¯çš„ï¼‰ã€‚å› æ­¤ï¼Œç²¾çµæ­£åœ¨ä»æ± ä¸­å€Ÿç”¨å¹¶åœ¨æˆ‘ä»¬å®ŒæˆåæˆåŠŸè¿”å›ã€‚å¦‚æœæ²¡æœ‰è¢«è¿”è¿˜ï¼Œé‚£ä¹ˆå½“å¯¹è±¡æ± çš„å†…éƒ¨æ•°ç»„å˜ç©ºæ—¶ï¼Œä¼šæŠ¥è¿è¡Œæ—¶é”™è¯¯ã€‚&lt;/p&gt;

&lt;p&gt;JavaScript ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å¯ä»¥å…¬å¼€è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•æ—¶å€™è½»æ¾æ£€æŸ¥å¯¹è±¡æ± çš„å†…éƒ¨æ•°ç»„ã€‚å°è¯•ä»æ§åˆ¶å°æ£€æŸ¥æ•°ç»„çš„å¤§å°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.pool.windows.length
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¹ˆåšåº”è¯¥è¿”å›é•¿åº¦ 12ã€‚ç°åœ¨ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä»æ± ä¸­å€Ÿç”¨å››ä¸ªçª—å£ç²¾çµï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.borrowWallSprites(4);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†æ¬¡æŸ¥çœ‹æ± å­ä¸­çš„ç²¾çµä¸ªæ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.pool.windows.length
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®ƒç°åœ¨åº”è¯¥åªåŒ…å« 8 ä¸ªç²¾çµã€‚æœ€åé€šè¿‡è°ƒç”¨ &lt;code&gt;returnWallSprites()&lt;/code&gt; å°†ç²¾çµé›†è¿”å›æ± ä¸­ã€‚å†æ¬¡æ£€æŸ¥å¯¹è±¡æ± çš„å¤§å°ï¼Œå¹¶ç¡®è®¤å…¶é•¿åº¦ä¸º 12ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å¯¹å’±ä»¬çš„å¯¹è±¡æ± èƒ½æ­£å¸¸è¿è¡Œæ„Ÿåˆ°æ»¡æ„ã€‚è®©æˆ‘ä»¬ç»§ç»­ï¼Œä½†ä¿ç•™ä½ æ·»åŠ åˆ° Main ç±»çš„æµ‹è¯•ä»£ç ï¼Œå› ä¸ºæˆ‘ä»¬å¾ˆå¿«å°±ä¼šå†æ¬¡ä½¿ç”¨å®ƒã€‚&lt;/p&gt;

&lt;h2 id=&#34;å‘å¯¹è±¡æ± ä¸­æ·»åŠ å¢™é¢è£…é¥°&#34;&gt;å‘å¯¹è±¡æ± ä¸­æ·»åŠ å¢™é¢è£…é¥°&lt;/h2&gt;

&lt;p&gt;ç›®å‰æˆ‘ä»¬çš„å¯¹è±¡æ± ä»…æä¾›çª—å£ç²¾çµï¼Œä½†æˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ å¯¹å‰è¾¹ç¼˜ï¼Œåè¾¹ç¼˜ï¼Œå¢™é¢è£…é¥°åˆ‡ç‰‡å’Œå°é˜¶çš„æ”¯æ”¯æŒã€‚è®©æˆ‘ä»¬ä»ä¸‰ä¸ªå¢™é¢è£…é¥°åˆ‡ç‰‡å¼€å§‹ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ è¿˜è®°å¾—ï¼Œæˆ‘ä»¬çš„ä¸€äº›å¢™ä¸Šè£…é¥°ç€ç®¡é“å’Œé€šé£å£ã€‚è¿™äº›åˆ‡ç‰‡å®‰æ’åœ¨åœ¨æ¯ä¸ªçª—å£ä¹‹é—´ã€‚è®©æˆ‘ä»¬æ›´æ–°æˆ‘ä»¬çš„ &lt;code&gt;WallSpritesPool&lt;/code&gt; ç±»ä»¥åŒ…å«å¢™é¢è£…é¥°åˆ‡ç‰‡ã€‚ä»£ç ä¸å£çš„å¯¹è±¡æ± éå¸¸ç›¸ä¼¼ï¼Œæ‰€ä»¥å®ƒä»¬çœ‹èµ·æ¥éƒ½åº”è¯¥å¾ˆç†Ÿæ‚‰ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ &lt;code&gt;WallSpritesPool.js&lt;/code&gt; å¹¶åœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œä»¥ä¸‹è°ƒç”¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.createWindows();
  this.createDecorations(); // æ·»åŠ 
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨çœŸæ­£æ¥å®ç°Â &lt;code&gt;createDecorations()&lt;/code&gt;Â æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.createWindows = function() {
  this.windows = [];

  this.addWindowSprites(6, &amp;quot;window_01&amp;quot;);
  this.addWindowSprites(6, &amp;quot;window_02&amp;quot;);

  this.shuffle(this.windows);
};
// å®ç°
WallSpritesPool.prototype.createDecorations = function() {
  this.decorations = [];

  this.addDecorationSprites(6, &amp;quot;decoration_01&amp;quot;);
  this.addDecorationSprites(6, &amp;quot;decoration_02&amp;quot;);
  this.addDecorationSprites(6, &amp;quot;decoration_03&amp;quot;);

  this.shuffle(this.decorations);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç é€šè¿‡è°ƒç”¨ &lt;code&gt;addDecorationSprites()&lt;/code&gt; æ–¹æ³•å°† 18 ä¸ªè£…é¥°ç²¾çµæ·»åŠ åˆ°å¯¹è±¡æ± ä¸­ï¼ˆç¨åæˆ‘ä»¬å°†å®ç°è¿™ä¸ªæ–¹æ³•ï¼‰ã€‚å‰å…­ä¸ªç²¾çµä½¿ç”¨æˆ‘ä»¬çš„ç²¾çµè¡¨ä¸­çš„ &lt;code&gt;decoration_01&lt;/code&gt; å¸§ã€‚æ¥ä¸‹æ¥çš„å…­ä¸ªä½¿ç”¨ &lt;code&gt;decoration_02&lt;/code&gt;ï¼Œæœ€åå…­ä¸ªä½¿ç”¨ &lt;code&gt;decoration_03&lt;/code&gt;ã€‚ç„¶åè°ƒç”¨ &lt;code&gt;shuffle()&lt;/code&gt; ç¡®ä¿ç²¾çµéšæœºæ”¾ç½®åœ¨æˆ‘ä»¬çš„è£…é¥°æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬å·²å°†å…¶å£°æ˜ä¸ºæ­¤ç±»çš„æˆå‘˜å˜é‡ï¼Œå¹¶ç”¨äºå­˜å‚¨å¢™é¢è£…é¥°ç²¾çµã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬æ¥ç¼–å†™ &lt;code&gt;addDecorationSprites()&lt;/code&gt; æ–¹æ³•ã€‚åœ¨ &lt;code&gt;addWindowSprites()&lt;/code&gt; æ–¹æ³•ä¹‹åç›´æ¥æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.addWindowSprites = function(amount, frameId) {
  for (var i = 0; i &amp;lt; amount; i++)
  {
    var sprite = new PIXI.Sprite(PIXI.Texture.fromFrame(frameId));
    this.windows.push(sprite);
  }
};
// å®ç°
WallSpritesPool.prototype.addDecorationSprites = function(amount, frameId) {
  for (var i = 0; i &amp;lt; amount; i++)
  {
    var sprite = new PIXI.Sprite(PIXI.Texture.fromFrame(frameId));
    this.decorations.push(sprite);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨å‰©ä¸‹è¦åšçš„å°±æ˜¯æ·»åŠ ä¸¤ä¸ªæ–°æ–¹æ³•ï¼Œå…è®¸ä»å¯¹è±¡æ± å€Ÿç”¨è£…é¥°ç²¾çµå¹¶è¿”è¿˜ã€‚æ–¹æ³•åç§°å°†éµå¾ªç”¨äºçª—å£ç²¾çµçš„å‘½åçº¦å®šã€‚æ·»åŠ  &lt;code&gt;borrowDecoration()&lt;/code&gt; å’Œ &lt;code&gt;returnDecoration()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.borrowWindow = function() {
  return this.windows.shift();
};
	
WallSpritesPool.prototype.returnWindow = function(sprite) {
  this.windows.push(sprite);
};
// å®ç°
WallSpritesPool.prototype.borrowDecoration = function() {
  return this.decorations.shift();
};
	
WallSpritesPool.prototype.returnDecoration = function(sprite) {
  this.decorations.push(sprite);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬çš„å¯¹è±¡æ± ç°åœ¨æ”¯æŒçª—å£å’Œè£…é¥°ä¸¤ç§åˆ‡ç‰‡ç±»å‹ã€‚è®©æˆ‘ä»¬å›åˆ°ä¹‹å‰æ·»åŠ åˆ° Mainç±»ä¸­çš„æµ‹è¯•æ–¹æ³•ï¼Œå¹¶æµ‹è¯•ä¸€åˆ‡æ˜¯å¦æ­£å¸¸ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¯¹è±¡æ± çš„æµ‹è¯•&#34;&gt;å¯¹è±¡æ± çš„æµ‹è¯•&lt;/h2&gt;

&lt;p&gt;å‰é¢æˆ‘ä»¬å»ºé€ äº†ä¸€é¢ç²—ç³™å¢™ï¼Œå®Œå…¨ç”±æˆ‘ä»¬çš„å¯¹è±¡æ± ä¸­çš„çª—å£ç»„æˆã€‚è®©æˆ‘ä»¬ç¨å¾®æ”¹å˜æˆ‘ä»¬çš„æµ‹è¯•ä»£ç ï¼Œåœ¨æ¯ä¸ªçª—å£ä¹‹é—´æ”¾ç½®è£…é¥°åˆ‡ç‰‡ã€‚è¿™å°†å¯ä»¥æµ‹è¯•åˆ°æ˜¯å¦çœŸçš„å¯ä»¥ä»å¯¹è±¡æ± ä¸­å€Ÿç”¨åˆ°çª—å£åˆ‡ç‰‡å’Œè£…é¥°åˆ‡ç‰‡ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ Main.js å¹¶ä» &lt;code&gt;borrowWallSprites()&lt;/code&gt; æ–¹æ³•ä¸­åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.borrowWallSprites = function(num) {
  for (var i = 0; i &amp;lt; num; i++)
  {
    var sprite = this.pool.borrowWindow(); // åˆ é™¤
    sprite.position.x = -32 + (i * 64);
    sprite.position.y = 128;

    this.wallSlices.push(sprite);

    this.stage.addChild(sprite);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”¨ä¸‹é¢å‡ è¡Œä»£æ›¿ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.borrowWallSprites = function(num) {
  for (var i = 0; i &amp;lt; num; i++)
  {
    if (i % 2 == 0) { // æ·»åŠ 
      var sprite = this.pool.borrowWindow(); // æ·»åŠ 
    } else { // æ·»åŠ 
      var sprite = this.pool.borrowDecoration(); // æ·»åŠ 
    } // æ·»åŠ 
    sprite.position.x = -32 + (i * 64);
    sprite.position.y = 192;

    this.wallSlices.push(sprite);

    this.stage.addChild(sprite);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ä½¿ç”¨æ¨¡è¿ç®—ç¬¦ï¼ˆï¼…ï¼‰æ¥ç¡®ä¿æˆ‘ä»¬åœ¨å¾ªç¯çš„å¥‡æ•°æ¬¡è¿­ä»£å€Ÿç”¨ä¸€ä¸ªçª—å£ç²¾çµï¼Œå¶æ•°æ¬¡è¿­ä»£æ—¶å€Ÿç”¨ä¸€ä¸ªè£…é¥°ç²¾çµã€‚è¿™ä¸ªç®€å•çš„æ›´æ”¹å…è®¸æˆ‘ä»¬ç°åœ¨ç”Ÿæˆå…·æœ‰ä»¥ä¸‹æ¨¡å¼çš„æµ‹è¯•ç –å—å¢™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;window, decoration, window, decoration, window, decoration, window
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨è½¬åˆ° &lt;code&gt;returnWallSprites()&lt;/code&gt; æ–¹æ³•å¹¶åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.returnWallSprites = function() {
  for (var i = 0; i &amp;lt; this.wallSlices.length; i++)
  {
    var sprite = this.wallSlices[i]; // åˆ é™¤
    this.stage.removeChild(sprite);
    this.pool.returnWindow(sprite);
  }

  this.wallSlices = [];
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”¨ä¸‹é¢å‡ è¡Œä»£æ›¿ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.returnWallSprites = function() {
  for (var i = 0; i &amp;lt; this.wallSlices.length; i++)
  {
    var sprite = this.wallSlices[i];
    this.stage.removeChild(sprite);

    if (i % 2 == 0) { // æ·»åŠ 
      this.pool.returnWindow(sprite); // æ·»åŠ 
    } else { // æ·»åŠ 
      this.pool.returnDecoration(sprite); // æ·»åŠ 
    } // æ·»åŠ 
  }

  this.wallSlices = [];
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬å†æ¬¡ä½¿ç”¨äº†æ¨¡è¿ç®—ç¬¦ï¼Œè¿™æ¬¡ç¡®ä¿æˆ‘ä»¬å°†æ­£ç¡®çš„ç²¾çµï¼ˆçª—å£æˆ–è£…é¥°ï¼‰è¿”å›ç»™å¯¹è±¡æ± ã€‚&lt;/p&gt;

&lt;p&gt;ä¿å­˜ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;åˆ·æ–°æµè§ˆå™¨ï¼Œç„¶åä½¿ç”¨ Chrome çš„ JavaScript æ§åˆ¶å°æµ‹è¯•æˆ‘ä»¬çš„å¯¹è±¡æ± ã€‚é€šè¿‡åœ¨æ§åˆ¶å°çª—å£ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹æ¥ç”Ÿæˆæµ‹è¯•å¢™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.borrowWallSprites(9);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä¸å‡ºæ„å¤–ï¼Œé‚£ä¹ˆä½ åº”è¯¥çœ‹åˆ°ä¸€ä¸ªç”±çª—æˆ·æ„æˆçš„æµ‹è¯•å¢™ï¼Œå…¶é—´æ’æœ‰å„ç§å¢™å£è£…é¥°ï¼Œå¦‚ç®¡é“å’Œé€šé£å£ã€‚å®é™…ä¸Šï¼Œä½ çš„ç –å—å¢™åº”è¯¥ç±»ä¼¼äºä¸‹é¢çš„å›¾ç‰‡ï¼Œå®ƒæ˜¯ä»æˆ‘çš„å¼€å‘æœºä¸Šæˆªå–çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img30.360buyimg.com/devfe/jfs/t1/14835/23/11449/35081/5c8f948eE577f4c48/924d41b53e1f6ded.png&#34; alt=&#34;tut3-more-object-pool-testing&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è™½ç„¶æˆ‘ä»¬ç›®å‰åªç¼–å†™äº†ä¸€äº›ç®€å•çš„æµ‹è¯•ï¼Œä½†æˆ‘ä»¬æ‰€åšçš„å¹¶ä¸æ˜¯ä¸ºäº†ç”Ÿæˆæ•´ä¸ªæ¸¸æˆåœ°å›¾ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹è°ƒç”¨å°†ç²¾çµè¿”è¿˜åˆ°å¯¹è±¡æ± ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.returnWallSprites();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€šè¿‡å¯¹ &lt;code&gt;borrowWallSprites()&lt;/code&gt; å’Œ &lt;code&gt;returnWallSprites()&lt;/code&gt; è¿›è¡Œä¸€äº›æ‰‹åŠ¨è°ƒç”¨æ¥éªŒè¯å¯¹è±¡æ± æ˜¯å¦å®Œå…¨æ­£å¸¸å·¥ä½œï¼ˆè¯‘è€…ï¼šå»ºè®®å¤šè°ƒç”¨å‡ æ¬¡éªŒè¯ç¨‹åºæ˜¯å¦æ­£å¸¸ï¼‰ã€‚æ­¤å¤–ï¼Œä½¿ç”¨æ§åˆ¶å°æ£€æŸ¥å¯¹è±¡æ± çš„çª—å£å’Œè£…é¥°æ•°ç»„çš„é•¿åº¦æ˜¯å¦æ­£å¸¸ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç»™ä½ çš„å¯¹è±¡æ± æ·»åŠ è¾¹ç¼˜&#34;&gt;ç»™ä½ çš„å¯¹è±¡æ± æ·»åŠ è¾¹ç¼˜&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬æ­£ä¸€æ­¥æ­¥èµ°å‘æˆåŠŸã€‚ç²¾çµæ± ç›®å‰ä½¿å¾—æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåŸå§‹çš„ç –å—å¢™ï¼Œä½†å®ƒè¿˜æ²¡æœ‰å¢™çš„å‰åè¾¹ç¼˜ã€‚è®©æˆ‘ä»¬ç»§ç»­æ·»åŠ è¿™äº›åˆ‡ç‰‡ç±»å‹ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€ &lt;code&gt;WallSpritesPool.js&lt;/code&gt; å¹¶å°†ä»¥ä¸‹ä¸¤è¡Œæ·»åŠ åˆ°å…¶æ„é€ å‡½æ•°ä¸­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.createWindows();
  this.createDecorations();
  this.createFrontEdges(); // æ·»åŠ 
  this.createBackEdges(); // æ·»åŠ 
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨æ·»åŠ ä¸€ä¸ª &lt;code&gt;createFrontEdges()&lt;/code&gt; å’Œä¸€ä¸ª &lt;code&gt;createBackEdges()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.createDecorations = function() {
  this.decorations = [];

  this.addDecorations(6, &amp;quot;decoration_01&amp;quot;);
  this.addDecorations(6, &amp;quot;decoration_02&amp;quot;);
  this.addDecorations(6, &amp;quot;decoration_03&amp;quot;);

  this.shuffle(this.decorations);
};
// æ·»åŠ 
WallSpritesPool.prototype.createFrontEdges = function() {
  this.frontEdges = [];

  this.addFrontEdgeSprites(2, &amp;quot;edge_01&amp;quot;);
  this.addFrontEdgeSprites(2, &amp;quot;edge_02&amp;quot;);

  this.shuffle(this.frontEdges);
};
// æ·»åŠ 
WallSpritesPool.prototype.createBackEdges = function() {
  this.backEdges = [];

  this.addBackEdgeSprites(2, &amp;quot;edge_01&amp;quot;);
  this.addBackEdgeSprites(2, &amp;quot;edge_02&amp;quot;);

  this.shuffle(this.backEdges);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½ åº”è¯¥èƒ½å¤Ÿè½»æ¾åœ°çœ‹å‡ºæ¥ä¸¤ç§æ–¹æ³•åœ¨å¹²ä»€ä¹ˆã€‚ç¬¬ä¸€ä¸ªæ–¹æ³•åˆ›å»ºå››ä¸ªå‰è¾¹ç¼˜åˆ‡ç‰‡ï¼Œå…¶ä¸­ä¸¤ä¸ªä½¿ç”¨ç²¾çµè¡¨çš„ &lt;code&gt;edge_01&lt;/code&gt; å¸§ï¼Œå¦å¤–ä¸¤ä¸ªä½¿ç”¨ &lt;code&gt;edge_02&lt;/code&gt;ã€‚ç¬¬äºŒä¸ªæ–¹æ³•åˆ›å»ºå››ä¸ªåè¾¹ç¼˜åˆ‡ç‰‡ï¼Œå¹¶ä½¿ç”¨ç²¾çµè¡¨ä¸­ä¸å‰è¾¹ç¼˜å®Œå…¨ç›¸åŒçš„å¸§ã€‚&lt;/p&gt;

&lt;p&gt;å››ä¸ªå‰å£è¾¹ç¼˜å¯èƒ½çœ‹èµ·æ¥ç›¸å½“å°‘ï¼Œä½†å®ƒä¼šç»°ç»°æœ‰ä½™ï¼Œå› ä¸ºå³ä½¿ç –å—å¢™é•¿åº¦å¾ˆçŸ­ä¹Ÿè‡³å°‘ä¼šå è§†å£ä¸€åŠå®½åº¦ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸ä¼šä½¿ç”¨è¶…è¿‡å››ä¸ªå‰å£è¾¹ç¼˜ã€‚åå¢™è¾¹ç¼˜ä¹Ÿæ˜¯å¦‚æ­¤ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨ç»§ç»­æ·»åŠ  &lt;code&gt;addFrontEdgeSprites()&lt;/code&gt; å’Œ &lt;code&gt;addBackEdgeSprites()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.addDecorationSprites = function(amount, frameId) {
  for (var i = 0; i &amp;lt; amount; i++)
  {
    var sprite = new PIXI.Sprite(PIXI.Texture.fromFrame(frameId));
    this.decorations.push(sprite);
  }
};
// æ·»åŠ 
WallSpritesPool.prototype.addFrontEdgeSprites = function(amount, frameId) {
  for (var i = 0; i &amp;lt; amount; i++)
  {
    var sprite = new PIXI.Sprite(PIXI.Texture.fromFrame(frameId));
    this.frontEdges.push(sprite);
  }
};
// æ·»åŠ 
WallSpritesPool.prototype.addBackEdgeSprites = function(amount, frameId) {
  for (var i = 0; i &amp;lt; amount; i++)
  {
    var sprite = new PIXI.Sprite(PIXI.Texture.fromFrame(frameId));
    sprite.anchor.x = 1;
    sprite.scale.x = -1;
    this.backEdges.push(sprite);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç æ²¡ä»€ä¹ˆç‰¹æ®Šçš„åœ°æ–¹ï¼Œä½† &lt;code&gt;addBackEdgeSprites()&lt;/code&gt; æ–¹æ³•ä¸­æœ‰å‡ è¡Œå€¼å¾—æ³¨æ„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var sprite = new PIXI.Sprite(PIXI.Texture.fromFrame(frameId));
sprite.anchor.x = 1; // é«˜äº®è¡Œ
sprite.scale.x = -1;// é«˜äº®è¡Œ
this.backEdges.push(sprite);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å‰è¾¹ç¼˜æ‰€ä½¿ç”¨çš„ç›¸åŒçš„ç²¾çµå¸§ï¼Œæˆ‘ä»¬éœ€è¦æ°´å¹³ç¿»è½¬åè¾¹ç¼˜ç²¾çµï¼Œä»¥ä¾¿å®ƒä»¬é€‚å½“åœ°è´´åˆåœ¨ç –å—å¢™çš„çš„æœ«ç«¯ã€‚ä¸‹å›¾èƒ½è¯´æ˜æˆ‘çš„æ„æ€ã€‚å®ƒåœ¨ç¿»è½¬ä¹‹å‰æ˜¾ç¤ºåè¾¹ç¼˜ã€‚å®ƒä¸å¢™è·¨æ²¡æœ‰æ­£ç¡®è¿æ¥ï¼Œçœ‹èµ·æ¥ä¸å¯¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img11.360buyimg.com/devfe/jfs/t1/11227/6/11995/56141/5c8f9805E1ad7c9c8/fd79415b5830ed29.png&#34; alt=&#34;flipping-wall-edges-1&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶è€Œï¼Œåœ¨ç¿»è½¬åçš„åè¾¹ç¼˜ç²¾çµï¼Œä¼šç´§è´´ç€ç –å—å¢™çš„æœ«ç«¯ã€‚å¦‚ä¸‹å›¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img11.360buyimg.com/devfe/jfs/t1/20989/3/11470/60426/5c8f984bEf542d99e/fa35da3c1aed568a.png&#34; alt=&#34;flipping-wall-edges-2&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç¿»è½¬ç²¾çµå¾ˆå®¹æ˜“ã€‚æˆ‘ä»¬åªéœ€ä½¿ç”¨ &lt;code&gt;PIXI.Sprite&lt;/code&gt; ç±»çš„ &lt;code&gt;scale&lt;/code&gt; å±æ€§å³å¯ã€‚ &lt;code&gt;scale&lt;/code&gt; å±æ€§å…·æœ‰ x å’Œ y å€¼ï¼Œå¯ä»¥è°ƒæ•´è¯¥å€¼ä»¥æ›´æ”¹ sprite çš„å¤§å°ã€‚ä½†æ˜¯ï¼Œå°† &lt;code&gt;scale.x&lt;/code&gt; å€¼è®¾ç½®ä¸º -1ï¼Œæˆ‘ä»¬å¯ä»¥å¼ºåˆ¶ç²¾çµæ°´å¹³ç¿»è½¬è€Œä¸æ˜¯ç¼©æ”¾ã€‚&lt;/p&gt;

&lt;p&gt;Pixi çš„ &lt;code&gt;PIXI.Sprite&lt;/code&gt; ç±»è¿˜æä¾›äº†ä¸€ä¸ª &lt;code&gt;anchor&lt;/code&gt; å±æ€§ï¼Œç”¨äºå®šä¹‰ &lt;code&gt;sprite&lt;/code&gt; çš„é”šç‚¹ï¼ˆè½´å¿ƒç‚¹ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç²¾çµçš„é”šç‚¹åœ¨å·¦ä¸Šè§’ã€‚ä½ å¯ä»¥è®¾ç½®é”šç‚¹çš„ x å’Œ y ä½ç½®ä»¥è°ƒæ•´ç²¾çµçš„é”šã€‚&lt;code&gt;anchor.set()&lt;/code&gt; æ–¹æ³•è®¾ç½®ç”¨äº x å’Œ y ä½ç½®çš„ &lt;strong&gt;æ¯”ç‡å€¼&lt;/strong&gt;ï¼Œ&lt;code&gt;0,0&lt;/code&gt; è¡¨ç¤ºç²¾çµçš„å·¦ä¸Šè§’ï¼Œ&lt;code&gt;1,1&lt;/code&gt; è¡¨ç¤ºå…¶å³ä¸‹è§’ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æˆ‘ä»¬çš„æ•™ç¨‹ä¸­åªä½¿ç”¨é»˜è®¤å€¼ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰å®šä½éƒ½åœ¨ç²¾çµçš„å·¦ä¸Šè§’ã€‚ç„¶è€Œï¼Œé€šè¿‡æ°´å¹³ç¿»è½¬è¾¹ç¼˜ç²¾çµï¼Œæˆ‘ä»¬ä¹Ÿç¿»è½¬äº†å®ƒä»¬çš„é”šç‚¹çš„ä½ç½®ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨æ°´å¹³ç¿»è½¬ç²¾çµä¹‹åï¼Œå®ƒçš„åŸç‚¹ä¼šæ”¹å˜åˆ°å®ƒçš„å³ä¸Šè§’ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å°†å®ƒä»¬æ°´å¹³ç¿»è½¬ä¹‹å‰å°†ç²¾çµçš„åŸç‚¹è®¾ç½®ä¸ºå³ä¸Šè§’ã€‚è¿™æ ·ï¼Œç¿»è½¬åï¼Œå®ƒå°†è¢«æ­£ç¡®è®¾ç½®åˆ°å·¦ä¸Šè§’ã€‚&lt;/p&gt;

&lt;p&gt;å¥½çš„ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥ç¼–å†™å¯ä»¥å€Ÿç”¨è¾¹ç¼˜å¹¶è¿”è¿˜ç»™å¯¹è±¡æ± çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.returnDecoration = function(sprite) {
  this.decorations.push(sprite);
};
// æ·»åŠ 
WallSpritesPool.prototype.borrowFrontEdge = function() {
  return this.frontEdges.shift();
};

WallSpritesPool.prototype.returnFrontEdge = function(sprite) {
  this.frontEdges.push(sprite);
};

WallSpritesPool.prototype.borrowBackEdge = function() {
  return this.backEdges.shift();
};

WallSpritesPool.prototype.returnBackEdge = function(sprite) {
  this.backEdges.push(sprite);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ä½ çš„ä»£ç ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ„å»ºç¬¬ä¸€ä¸ªå®Œæ•´çš„ç –å—å¢™&#34;&gt;æ„å»ºç¬¬ä¸€ä¸ªå®Œæ•´çš„ç –å—å¢™&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬çš„ç²¾çµæ± ç°åœ¨æ”¯æŒè¶³å¤Ÿå¤šçš„å‚åˆ‡ç‰‡ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥æ„å»ºå®Œæ•´çš„ç –å—å¢™äº†ã€‚è®°ä½ï¼Œä¸€å—å®Œæ•´çš„ç –å—å¢™åŒ…æ‹¬ &lt;strong&gt;å‰è¾¹ç¼˜&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸­é—´éƒ¨åˆ†&lt;/strong&gt; å’Œ &lt;strong&gt;åè¾¹ç¼˜&lt;/strong&gt;ã€‚ä¸­é—´éƒ¨åˆ†è‡³å°‘åº”åŒ…æ‹¬ &lt;strong&gt;çª—æˆ·&lt;/strong&gt; å’Œå¢™å£ &lt;strong&gt;è£…é¥°&lt;/strong&gt;ã€‚ä¸€äº›ç –å—å¢™ä¹Ÿå¯èƒ½åŒ…æ‹¬ä¸€ä¸ª &lt;strong&gt;å°é˜¶&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è®©æˆ‘ä»¬å›åˆ° Main ç±»ï¼Œå¹¶ç¼–å†™ä¸€äº›æµ‹è¯•ä»£ç ï¼Œåœ¨æˆ‘ä»¬çš„è§†å£ä¸­ç»˜åˆ¶ä¸€ä¸ªå®Œæ•´çš„ç –å—å¢™ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œåˆ é™¤ä»¥å‰çš„æµ‹è¯•æ–¹æ³•ã€‚æ‰“å¼€ Main.js å¹¶åˆ é™¤ &lt;code&gt;borrowWallSprites()&lt;/code&gt; å’Œ &lt;code&gt;returnWallSprites()&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å°†å®ç°ä¸€ä¸ªåä¸º &lt;code&gt;generateTestWallSpan()&lt;/code&gt; çš„æ–°æ–¹æ³•ï¼Œç”¨å®ƒæ¥ç”Ÿæˆä¸ƒä¸ªåˆ‡ç‰‡å®½åº¦çš„ç –å—å¢™ã€‚æˆ‘ä»¬å°†æŠŠæ‰€æœ‰åˆ‡ç‰‡å­˜æ”¾åœ¨ä¸€å¼ è¡¨é‡Œé¢ã€‚é¦–å…ˆæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.generateTestWallSpan = function() {
  var lookupTable = [
    this.pool.borrowFrontEdge,  // ç¬¬ä¸€ä¸ªåˆ‡ç‰‡
    this.pool.borrowWindow,     // ç¬¬äºŒä¸ªåˆ‡ç‰‡
    this.pool.borrowDecoration, // ç¬¬ä¸‰ä¸ªåˆ‡ç‰‡
    this.pool.borrowWindow,     // ç¬¬å››ä¸ªåˆ‡ç‰‡
    this.pool.borrowDecoration, // ç¬¬äº”ä¸ªåˆ‡ç‰‡
    this.pool.borrowWindow,     // ç¬¬å…­ä¸ªåˆ‡ç‰‡
    this.pool.borrowBackEdge    // ç¬¬ä¸ƒä¸ªåˆ‡ç‰‡
  ];
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™å¼ è¡¨æ˜¯ä¸€ä¸ªå­˜æ”¾å‡½æ•°å¼•ç”¨çš„æ•°ç»„ã€‚æ•°ç»„ä¸­çš„æ¯ä¸ªç´¢å¼•ä»£è¡¨ä¸ƒä¸ªåˆ‡ç‰‡ä¸­çš„ä¸€ä¸ªã€‚ç¬¬ä¸€ä¸ªç´¢å¼•è¡¨ç¤ºå¢™çš„å‰è¾¹ç¼˜ï¼Œæœ€åä¸€ä¸ªè¡¨ç¤ºåè¾¹ç¼˜ã€‚ä¸­é—´çš„æŒ‡æ•°ä»£è¡¨ä»£è¡¨å¢™å£ä¸­æ®µçš„äº”ä¸ªåˆ‡ç‰‡ã€‚&lt;/p&gt;

&lt;p&gt;æ¯ä¸ªç´¢å¼•éƒ½åŒ…å«å¯¹æ„å»ºç –å—å¢™æ‰€éœ€çš„å¯¹è±¡æ± ä¸­å¯¹åº”çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªç´¢å¼•åŒ…å«å¯¹æ± çš„ &lt;code&gt;borrowFrontEdge()&lt;/code&gt; æ–¹æ³•çš„å¼•ç”¨ã€‚ç¬¬äºŒä¸ªç´¢å¼•åŒ…å«å¯¹ &lt;code&gt;borrowWindow()&lt;/code&gt; çš„å¼•ç”¨ï¼Œç¬¬ä¸‰ä¸ªç´¢å¼•åŒ…å«å¯¹ &lt;code&gt;borrowDecoration()&lt;/code&gt; çš„å¼•ç”¨ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.generateTestWallSpan = function() {
  var lookupTable = [
    this.pool.borrowFrontEdge,  // 1st slice
    this.pool.borrowWindow,     // 2nd slice
    this.pool.borrowDecoration, // 3rd slice
    this.pool.borrowWindow,     // 4th slice
    this.pool.borrowDecoration, // 5th slice
    this.pool.borrowWindow,     // 6th slice
    this.pool.borrowBackEdge    // 7th slice
  ];
  // æ·»åŠ 
  for (var i = 0; i &amp;lt; lookupTable.length; i++)
  {
    var func = lookupTable[i];

    var sprite = func.call(this.pool);
    sprite.position.x = 32 + (i * 64);
    sprite.position.y = 128;

    this.wallSlices.push(sprite);

    this.stage.addChild(sprite);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨å¾ªç¯å†…éƒ¨ï¼Œæˆ‘ä»¬çš„ä»£ç è·å–å¯¹åº”åˆ‡ç‰‡çš„å€Ÿç”¨æ–¹æ³•çš„å¼•ç”¨ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨åä¸º &lt;code&gt;func&lt;/code&gt; çš„å±€éƒ¨å˜é‡ä¸­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var func = lookupTable[i];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸€æ—¦æˆ‘ä»¬æœ‰äº†è¿™ä¸ªæ­£ç¡®çš„å¼•ç”¨ï¼Œå°±ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è°ƒç”¨å®ƒï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var sprite = func.call(this.pool);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;call()&lt;/code&gt; æ˜¯ä¸€ç§åŸç”Ÿçš„ JavaScript æ–¹æ³•ï¼Œå¯ç”¨æ¥ä»å‡½æ•°å¼•ç”¨è°ƒç”¨å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨å¾ªç¯çš„ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œ&lt;code&gt;func&lt;/code&gt; å˜é‡å°†æŒ‡å‘ç²¾çµæ± çš„ &lt;code&gt;borrowFrontEdge()&lt;/code&gt; æ–¹æ³•ã€‚å› æ­¤ï¼Œè°ƒç”¨ &lt;code&gt;func&lt;/code&gt; çš„ &lt;code&gt;call()&lt;/code&gt; æ–¹æ³•ä¸ä¸‹é¢çš„ä»£ç ç­‰ä»·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;this.pool.borrowFrontEdge()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ‰äº†ç”Ÿæˆæµ‹è¯•å¢™çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ç¼–å†™å¦ä¸€ä¸ªåä¸º &lt;code&gt;clearTestWallSpan()&lt;/code&gt; çš„æ¸…é™¤å¢™çš„æ–¹æ³•ã€‚æ­¤æ–¹æ³•å°†ä»èˆå°ç§»é™¤ç –å—å¢™å¹¶å°†åˆ‡ç‰‡è¿”è¿˜åˆ°å¯¹è±¡æ± ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä½ çš„æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.clearTestWallSpan = function() {
  var lookupTable = [
    this.pool.returnFrontEdge,  // 1st slice
    this.pool.returnWindow,     // 2nd slice
    this.pool.returnDecoration, // 3rd slice
    this.pool.returnWindow,     // 4th slice
    this.pool.returnDecoration, // 5th slice
    this.pool.returnWindow,     // 6th slice
    this.pool.returnBackEdge    // 7th slice
  ];

  for (var i = 0; i &amp;lt; lookupTable.length; i++)
  {
    var func = lookupTable[i];
    var sprite = this.wallSlices[i];

    this.stage.removeChild(sprite);
    func.call(this.pool, sprite);
  }

  this.wallSlices = [];
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬å†ä¸€æ¬¡ä½¿ç”¨äº†ä¸€å¼ è¡¨ã€‚ä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬å­˜å‚¨çš„æ˜¯å¯¹åº”çš„åˆ‡ç‰‡è¿”è¿˜æ–¹æ³•çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬çŸ¥é“ç –å—å¢™çš„ç¬¬ä¸€ä¸ªåˆ‡ç‰‡æ˜¯å¢™çš„å‰è¾¹ç¼˜ã€‚å› æ­¤ï¼Œå­˜å‚¨åœ¨è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯ &lt;code&gt;returnFrontEdge()&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œè¯·æ³¨æ„ï¼Œè¿™æ¬¡ä½¿ç”¨åŸç”Ÿ JavaScript &lt;code&gt;call()&lt;/code&gt; æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å°†ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™å®ƒã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯æˆ‘ä»¬æƒ³è¦è¿”è¿˜ç»™æ± å­çš„ç²¾çµã€‚&lt;/p&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹å¹¶åˆ·æ–°æµè§ˆå™¨ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®Œæ•´çš„ç –å—å¢™æ˜¯ä»€ä¹ˆæ ·çš„ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ Chrome çš„ JavaScript æ§åˆ¶å°å¹¶æ‰§è¡Œç”Ÿæˆç –å—å¢™çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.generateTestWallSpan();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½ åº”è¯¥ä¼šçœ‹åˆ°ä¸ƒä¸ªåˆ‡ç‰‡å®½çš„ç –å—å¢™ã€‚è¿˜æœ‰å‰åè¾¹ç¼˜ã€‚ä½ çš„æµè§ˆå™¨çª—å£åº”ç±»ä¼¼äºä¸‹é¢çš„å±å¹•æˆªå›¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t1/31494/17/6527/54099/5c904c26E4099c026/3b44cd4397cdfbee.png&#34; alt=&#34;wall-span-screenshot-1&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸ƒä¸ªåˆ‡ç‰‡éƒ½æ˜¯ä»æˆ‘ä»¬çš„å¯¹è±¡æ± ä¸­å€Ÿæ¥çš„ã€‚è®©æˆ‘ä»¬é€šè¿‡åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹æ¥è¿”è¿˜å®ƒä»¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.clearTestWallSpan();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ‡ç‰‡ç²¾çµåº”è¯¥ä¼šè¢«ä»èˆå°ä¸Šç§»é™¤å¹¶è¿”å›åˆ°ä½ çš„å¯¹è±¡æ± ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;å†æ¬¡ç”Ÿæˆç –å—å¢™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.generateTestWallSpan();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½ ä¼šå†æ¬¡çœ‹åˆ°ç –å—å¢™ï¼Œä½†è¿™æ¬¡ä½ çœ‹åˆ°å¢™å£ä¸Šçš„è£…é¥°ä¸ä¸Šæ¬¡ä¸åŒï¼Œçª—å£ç±»å‹ä¹Ÿå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œç”šè‡³å‰åè¾¹ç¼˜çš„å¤–è§‚ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img11.360buyimg.com/devfe/jfs/t1/20076/19/11507/48534/5c904d00E4af6178d/7fc329522b49ae99.png&#34; alt=&#34;wall-span-screenshot-2&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™äº›å·®å¼‚æ˜¯ç”±äºæˆ‘ä»¬è¿™æ¬¡å€Ÿç”¨äº†ä¸åŒçš„å¢™ç‰‡é€ æˆçš„ã€‚æˆ‘ä»¬ä¹‹å‰çš„åˆ‡ç‰‡è¿”å›åˆ°äº†æ¯ä¸ªå¯¹è±¡æ± çš„æ•°ç»„ &lt;strong&gt;æœ€åé¢&lt;/strong&gt;ï¼Œè€Œå€Ÿç”¨çš„ç²¾çµæ€»æ˜¯æ¥è‡ªæˆ‘ä»¬æ•°ç»„çš„ &lt;strong&gt;å‰é¢&lt;/strong&gt;ã€‚è¿™æ ·æ•ˆæœä¼šæ¯”è¾ƒå¥½ï¼Œå› ä¸ºç©å®¶å¾ˆéš¾å‡†ç¡®é¢„æµ‹ä»æ± ä¸­è·å–æ¯ä¸ªåˆ‡ç‰‡ç±»å‹çš„æ ·å­ã€‚å®ƒä¼šè®©æˆ‘ä»¬æ¸¸æˆåœ°å›¾çš„å¢™å—éšæœºå‡ºç°ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç»™ç –å—å¢™æ·»åŠ å°é˜¶&#34;&gt;ç»™ç –å—å¢™æ·»åŠ å°é˜¶&lt;/h2&gt;

&lt;p&gt;å¸Œæœ›ä½ èƒ½ä»ä¸Šé¢çš„å®ç°ä»£ç ä¸­å¾—åˆ°æˆå°±æ„Ÿã€‚æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨å¯¹è±¡æ± æ„å»ºå®Œæ•´çš„ç –å—å¢™ã€‚ç°åœ¨å‰©ä¸‹è¦åšçš„å°±æ˜¯ä¸ºå¯¹è±¡æ± æ·»åŠ å°é˜¶çš„æ”¯æŒã€‚è®©æˆ‘ä»¬ç»§ç»­å§ã€‚&lt;/p&gt;

&lt;p&gt;è¿”å›æ–‡æœ¬ç¼–è¾‘å™¨å¹¶ç¡®ä¿ &lt;code&gt;WallSpritesPool.js&lt;/code&gt; å·²æ‰“å¼€ã€‚&lt;/p&gt;

&lt;p&gt;æ·»åŠ ä¸‹é¢ä¸€è¡Œåˆ°æ„é€ å‡½æ•°ä¸­ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function WallSpritesPool() {
  this.createWindows();
  this.createDecorations();
  this.createFrontEdges();
  this.createBackEdges();
  this.createSteps(); // æ·»åŠ 
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨æ¥å®ç° &lt;code&gt;createSteps()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.createSteps = function() {
  this.steps = [];
  this.addStepSprites(2, &amp;quot;step_01&amp;quot;);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¹¶ä¸”æ·»åŠ ä¸€ä¸ªÂ &lt;code&gt;addStepSprites()&lt;/code&gt;Â æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.addStepSprites = function(amount, frameId) {
  for (var i = 0; i &amp;lt; amount; i++)
  {
    var sprite = new PIXI.Sprite(PIXI.Texture.fromFrame(frameId));
    sprite.anchor.y = 0.25;
    this.steps.push(sprite);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°é˜¶å¾ˆå°‘ä¼šå‡ºç°ï¼Œè™½ç„¶æˆ‘ä»¬å°†åœ¨ç²¾çµæ± ä¸­åªä½¿ç”¨ä¸¤ä¸ªã€‚ä½†è¯´å®è¯ï¼Œä½†å·²ç»è¶³å¤Ÿäº†ã€‚&lt;/p&gt;

&lt;p&gt;æ­¤å¤–ï¼Œå°±åƒåè¾¹ç¼˜åˆ‡ç‰‡ç±»å‹ä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† anchor å±æ€§æ¥æ”¹å˜ç²¾çµçš„é”šç‚¹ã€‚è¿™æ¬¡æˆ‘ä»¬é€šè¿‡å‘ä¸‹ç§»åŠ¨ 64 åƒç´ æ¥æ”¹å˜é”šç‚¹çš„å‚ç›´ä½ç½®ã€‚è¯·è®°ä½ï¼Œä½¿ç”¨é”šå±æ€§çš„å€¼æ˜¯æ¯”ç‡ã€‚æ¯ä¸ªåˆ‡ç‰‡çš„é«˜åº¦ä¸º 256 åƒç´ ï¼Œå°†é”šç‚¹çš„ y ä½ç½®å‘ä¸‹ç§»åŠ¨ 64 ä¸ªåƒç´ å¯¹åº”çš„æ¯”ç‡ä¸º 0.25ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆä¸ºä»€ä¹ˆè¦æ”¹å˜é”šå±æ€§å‘¢ï¼Ÿå¥½å§ï¼Œå½“æˆ‘ä»¬æœ€ç»ˆå®é™…ç”Ÿæˆæ¸¸æˆåœ°å›¾æ—¶ï¼Œä¸€å®šèŒƒå›´çš„æ‰€æœ‰åˆ‡ç‰‡å°†ä½¿ç”¨ç›¸åŒçš„ y ä½ç½®ä»¥ç¡®ä¿æ­£ç¡®å¯¹é½ã€‚ä½†æ˜¯ï¼Œå°é˜¶åˆ‡ç‰‡ä½å›¾çš„è®¾è®¡ä½¿å…¶æˆä¸ºç‰¹ä¾‹ â€” å®ƒå°†æ— æ³•ä¸ç –å—å¢™çš„å…¶ä»–åˆ‡ç‰‡æ­£ç¡®å¯¹é½ã€‚ä½ å¯ä»¥åœ¨ä¸‹å›¾ä¸­å‘ç°è¿™ç§æƒ…å†µï¼Œå…¶ä¸­æ‰€æœ‰åˆ‡ç‰‡ï¼ˆåŒ…æ‹¬å°é˜¶ï¼‰å…·æœ‰ç›¸åŒçš„ y ä½ç½®å¹¶ä¸”å…¶é”šç‚¹è®¾ç½®åœ¨å·¦ä¸Šè§’ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img13.360buyimg.com/devfe/jfs/t1/10525/31/15123/56353/5c905364E8be71317/cf32228b28880ba4.png&#34; alt=&#34;wall-step-anchor-1&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä½ æ‰€è§ï¼Œå°é˜¶çš„å‚ç›´ä½ç½®æ˜¾ç„¶æ˜¯ä¸æ­£ç¡®çš„ã€‚ä½†æ˜¯ï¼Œé€šè¿‡å°†å…¶é”šç‚¹å‘ä¸‹ç§»åŠ¨ 64 åƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥å¼ºåˆ¶å®ƒåœ¨ç –å—å¢™å†…æ­£ç¡®å±•ç¤ºã€‚ä¸‹å›¾ä¸­å°±æ˜¯è®¾ç½®è¿‡çš„ï¼Œå…¶ä¸­æ¯ä¸ªåˆ‡ç‰‡ï¼ˆåŒ…æ‹¬å°é˜¶ï¼‰ä»ç„¶ &lt;strong&gt;å…±äº«&lt;/strong&gt; ç›¸åŒçš„ y ä½ç½®ï¼Œä½†ç”±äºå…¶é”šç‚¹å·²è¢«ç§»åŠ¨ï¼Œæ­¥éª¤åˆ‡ç‰‡ç°åœ¨æ­£ç¡®åœ°ä½äºç –å—å¢™å†…ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img30.360buyimg.com/devfe/jfs/t1/24325/19/11530/56607/5c905406Ea283c26c/180e08debc8d1226.png&#34; alt=&#34;wall-step-anchor-2&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯æä¾›å…è®¸æˆ‘ä»¬ä»å¯¹è±¡æ± å€Ÿç”¨å¹¶è¿”å›ä¸€ä¸ªæ­¥éª¤çš„æ–¹æ³•ã€‚æ·»åŠ ä»¥ä¸‹ &lt;code&gt;borrowStep()&lt;/code&gt; å’Œ &lt;code&gt;returnStep()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WallSpritesPool.prototype.borrowStep = function() {
  return this.steps.shift();
};

WallSpritesPool.prototype.returnStep = function(sprite) {
  this.steps.push(sprite);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°†æ›´æ”¹ä¿å­˜åˆ°æ–‡ä»¶ã€‚å¯¹è±¡æ± ç±»ç°å·²å®Œæˆäº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æµ‹è¯•ç –å—å¢™çš„å°é˜¶&#34;&gt;æµ‹è¯•ç –å—å¢™çš„å°é˜¶&lt;/h2&gt;

&lt;p&gt;è¿™ä¸€èŠ‚çš„æ•™ç¨‹å³å°†å®Œæˆã€‚è®©æˆ‘ä»¬é€šè¿‡ç”ŸæˆåŒ…å«å°é˜¶çš„æµ‹è¯•ç –å—å¢™æ¥ç»“æŸå®ƒã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ Main.js å¹¶åˆ é™¤ &lt;code&gt;generateTestWallSpan()&lt;/code&gt; æ–¹æ³•ä¸­çš„ä»£ç ã€‚å°†å…¶æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.generateTestWallSpan = function() {
  var lookupTable = [
    this.pool.borrowFrontEdge,  // 1st slice
    this.pool.borrowWindow,     // 2nd slice
    this.pool.borrowDecoration, // 3rd slice
    this.pool.borrowStep,       // 4th slice
    this.pool.borrowWindow,     // 5th slice
    this.pool.borrowBackEdge    // 6th slice
  ];

  var yPos = [
    128, // 1st slice
    128, // 2nd slice
    128, // 3rd slice
    192, // 4th slice
    192, // 5th slice
    192  // 6th slice
  ];

  for (var i = 0; i &amp;lt; lookupTable.length; i++)
  {
    var func = lookupTable[i];

    var sprite = func.call(this.pool);
    sprite.position.x = 64 + (i * 64);
    sprite.position.y = yPos[i];

    this.wallSlices.push(sprite);

    this.stage.addChild(sprite);
  }
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;generateTestWallSpan()&lt;/code&gt; å‡ ä¹ä¸å‰ä¸€ç‰ˆç›¸åŒã€‚è¿™æ¬¡å¢™åªæœ‰å…­ä¸ªåˆ‡ç‰‡å®½ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº†ç¬¬äºŒä¸ªåä¸º &lt;code&gt;yPos&lt;/code&gt; çš„æ•°ç»„ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæŸ¥çœ‹è¿™å¼ è¡¨ï¼Œä½ å°†å‘ç°ç¬¬ 4 ä¸ªç´¢å¼•è¡¨ç¤ºå°é˜¶åˆ‡ç‰‡ã€‚è¯·è®°ä½ï¼Œè¯¥æ­¥éª¤å¯è®©ç©å®¶ç›´æ¥è·Œè½åˆ°æ­£ä¸‹æ–¹çš„å¢™é¢ä¸Šã€‚å¦‚æœä½ å›æƒ³ä¸€ä¸‹æ•™ç¨‹çš„å¼€å¤´ï¼Œä½ åº”è¯¥è®°ä½ï¼Œå½“æˆ‘ä»¬å¤„ç†ä¸€ä¸ªæ­¥éª¤æ—¶ï¼Œæˆ‘ä»¬å®é™…å¤„ç†çš„æ˜¯ä¸¤ä¸ªè¿æ¥åœ¨ä¸€èµ·çš„ç‹¬ç«‹ç –å—å¢™ã€‚ç¬¬ä¸€ä¸ªç –å—å¢™å°†é«˜äºç¬¬äºŒä¸ªï¼Œå°é˜¶åˆ‡ç‰‡æœ¬èº«å°†å±äºç¬¬äºŒä¸ªç –å—å¢™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸¤ä¸ªç –å—å¢™ä¹‹é—´çš„é«˜åº¦å·®å¼‚ç”±æˆ‘ä»¬çš„ yPos æ•°ç»„å¤„ç†ã€‚å®ƒå¯¹äºæˆ‘ä»¬çš„æ¯ä¸ªåˆ‡ç‰‡éƒ½æœ‰ä¸€ä¸ª y ä½ç½®ã€‚å‰ä¸‰ä¸ªåˆ‡ç‰‡ y éƒ½æ˜¯ 128 ä¸ªåƒç´ ï¼Œè€Œå‰©ä½™çš„åˆ‡ç‰‡æ˜¯ 192ä¸ªåƒç´ ã€‚&lt;/p&gt;

&lt;p&gt;è®©æˆ‘ä»¬è½¬åˆ°æˆ‘ä»¬çš„ &lt;code&gt;clearTestWallSpan()&lt;/code&gt; æ–¹æ³•ã€‚ä»ç°æœ‰ç‰ˆæœ¬çš„æ–¹æ³•ä¸­åˆ é™¤ä»£ç ï¼Œå¹¶å°†å…¶æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.clearTestWallSpan = function() {
  var lookupTable = [
    this.pool.returnFrontEdge,  // 1st slice
    this.pool.returnWindow,     // 2nd slice
    this.pool.returnDecoration, // 3rd slice
    this.pool.returnStep,       // 4th slice
    this.pool.returnWindow,     // 5th slice
    this.pool.returnBackEdge    // 6th slice
  ];

  for (var i = 0; i &amp;lt; lookupTable.length; i++)
  {
    var func = lookupTable[i];
    var sprite = this.wallSlices[i];

    this.stage.removeChild(sprite);
    func.call(this.pool, sprite);
  }

  this.wallSlices = [];
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚ä½ æ‰€è§ï¼Œè¡¨ä¸­åŒ…å«å¯¹å°†æ¯ä¸ªåˆ‡ç‰‡è¿”è¿˜åˆ°å¯¹è±¡æ± æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³•çš„å¼•ç”¨ï¼ŒåŒ…æ‹¬å°é˜¶ã€‚&lt;/p&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹å¹¶åˆ·æ–°æµè§ˆå™¨ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ JavaScript æ§åˆ¶å°ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.generateTestWallSpan();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½ åº”è¯¥ä¼šåœ¨å±å¹•ä¸Šçœ‹åˆ°ä¸€ä¸ªå¸¦æœ‰å°é˜¶çš„å¢™ã€‚å®ƒåº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img14.360buyimg.com/devfe/jfs/t1/24246/9/11462/69686/5c905719E86dbd531/38dfad19122dfe1f.png&#34; alt=&#34;wall-step-screenshot&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å†è¿”è¿˜æ•´ä¸ªç –å—å¢™ç»™å¯¹è±¡æ± ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;main.clearTestWallSpan();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¤šè¯•å‡ æ¬¡ç”Ÿæˆç –å—å¢™ç„¶åè¿”è¿˜åˆ°å¯¹è±¡æ± ï¼Œç¡®ä¿ä¸€åˆ‡éƒ½æ­£å¸¸ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ•´ç†ä»£ç &#34;&gt;æ•´ç†ä»£ç &lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬ä¸æ–­åœ°æµ‹è¯•å¯¹è±¡æ± ï¼Œç°åœ¨å®ƒå·²ç»æˆå‹ã€‚ä¸ºäº†å‡†å¤‡æœ¬ç³»åˆ—çš„æœ€åä¸€ä¸ªæ•™ç¨‹ï¼Œæˆ‘ä»¬ç°åœ¨ä» Main ç±»ä¸­åˆ é™¤æµ‹è¯•ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.spriteSheetLoaded = function() {
  this.scroller = new Scroller(this.stage);
  requestAnimationFrame(this.update.bind(this));

  this.pool = new WallSpritesPool();
  this.wallSlices = [];
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿˜è¦å®Œå…¨åˆ é™¤ &lt;code&gt;generateTestWallSpan()&lt;/code&gt; å’Œ &lt;code&gt;clearTestWallSpan()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨ä¿å­˜ä½ çš„æ›´æ”¹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h2&gt;

&lt;p&gt;æ„Ÿè°¢ä½ èƒ½åšæŒåˆ°è¿™é‡Œã€‚æœ¬æ•™ç¨‹å·²ç»æ¶‰åŠåˆ°äº†å¤§é‡çš„å†…å®¹ã€‚æˆ‘ä»¬å·²ç»è®¨è®ºäº†æ»šåŠ¨æ¸¸æˆåœ°å›¾çš„å„ç§æŠ€æœ¯ç‚¹ï¼Œå¹¶äº†è§£äº†ä¸ºä»€ä¹ˆé€‰æ‹©ä½¿ç”¨å¯¹è±¡æ± ã€‚&lt;/p&gt;

&lt;p&gt;è™½ç„¶æœ¬æ•™ç¨‹å¾ˆé•¿ï¼Œä½†å¯¹è±¡æ± çš„æ¦‚å¿µå®é™…ä¸Šç›¸å½“ç®€å•ã€‚ä¸è¿‡æœ‰äººå¯èƒ½ä¼šå¾ˆå®¹æ˜“é™·å…¥åˆ°ä¸€äº›å®ç°ç»†èŠ‚ä¸­ï¼Œä½†è®°ä½æœ€é‡è¦çš„ä¸€ç‚¹å¯¹è±¡æ± åªä¸€ä¸ªéå¸¸ç®€å•çš„ APIï¼šæœ‰ä¸€ç»„ä»æ± ä¸­å€Ÿç”¨ç²¾çµï¼Œå¦ä¸€ç»„è¿”è¿˜è¿™äº›ç²¾çµã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬è¿˜å­¦åˆ°äº†æ›´å¤šå…³äº pixi.js çš„çŸ¥è¯†ï¼ŒåŒ…æ‹¬ç²¾çµè¡¨å’Œ PIXI.Sprite ç±»çš„å…¶å®ƒåŠŸèƒ½ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿä»‹ç»äº† GPU åŠ é€Ÿçš„å¥½å¤„ï¼Œä»¥åŠä¸ºä»€ä¹ˆä½¿ç”¨ç²¾çµè¡¨å¯ä»¥å¸¦æ¥å·¨å¤§çš„æ€§èƒ½æå‡ã€‚&lt;/p&gt;

&lt;p&gt;è™½ç„¶æˆ‘ä»¬è¿˜æ²¡æœ‰çœŸæ­£åœ°å¼€å§‹æ„å»ºæ»šåŠ¨æ¸¸æˆåœ°å›¾ï¼Œä½†æˆ‘ä»¬å·²ç»ç¼–å†™äº†ä¸€äº›ä»£ç æ¥ç”Ÿæˆä¸€äº›æµ‹è¯•ç –å—å¢™ã€‚è¿™åº”è¯¥æœ‰åŠ©äºä½ äº†è§£å¦‚ä½•ä½¿ç”¨å¯¹è±¡æ± ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©ä½ ç†Ÿæ‚‰ç –å—å¢™çš„ç»“æ„å’Œæ¸¸æˆåœ°å›¾ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¸‹æœŸé¢„å‘Š&#34;&gt;ä¸‹æœŸé¢„å‘Š&lt;/h2&gt;

&lt;p&gt;ä¸‹ä¸€èŠ‚ä¸­æˆ‘ä»¬å°†çœŸæ­£çš„æ·»åŠ æµåŠ¨æ¸¸æˆä¸­çš„ç¬¬ä¸‰å±‚ã€‚å’Œå‰ä¸¤å±‚ä¸ä¸€æ ·ï¼Œç¬¬ä¸‰å±‚å°†ç»„æˆæ•´ä¸ªæ¸¸æˆåœ°å›¾æ‰€éœ€è¦çš„ç –å—å¢™ã€‚è¿™äº›åˆ‡ç‰‡éƒ½å°†ä»æˆ‘ä»¬çš„å¯¹è±¡æ± ä¸­å€Ÿå–ã€‚&lt;/p&gt;

&lt;p&gt;ä¸å¾€å¸¸ä¸€æ ·ï¼ŒGitHubä¸Šæä¾›äº†æœ¬ç³»åˆ—å’Œä¹‹å‰æ•™ç¨‹çš„ &lt;a href=&#34;https://github.com/ccaleb/pixi-parallax-scroller&#34;&gt;æºä»£ç &lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¾ˆå¿«ä½ å°†å¼€å§‹æ•™ç¨‹çš„çš„ ç¬¬å››éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æœ€åä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä½¿ç”¨ Pixi.js æ„å»ºä¸€ä¸ªè§†å·®æ»šåŠ¨å™¨ï¼ˆç¬¬äºŒç¯‡ï¼‰</title>
      <link>https://keelii.com/2019/03/17/building-a-parallax-scroller-with-pixijs-cn-2/</link>
      <pubDate>Sun, 17 Mar 2019 19:20:04 -0700</pubDate>
      
      <guid>https://keelii.com/2019/03/17/building-a-parallax-scroller-with-pixijs-cn-2/</guid>
      <description>

&lt;h2 id=&#34;ç¿»è¯‘å¯¹ç…§&#34;&gt;ç¿»è¯‘å¯¹ç…§&lt;/h2&gt;

&lt;p&gt;åŸæ–‡ï¼š
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=5226&#34;&gt;PART 1&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=5666&#34;&gt;PART 2&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=6496&#34;&gt;PART 3&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=7046&#34;&gt;PART 4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¯‘æ–‡ï¼š
&lt;a href=&#34;https://keelii.com/2019/03/16/building-a-parallax-scroller-with-pixijs-cn-1/&#34;&gt;ç¬¬ä¸€ç¯‡&lt;/a&gt;ãƒ»
&lt;a href=&#34;https://keelii.com/2019/03/17/building-a-parallax-scroller-with-pixijs-cn-2/&#34;&gt;ç¬¬äºŒç¯‡&lt;/a&gt;ãƒ»
&lt;a href=&#34;https://keelii.com/2019/03/19/building-a-parallax-scroller-with-pixijs-cn-3/&#34;&gt;ç¬¬ä¸‰ç¯‡&lt;/a&gt;ãƒ»
ç¬¬å››ç¯‡&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;å…³æ³¨Â &lt;a href=&#34;https://twitter.com/intent/follow?screen_name=chriscaleb&#34;&gt;@chriscaleb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç³»åˆ—çš„æ•™ç¨‹å·²ç»æ›´æ–°åˆ°äº†Â &lt;a href=&#34;http://www.pixijs.com/&#34;&gt;PixiJS v4&lt;/a&gt; ç‰ˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ä¸ªç³»åˆ—æ•™ç¨‹ä¸­æˆ‘ä»¬å°†æ¢ç´¢å¦‚ä½•æ„å»ºä¸€ä¸ªç±»ä¼¼Â &lt;a href=&#34;http://www.adamatomic.com/canabalt/&#34;&gt;Canabalt&lt;/a&gt;Â å’ŒÂ &lt;a href=&#34;https://chrome.google.com/webstore/detail/monster-dash/cknghehebaconkajgiobncfleofebcog?hl=en&#34;&gt;Monster Dash&lt;/a&gt;Â çš„è§†å·®æ»šåŠ¨åœ°å›¾æ¸¸æˆç•Œé¢ã€‚ç¬¬ä¸€ç¯‡ä»‹ç»äº† pixi.js çš„æ¸²æŸ“å¼•æ“å¹¶ä¸”æ¶‰åŠåˆ°äº†è§†å·®æ»šåŠ¨çš„åŸºç¡€çŸ¥è¯†ã€‚ç°åœ¨æˆ‘ä»¬å°†åœ¨ä¸Šä¸€ç¯‡çš„åŸºç¡€ä¹‹ä¸Šæ·»åŠ  &lt;strong&gt;è§†å£&lt;/strong&gt; çš„æ¦‚å¿µã€‚&lt;/p&gt;

&lt;h3 id=&#34;ä½ å°†å­¦åˆ°ä»€ä¹ˆ&#34;&gt;ä½ å°†å­¦åˆ°ä»€ä¹ˆâ€¦&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;å¦‚ä½•æ‰©å±• pixi.js çš„ &lt;strong&gt;å±•ç¤ºå¯¹è±¡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;JavaScript ä¸­çš„é¢å‘å¯¹è±¡åŸºç¡€ï¼ˆè¯‘è€…ä½¿ç”¨ ES 6 Class é‡æ„äº†è¿™ä¸ªæ¸¸æˆ &lt;a href=&#34;https://github.com/keelii/parallax-scroller-cn&#34;&gt;æºä»£ç &lt;/a&gt;ï¼Œçœ‹èµ·æ¥æ›´ç›´è§‚ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚ä½•åœ¨ä½ çš„æ»šåŠ¨å™¨ä¸­æ·»åŠ  &lt;strong&gt;è§†å£&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;é¢„å¤‡çŸ¥è¯†&#34;&gt;é¢„å¤‡çŸ¥è¯†â€¦&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;å¯¹é¢å‘å¯¹è±¡æœ‰åŸºæœ¬çš„æ¦‚å¿µ&lt;/li&gt;
&lt;li&gt;pixi.js åŸºç¡€&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä½ å°†ä»¥ç¬¬ä¸€ç¯‡æ•™ç¨‹ä¸­çš„ä»£ç ä¸ºåŸºç¡€ï¼Œæˆ–è€…ç›´æ¥ä¸‹è½½ä¸Šç¯‡æ•™ç¨‹ä¸­çš„ &lt;a href=&#34;http://www.yeahbutisitflash.com/?p=5226&#34;&gt;æºä»£ç &lt;/a&gt;ï¼Œå¦å¤–æ•´ä¸ªæ•™ç¨‹çš„å®Œå…¨æºä»£ç ä¹Ÿåœ¨ &lt;a href=&#34;https://github.com/ccaleb/pixi-parallax-scroller/tree/master/tutorial-2&#34;&gt;github&lt;/a&gt; ä¸Šå¯ä»¥æ‰¾åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.yeahbutisitflash.com/pixi-parallax-scroller/tutorial-1/index.html&#34;&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t1/25206/13/10616/142679/5c887df7E7c1fa38a/eab39f5f7ab1cc6d.png&#34; alt=&#34;ps-tut1-screenshot1&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä½œä¸ºæç¤ºï¼Œç‚¹å‡»ä¸Šé¢çš„å›¾ç‰‡ï¼Œå°†ä¼šåŠ è½½å½“å‰ç‰ˆæœ¬çš„è§†å·®æ»šåŠ¨ï¼Œç›®å‰æ¥è¯´åªæœ‰ä¸¤ä¸ªå±‚ï¼Œæˆ‘ä»¬å°†æ·»åŠ æ¯ä¸‰ä¸ªæ›´å¤æ‚çš„å±‚ã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬å°†é€šè¿‡æ·»åŠ è§†å£çš„æ¦‚å¿µæ¥æ·»åŠ ç¬¬ä¸‰å±‚ã€‚æˆ‘ä»¬è¿˜ä¼šæ‰§è¡Œä¸€äº›é‡è¦ä»£ç é‡æ„ï¼Œä»¥ä¾¿å°†æ»šåŠ¨å™¨å°è£…åœ¨ç±»ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;è™½ç„¶æœ¬æ•™ç¨‹éå¸¸é’ˆå¯¹é‚£äº›å¯¹é¢å‘å¯¹è±¡æœ‰åŸºç¡€æ¦‚å¿µçš„åˆå­¦è€…çº§åˆ«ï¼Œå¦‚è¿™äº›æ¦‚å¿µè®©ä½ æ„Ÿåˆ°ä¸èˆ’æœï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºæˆ‘ä»ç„¶ä¼šä¸ºé‚£äº›ä¸ç†Ÿæ‚‰è¿™äº›æçš„çš„äººæä¾›è¶³å¤Ÿçš„æŒ‡å¯¼ã€‚&lt;/p&gt;

&lt;h2 id=&#34;èµ·æ­¥&#34;&gt;èµ·æ­¥&lt;/h2&gt;

&lt;p&gt;å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ç¬¬ä¸€ç¯‡æ•™ç¨‹ï¼Œæˆ‘å»ºè®®ä½ åº”è¯¥ä»é‚£ç¯‡å¼€å§‹ã€‚&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰ä¸€ç‚¹å€¼å¾—æé†’çš„æ˜¯ï¼Œä¸ºäº†èƒ½å¤Ÿæµ‹è¯•ä½ çš„ä»£ç ï¼Œä½ éœ€è¦å¼€å¯ä¸€ä¸ªæœ¬åœ°çš„ web æœåŠ¡å™¨ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰åšè¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆå¯èƒ½å‚è€ƒä¸Šä¸€ç¯‡æ•™ç¨‹ä¸­çš„ç« èŠ‚å»ºç«‹å¥½è‡ªå·±çš„ web æœåŠ¡å™¨ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ‰©å±•-pixi-js-çš„-å±•ç¤ºå¯¹è±¡&#34;&gt;æ‰©å±• pixi.js çš„ &lt;strong&gt;å±•ç¤ºå¯¹è±¡&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;æ­£å¦‚æˆ‘ä»¬ä¹‹å‰å‘ç°çš„ï¼Œpixi.js æä¾›äº†å‡ ç§å¯ä½¿ç”¨çš„ &lt;strong&gt;å±•ç¤ºå¯¹è±¡&lt;/strong&gt; ç±»å‹ã€‚å¦‚æœä½ è¿˜è®°å¾—çš„è¯ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ &lt;code&gt;PIXI.extras.TilingSprite&lt;/code&gt;Â æ¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ä¹‹å‰ï¼Œå…ˆç®€å•åœ°ä½¿ç”¨äº† &lt;code&gt;PIXI.Sprite&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸¤ä¸ªç±»å…±äº«è®¸å¤šå…¬ç”¨çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå®ƒä»¬éƒ½ä¸ºä½ æä¾›ä½ç½®ï¼ˆpositionï¼‰ï¼Œå®½åº¦ï¼ˆwidthï¼‰ï¼Œé«˜åº¦ï¼ˆheightï¼‰å’Œ alpha å±æ€§ã€‚æ­¤å¤–ï¼Œä¸¤è€…éƒ½å¯ä»¥é€šè¿‡ &lt;code&gt;addChild()&lt;/code&gt; æ–¹æ³•æ·»åŠ åˆ°å®¹å™¨ä¸­ã€‚äº‹å®ä¸Šï¼Œ&lt;code&gt;PIXI.Container&lt;/code&gt; ç±»æœ¬èº«å°±æ˜¯ä¸€ä¸ªÂ &lt;strong&gt;å±•ç¤ºå¯¹è±¡&lt;/strong&gt;ï¼Œå®ƒè¿˜æä¾›äº†è®¸å¤š Sprite å’Œ TilingSprite ç±»éƒ½èƒ½ä½¿ç”¨çš„å±æ€§ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€æœ‰è¿™äº›å…¬ç”¨çš„åŠŸèƒ½éƒ½æ¥è‡ªäº &lt;strong&gt;ç»§æ‰¿ï¼ˆinheritanceï¼‰&lt;/strong&gt; çš„é­”åŠ›ã€‚å®ƒä½¿å¾—ç±»å¯ä»¥ç»§æ‰¿å’Œæ‰©å±•åŠŸèƒ½åˆ°å…¶å®ƒç±»ä¸Šã€‚ä¸ºäº†è®©ä½ èƒ½ç†è§£å®ƒï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ç¤ºæ„å›¾ï¼Œå®ƒå°†ä¸ºä½ å±•ç¤º pixi.js ä¸­æä¾›çš„å¤§å¤šæ•°å±•ç¤ºå¯¹è±¡&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img14.360buyimg.com/devfe/jfs/t1/32241/35/6163/21482/5c8c93a6E0674998d/e778a3262a7f0f86.png&#34; alt=&#34;ps-tut2-screenshot1&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢çš„ç¤ºæ„å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæœ€åŸºç¡€çš„ç±»å‹æ˜¯Â PIXI.DisplayObject ç±»ï¼Œæ‰€æœ‰å…¶å®ƒç±»éƒ½ä»å®ƒç»§æ‰¿è€Œæ¥ã€‚è¿™ä¸ªç±»æ˜¯å°†å¯¹è±¡å‘ˆç°åˆ°å±å¹•æ‰€å¿…é¡»éœ€çš„å…ƒç´ ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å½“æˆ‘è¯´ &lt;strong&gt;å±•ç¤ºå¯¹è±¡&lt;/strong&gt; æ—¶ï¼Œå¹¶éæŒ‡Â &lt;code&gt;PIXI.DisplayObject&lt;/code&gt; è¿™ä¸ªç±»ã€‚è€Œå½“ä½¿ç”¨Â &lt;code&gt;PIXI.DisplayObject&lt;/code&gt; è¿™ä¸ªè¯´æ³•æ—¶ï¼Œå´è¡¨ç¤ºæ‰€æœ‰ç»§æ‰¿è‡ªå®ƒçš„å¯¹è±¡ã€‚æœ¬è´¨ä¸Šè®²ï¼Œå½“æˆ‘ä½¿ç”¨ &lt;strong&gt;å±•ç¤ºå¯¹è±¡&lt;/strong&gt; è¿™ä¸€æœ¯è¯­æ—¶ï¼Œæˆ‘æŒ‡çš„æ˜¯å¯ä»¥é€šè¿‡ pixi.js å‘ˆç°ç»™å±å¹•çš„ &lt;strong&gt;ä»»ä½•å¯¹è±¡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸‹ä¸€å±‚æ˜¯ &lt;code&gt;PIXI.Container&lt;/code&gt;ï¼Œå®ƒå…è®¸å¯¹è±¡å……å½“å…¶ä»–å±•ç¤ºå¯¹è±¡çš„ &lt;strong&gt;å®¹å™¨&lt;/strong&gt;ã€‚æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªæ•™ç¨‹ä¸­ä½¿ç”¨çš„ &lt;code&gt;addChild()&lt;/code&gt; æ–¹æ³•æ˜¯ &lt;code&gt;PIXI.Container&lt;/code&gt;Â è¿™ä¸ªç±»æä¾›çš„å®ä¾‹æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ &lt;code&gt;PIXI.Sprite&lt;/code&gt; å’Œ &lt;code&gt;PIXI.TilingSpite&lt;/code&gt;Â ç»§æ‰¿è·å¾—ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬è´¨ä¸Šè®²ï¼Œç»§æ‰¿æ ‘ä¸­çš„æ¯ä¸ªç±»éƒ½æ˜¯å®ƒç»§æ‰¿çš„ï¼ˆçˆ¶ï¼‰ç±»çš„ &lt;strong&gt;æ›´ç‰¹æ®Š&lt;/strong&gt;Â ç‰ˆæœ¬ï¼ˆè¯‘è€…ï¼šé¢å‘å¯¹è±¡çš„ &lt;strong&gt;å…·ä½“åŒ–&lt;/strong&gt; ä¸ &lt;strong&gt;æ³›åŒ–&lt;/strong&gt; æ¦‚å¿µï¼‰ã€‚å¥½çš„ä¸€ç‚¹æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»§æ‰¿æ¥åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„è‡ªå®šä¹‰çš„å±•ç¤ºå¯¹è±¡ã€‚æ¢è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªè§†å·®æ»šåŠ¨å™¨ä¸­çš„å…ƒç´ ç¼–å†™ä¸“ç”¨çš„ç±»ï¼Œå¹¶è®© pixi.js å¤„ç†å®ƒä»¬å°±åƒæ˜¯å¤„ç†å…¶å®ƒå±•ç¤ºå¯¹è±¡ä¸€æ ·ã€‚è¿™ç»™ä½¿æˆ‘ä»¬å°è£…ä»£ç æ›´ç®€å•ï¼Œä»£ç ä¹Ÿæ›´å¤šæ¼‚äº®ã€æ•´æ´ã€‚&lt;/p&gt;

&lt;h3 id=&#34;åˆ¶ä½œè¿œæ™¯å±‚å±•ç¤ºå¯¹è±¡&#34;&gt;åˆ¶ä½œè¿œæ™¯å±‚å±•ç¤ºå¯¹è±¡&lt;/h3&gt;

&lt;p&gt;è®©æˆ‘ä»¬å¼€å§‹åˆ¶ä½œè¿œæ™¯å±‚å§ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€index.htmlæ–‡ä»¶ï¼Œåœ¨ &lt;code&gt;init()&lt;/code&gt; å‡½æ•°ä¸­æŸ¥æ‰¾åˆ›å»ºå’Œè®¾ç½®å›¾å±‚çš„ä»£ç ã€‚è¿™æ˜¯ä½ è¦æ‰¾çš„ä¸œè¥¿ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);	
far = new PIXI.extras.TilingSprite(farTexture, 512, 256);
far.position.x = 0;
far.position.y = 0;
far.tilePosition.x = 0;
far.tilePosition.y = 0;
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç†æƒ³çš„æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªä»£è¡¨è¿œæ™¯å±‚çš„ç±»ï¼Œå¹¶æŠŠå¤§éƒ¨åˆ†å®ç°ç»†èŠ‚éšè—åœ¨ç±»ä¸­ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä»¥ä¸‹ä»£ç ï¼Œè€Œä¸æ˜¯ä¸Šé¢çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far = new Far();
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä»£ç é‡å¤§å¹…å‡å°‘äº†å§ï¼Ÿå¦å¤–ï¼Œæˆ‘è®¤ä¸ºå®ƒæ¯”æˆ‘ä»¬åŸæ¥çš„å°è¯•æ›´å…·å¯è¯»æ€§ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªä»£è¡¨æˆ‘ä»¬çš„æ»šåŠ¨æ¡è¿œæ™¯å±‚çš„åä¸º Far çš„ç±»æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚åœ¨é¡¹ç›®çš„æ ¹æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶å°†å…¶å‘½åä¸º &lt;code&gt;Far.js&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨å®šä¹‰ä¸€ä¸ªåä¸º Far çš„å‡½æ•°ï¼Œå®ƒå°†è¡¨ç¤ºæˆ‘ä»¬ç±»çš„æ„é€ å‡½æ•°ï¼š&lt;/p&gt;

&lt;p&gt;ï¼ˆè¯‘è€…ï¼šåŸä½œè€…ä½¿ç”¨äº† ES 5 å’Œ prototype æ¥å®ç° JavaScript ä¸­çš„ç»§æ‰¿ï¼Œçœ‹èµ·æ¥å¯èƒ½æ²¡é‚£ä¹ˆç›´è§‚ï¼Œå¯ä»¥å‚è€ƒæˆ‘è‡ªå·±å®ç°çš„ &lt;a href=&#34;https://github.com/keelii/parallax-scroller-cn&#34;&gt;ES 6 ç‰ˆ&lt;/a&gt;çš„ä»£ç ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far(texture, width, height) {
  PIXI.extras.TilingSprite.call(this, texture, width, height);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨æ„é€ å‡½æ•°ä¸‹é¢æ·»åŠ ä»¥ä¸‹è¡Œï¼Œç„¶åä¿å­˜æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Far.prototype = Object.create(PIXI.extras.TilingSprite.prototype);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ç»§æ‰¿äº† &lt;code&gt;PIXI.extras.TilingSprite&lt;/code&gt; ç±»çš„åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å‡½æ•°ï¼Œç”¨äºåˆ›å»ºç±»å®ä¾‹ã€‚åœ¨ JavaScript ä¸­ï¼Œæ„é€ å‡½æ•°çš„åç§°ä¹Ÿç”¨äºæŒ‡å®šç±»çš„åç§°ï¼ˆè¯‘è€…ï¼šES 6 ä¸­çš„ç±»æœ‰ä¸“é—¨çš„ construct æ–¹æ³•ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;é‚£ä¹ˆä¸ºä»€ä¹ˆ Far ç±»ç»§æ‰¿è‡ª &lt;code&gt;PIXI.TilingSprite&lt;/code&gt; å‘¢ï¼Ÿå¥½å§ï¼Œå¦‚æœä½ è¿˜è®°å¾—ç¬¬ä¸€ä¸ªæ•™ç¨‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;TilingSprite&lt;/code&gt; å®ä¾‹æ¥è¡¨ç¤ºæ¯ä¸ªè§†å·®å±‚ã€‚å› æ­¤ï¼Œåœ¨æ›´å…·ä½“åŒ–çš„ç±»ä¸­ä½¿ç”¨è¿™äº›åŠŸèƒ½æ˜¯æœ‰å¿…è¦çš„ã€‚æœ¬è´¨ä¸Šè®²ï¼Œæˆ‘ä»¬æ‰€è¯´çš„æ˜¯ï¼šFar ç±»æ˜¯ &lt;code&gt;PIXI.extras.TilingSprite&lt;/code&gt; çš„ä¸€ä¸ªæ›´ç‰¹æ®Šçš„ç‰ˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸º Far ç±»ç»§æ‰¿è‡ª &lt;code&gt;PIXI.extras.TilingSprite&lt;/code&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è®°å¾—å»åˆå§‹åŒ–&lt;code&gt;TilingSprite&lt;/code&gt;Â ç±»çš„åŠŸèƒ½ã€‚è¿™æ˜¯é€šè¿‡ä»æ„é€ å‡½æ•°ä¸­è°ƒç”¨ &lt;code&gt;TilingSprite&lt;/code&gt;Â çš„æ„é€ å‡½æ•°æ¥å®Œæˆçš„ã€‚æˆ‘é«˜äº®æ˜¾ç¤ºäº†ä»¥ä¸‹ä»£ç è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far(texture, width, height) {
  PIXI.extras.TilingSprite.call(this, texture, width, height); // è¿™ä¸€è¡Œ
}

Far.prototype = Object.create(PIXI.extras.TilingSprite.prototype);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ ·åšæ˜¯å› ä¸ºæˆ‘ä»¬å¸Œæœ› Far ç±»ç»§æ‰¿ &lt;code&gt;TilingSprite&lt;/code&gt; çš„æ‰€æœ‰åŠŸèƒ½ã€‚ç”±äº &lt;code&gt;TilingSprite&lt;/code&gt; éœ€è¦å°†ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™å®ƒçš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿æˆ‘ä»¬è‡ªå·±çš„ç±»ä¹Ÿæ¥å—è¿™äº›å‚æ•°å¹¶ä½¿ç”¨å®ƒä»¬åˆå§‹åŒ–ç“¦ç‰‡ç²¾çµã€‚ä»¥ä¸‹æ˜¯é«˜äº®æ˜¾ç¤ºå‚æ•°çš„ç±»ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// æ³¨æ„ texture, width, height ä¸‰ä¸ªå‚æ•°
function Far(texture, width, height) {
  PIXI.extras.TilingSprite.call(this, texture, width, height);
}

Far.prototype = Object.create(PIXI.extras.TilingSprite.prototype);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬è¿˜æœ‰ä¸€äº›é¢å¤–çš„åŠŸèƒ½å¯ä»¥æ·»åŠ  Far ç±»ä¸­ï¼Œä½†å®é™…ä¸Šå·²ç»å¯ä»¥å¼€å§‹å°†å®ƒé›†æˆåˆ° &lt;code&gt;index.html&lt;/code&gt; é¡µé¢ä¸­äº†ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å®ä¾‹åŒ–ä½ çš„è¿œæ™¯-far-å±‚ç±»&#34;&gt;å®ä¾‹åŒ–ä½ çš„è¿œæ™¯ï¼ˆFarï¼‰å±‚ç±»&lt;/h3&gt;

&lt;p&gt;è¿”å›ä½ çš„ &lt;code&gt;index.html&lt;/code&gt; é¡µé¢ã€‚&lt;/p&gt;

&lt;p&gt;è¦ä½¿ç”¨ Far ç±»ï¼Œä½ éœ€è¦å¼•ç”¨å®ƒçš„æºæ–‡ä»¶ã€‚åœ¨é¡µé¢æ­£æ–‡é¡¶éƒ¨é™„è¿‘æ·»åŠ ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;body onload=&amp;quot;init();&amp;quot;&amp;gt;
  &amp;lt;div align=&amp;quot;center&amp;quot;&amp;gt;
    &amp;lt;canvas id=&amp;quot;game-canvas&amp;quot; width=&amp;quot;512&amp;quot; height=&amp;quot;384&amp;quot;&amp;gt;&amp;lt;/canvas&amp;gt;
  &amp;lt;/div&amp;gt;
  &amp;lt;script src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.0.0/pixi.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script src=&amp;quot;Far.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;!--è¿™é‡Œ--&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨å‘ä¸‹æ»šåŠ¨å¹¶åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
far = new PIXI.extras.TilingSprite(farTexture, 512, 256);  // åˆ é™¤æ­¤è¡Œ
far.position.x = 0;
far.position.y = 0;
far.tilePosition.x = 0;
far.tilePosition.y = 0;
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›¿æ¢æˆè¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
far = new Far(farTexture, 512, 256);  // æ–°è¡Œ
far.position.x = 0;
far.position.y = 0;
far.tilePosition.x = 0;
far.tilePosition.y = 0;
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¥½å§ï¼Œæˆ‘æ‰¿è®¤ã€‚ç›®å‰è¿™ä¼¼ä¹å¹¶æ²¡æœ‰å¤ªå¤§çš„æ”¹è¿›ï¼Œä½†æˆ‘ä»¬ç°åœ¨å¯ä»¥å¼€å§‹åœ¨ Far ç±»ä¸­ç›´æ¥éšè—æ›´å¤šä»£ç ï¼Œè®©æˆ‘ä»¬ç»§ç»­å§ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å°è£…ä½ç½®ç›¸å…³ä»£ç &#34;&gt;å°è£…ä½ç½®ç›¸å…³ä»£ç &lt;/h3&gt;

&lt;p&gt;åœ¨ &lt;code&gt;index.html&lt;/code&gt; ä¸­ï¼Œæˆ‘ä»¬å½“å‰è®¾ç½®äº† far å±‚çš„ &lt;code&gt;position&lt;/code&gt; å’Œ &lt;code&gt;tilePosition&lt;/code&gt; å±æ€§ã€‚è®©æˆ‘ä»¬åˆ é™¤å®ƒï¼Œå¹¶å°†å…¶å°è£…åœ¨æˆ‘ä»¬çš„ Far ç±»ä¸­ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
far = new Far(farTexture, 512, 256);
far.position.x = 0;  // åˆ é™¤
far.position.y = 0;  // åˆ é™¤
far.tilePosition.x = 0;  // åˆ é™¤
far.tilePosition.y = 0;  // åˆ é™¤
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹å¹¶æ‰“å¼€ Far.js æ–‡ä»¶ã€‚ç°åœ¨ç›´æ¥åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­è®¾ç½®å›¾å±‚çš„ä½ç½®å’ŒtilePosition å±æ€§ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far(texture, width, height) {
  PIXI.extras.TilingSprite.call(this, texture, width, height);
	
  this.position.x = 0;
  this.position.y = 0;
  this.tilePosition.x = 0;
  this.tilePosition.y = 0;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä½ ä¸ç†Ÿæ‚‰é¢å‘å¯¹è±¡çš„ JavaScript æˆ–é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¼šå¥½å¥‡ &lt;code&gt;this&lt;/code&gt; å…³é”®å­—åœ¨ä¸Šé¢çš„ä»£ç ä¸­çš„ç”¨é€”æ˜¯ä»€ä¹ˆã€‚åŸºæœ¬ä¸Šå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå®ƒå¯ä»¥è®©ä½ å¼•ç”¨ç±»çš„å·²åˆ›å»ºå®ä¾‹ã€‚é€šè¿‡ &lt;code&gt;this&lt;/code&gt;ï¼Œæˆ‘ä»¬å¯ä»¥å¼•ç”¨è¯¥å®ä¾‹çš„æ‰€æœ‰ &lt;strong&gt;å±æ€§&lt;/strong&gt; å’Œ &lt;strong&gt;æ–¹æ³•&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸º Far ç±»ç»§æ‰¿è‡ª &lt;code&gt;PIXI.extras.TilingSprite&lt;/code&gt;ï¼Œå®ƒè¿˜å…·æœ‰ &lt;code&gt;TilingSprite&lt;/code&gt; çš„æ‰€æœ‰ &lt;strong&gt;å±æ€§&lt;/strong&gt; å’Œ &lt;strong&gt;æ–¹æ³•&lt;/strong&gt;ï¼ŒåŒ…æ‹¬ &lt;code&gt;position&lt;/code&gt; å’Œ &lt;code&gt;tilePosition&lt;/code&gt;ã€‚è¦è®¿é—®è¿™äº›å±æ€§ï¼Œæˆ‘ä»¬åªéœ€ä½¿ç”¨&lt;code&gt;this&lt;/code&gt; å…³é”®å­—ã€‚è¿™æ˜¯å†æ¬¡è®¾ç½®å›¾å±‚ x ä½ç½®çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;this.position.x = 0;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿˜åº”æ³¨æ„ï¼Œ&lt;code&gt;this&lt;/code&gt; å…³é”®å­—è¿˜ç”¨äºå¼•ç”¨æ–°æ·»åŠ åˆ°ç±»ä¸­çš„å±æ€§æˆ–æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨ä¿å­˜æ›´æ”¹å¹¶åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•ä»£ç ã€‚ä¸€åˆ‡éƒ½åº”æŒ‰é¢„æœŸè¿è¡Œã€‚å¦å¤–ï¼Œè¯·æŸ¥çœ‹ Chrome çš„ JavaScript æ§åˆ¶å°ï¼Œç¡®ä¿æ²¡æœ‰é”™è¯¯ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å°è£…å±‚çš„çº¹ç†&#34;&gt;å°è£…å±‚çš„çº¹ç†&lt;/h3&gt;

&lt;p&gt;å¥½çš„ï¼Œæˆ‘ä»¬åº”è¯¥ä»å“ªé‡Œå¼€å§‹å‘¢ã€‚å¦‚æœä½ å›é¡¾ä¸€ä¸‹ index.html é¡µé¢ï¼Œä½ åº”è¯¥çœ‹åˆ°ä»£ç å¥½åƒå¼€å§‹å˜å¾—æ›´åŠ ç®€æ´äº†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);	
far = new Far(farTexture, 512, 256);
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†ä»æœ‰æ”¹è¿›çš„ä½™åœ°ã€‚æ¯•ç«Ÿï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ Far ç±»ä¸­éšè—æˆ‘ä»¬çš„å®šä½ä»£ç ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½æŠŠçº¹ç†çš„é€»è¾‘ä¹Ÿæ”¾åœ¨ Far ç±»ä¸­å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;åˆ‡æ¢åˆ° &lt;code&gt;Far.js&lt;/code&gt; æ–‡ä»¶å¹¶åœ¨æ„é€ å‡½æ•°çš„å¼€å¤´æ·»åŠ ä¸€è¡Œä»¥åˆ›å»ºå›¾å±‚çš„çº¹ç†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far(texture, width, height) {
  var texture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;); // æ·»åŠ 
  PIXI.extras.TilingSprite.call(this, texture, width, height);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨æ˜¾å¼åœ°å°†çº¹ç†çš„å®½åº¦å’Œé«˜åº¦ä¼ é€’ç»™ &lt;code&gt;TilingSprite&lt;/code&gt; çš„æ„é€ å‡½æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far(texture, width, height) {
  var texture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
  PIXI.extras.TilingSprite.call(this, texture, 512, 256); // 512, 256
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”±äºæˆ‘ä»¬ç°åœ¨ç›´æ¥åœ¨ç±»ä¸­å¤„ç†çº¹ç†ï¼Œå› æ­¤å®é™…ä¸Šä¸éœ€è¦å°†çº¹ç†ï¼Œå®½åº¦å’Œé«˜åº¦å‚æ•°ä¼ é€’ç»™æ„é€ å‡½æ•°ã€‚åˆ é™¤æ‰€æœ‰ä¸‰ä¸ªå‚æ•°å¹¶ä¿å­˜ä½ çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far(texture, width, height) { // åˆ é™¤ texture, width, height
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½ çš„æ„é€ å‡½æ•°ç°åœ¨åº”è¯¥æ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far() {
  var texture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
  PIXI.extras.TilingSprite.call(this, texture, 512, 256);

  this.position.x = 0;
  this.position.y = 0;
  this.tilePosition.x = 0;
  this.tilePosition.y = 0;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å‰©ä¸‹è¦åšçš„å°±æ˜¯è¿”å›åˆ°ä½ çš„ index.html æ–‡ä»¶å¹¶åˆ é™¤æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„çº¹ç†å¹¶ä¼ é€’ç»™ farçš„æ„é€ å‡½æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
far = new Far(farTexture, 512, 256);
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ”¹æˆè¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far = new Far();
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¯”ä»¥å‰ç®€æ´äº†ï¼Œå¯¹å§ï¼Ÿæˆ‘ä»¬æ‰€æœ‰å±‚çš„ä¸‘é™‹å®ç°ç»†èŠ‚ç°åœ¨éƒ½å®‰å…¨åœ°éšè—åœ¨ Far ç±»ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;ä¿å­˜ index.html å’Œ Far.js ï¼Œç„¶ååœ¨ Chrome ä¸­æµ‹è¯•æœ€æ–°ç‰ˆæœ¬çš„ä»£ç ã€‚&lt;/p&gt;

&lt;h3 id=&#34;åŒæ ·çš„æ–¹æ³•é‡æ„ä¸­é—´å±‚&#34;&gt;åŒæ ·çš„æ–¹æ³•é‡æ„ä¸­é—´å±‚&lt;/h3&gt;

&lt;p&gt;æˆ‘èŠ±äº†ä¸€äº›æ—¶é—´å¼•å¯¼ä½ å®Œæˆåˆ›å»º Farç±»æ‰€éœ€çš„æ­¥éª¤ã€‚è¯¥ç±»ç»§æ‰¿è‡ª&lt;code&gt;PIXI.extras.TilingSprite&lt;/code&gt;ï¼Œå…¶è¡Œä¸ºä¸ä»»ä½•å…¶ä»– pixi.js å±•ç¤ºå¯¹è±¡ç›¸åŒã€‚è™½ç„¶æˆ‘ä»¬å°šæœªå®Œæˆï¼Œä½†æˆ‘ä»¬å°†æš‚æ—¶åœæ­¢ä¸€ä¸‹å¹¶åº”ç”¨æˆ‘ä»¬å­¦åˆ°çš„çŸ¥è¯†æ¥åˆ›å»ºä¸€ä¸ªä»£è¡¨è§†å·®æ»šåŠ¨å™¨ä¸­çš„ä¸­é—´å±‚ï¼ˆMidï¼‰çš„ç±»ã€‚&lt;/p&gt;

&lt;p&gt;åˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;Mid.js&lt;/code&gt; çš„æ–°æ–‡ä»¶ï¼Œå¹¶å¼€å§‹å‘å…¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Mid() {
}

Mid.prototype = Object.create(PIXI.extras.TilingSprite.prototype);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŒæ ·åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œåˆ›å»ºä¸­é—´å±‚çš„çº¹ç†å¹¶è®¾ç½®å…¶å®šä½å±æ€§ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Mid() {
  var texture = PIXI.Texture.fromImage(&amp;quot;resources/bg-mid.png&amp;quot;);
  PIXI.extras.TilingSprite.call(this, texture, 512, 256);

  this.position.x = 0;
  this.position.y = 128;
  this.tilePosition.x = 0;
  this.tilePosition.y = 0;
}

Mid.prototype = Object.create(PIXI.extras.TilingSprite.prototype);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ Mid.js æ–‡ä»¶ï¼Œç„¶åè½¬åˆ° index.html å¹¶å¼•ç”¨ Mid ç±»çš„æºæ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.0.0/pixi.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Far.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Mid.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;!--æ·»åŠ --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®Œæˆåï¼Œå‘ä¸‹æ»šåŠ¨åˆ° &lt;code&gt;init()&lt;/code&gt; å‡½æ•°å¹¶åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far = new Far();
stage.addChild(far);

var midTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-mid.png&amp;quot;); // åˆ é™¤
mid = new PIXI.extras.TilingSprite(midTexture, 512, 256);// åˆ é™¤
mid.position.x = 0;// åˆ é™¤
mid.position.y = 128;// åˆ é™¤
mid.tilePosition.x = 0;// åˆ é™¤
mid.tilePosition.y = 0;// åˆ é™¤
stage.addChild(mid);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”¨è¿™ä¸€è¡Œä»£ç æ›¿æ¢å®ƒä»¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far = new Far();
stage.addChild(far);

mid = new Mid(); // æ­¤è¡Œ
stage.addChild(mid);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ Mid.js æ–‡ä»¶å¹¶åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•æœ€æ–°ç‰ˆæœ¬ã€‚åƒå¾€å¸¸ä¸€æ ·ï¼Œåœ¨è¿è¡Œæ—¶æ£€æŸ¥æ˜¯å¦æœ‰ JavaScript é”™è¯¯ï¼Œå¹¶ç¡®ä¿æ»šåŠ¨å™¨ä»ç„¶æŒ‰é¢„æœŸæ‰§è¡Œã€‚&lt;/p&gt;

&lt;h3 id=&#34;å®ç°ä¸€ä¸ª-update-æ–¹æ³•&#34;&gt;å®ç°ä¸€ä¸ª update() æ–¹æ³•&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬å·²ç»å¯¹ä»£ç åº“è¿›è¡Œäº†å¤§é‡çš„é‡æ„ï¼Œä½†ä»ç„¶æœ‰ä¸€äº›äº‹æƒ…å¯ä»¥åšã€‚è¿”å› index.html æ–‡ä»¶ï¼ŒæŸ¥çœ‹åŠ¨ç”»ä¸»æ›´æ–°é€»è¾‘ã€‚å®ƒåº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.tilePosition.x -= 0.128;
  mid.tilePosition.x -= 0.64;

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;update æ–¹æ³•ä¸­çš„å‰ä¸¤è¡Œé€šè¿‡æ›´æ–°å…¶ tilePosition å±æ€§æ¥æ»šåŠ¨æˆ‘ä»¬çš„å›¾å±‚ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„ä»£ç ç›®å‰å­˜åœ¨ä¸€äº›é—®é¢˜ï¼šé€šè¿‡ç›´æ¥æ›´æ”¹ &lt;code&gt;tilePosition&lt;/code&gt; å±æ€§ï¼Œæˆ‘ä»¬å°†æš´éœ² Mid å’Œ Far ç±»çš„å†…éƒ¨Â &lt;strong&gt;å®ç°&lt;/strong&gt;ï¼ˆè¯‘è€…ï¼šç±»çš„å¤–éƒ¨ä¸åº”è¯¥çŸ¥é“ç±»çš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œåªéœ€è¦æ§åˆ¶ç±»çš„è¡Œä¸ºï¼‰ã€‚è¿™è¿èƒŒäº†é¢å‘å¯¹è±¡çš„å°è£…åŸåˆ™ã€‚&lt;/p&gt;

&lt;p&gt;ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç±»ä¸­éšè—å…·ä½“ç»†èŠ‚ã€‚å¦‚æœä¸¤ä¸ªç±»åªæœ‰ä¸€ä¸ªå®é™…ä¸ºæˆ‘ä»¬æ‰§è¡Œæ»šåŠ¨çš„ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ä»£ç ä¼šæ›´æ˜“è¯»ã€‚æ¢å¥è¯è¯´ï¼Œå¯¹äºæˆ‘ä»¬çš„ä¸»å¾ªç¯æ¥è¯´ï¼Œè¿™æ ·ä¼¼ä¹æ›´åˆé€‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.update();
  mid.update();

  renderer.render(stage);

  requestAnimFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œè¿™æ ·çš„æ”¹å˜æ˜¯å¾®ä¸è¶³é“çš„ã€‚æˆ‘ä»¬å°†å‘ Far ç±»å’Œ Mid ç±»æ·»åŠ ä¸€ä¸ªÂ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ï¼Œæ¯ä¸ªç±»éƒ½ä¼šä¸€ç‚¹ç‚¹çš„æ»šåŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;ä» Far ç±»å¼€å§‹ï¼Œæ‰“å¼€ Far.js å¹¶å‘å…¶æ·»åŠ ä»¥ä¸‹æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Far.prototype = Object.create(PIXI.extras.TilingSprite.prototype);

Far.prototype.update = function() {
  this.tilePosition.x -= 0.128;
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯¥æ–¹æ³•ï¼ˆupdateï¼‰çš„ä¸»ä½“åº”è¯¥çœ‹èµ·æ¥å¾ˆç†Ÿæ‚‰ã€‚å®ƒåªæ˜¯å°†çº¹ç†çš„å¹³é“ºä½ç½®ç§»åŠ¨ 0.128 åƒç´ ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬åœ¨ index.html çš„ä¸»å¾ªç¯ä¸­æ‰€åšçš„ã€‚&lt;/p&gt;

&lt;p&gt;å¥½çš„ï¼Œä¿å­˜æ›´æ”¹å¹¶å‘Mid.jsæ·»åŠ ç±»ä¼¼çš„æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Mid.prototype = Object.create(PIXI.extras.TilingSprite.prototype);

Mid.prototype.update = function() {
  this.tilePosition.x -= 0.64;
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸¤ä¸ªæ–¹æ³•çš„å”¯ä¸€åŒºåˆ«æ˜¯ Mid ç±»ä¸­çš„ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•çš„æ»šåŠ¨é‡æ›´å¤šã€‚&lt;/p&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹å¹¶è¿”å› index.htmlã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯ä»ä¸»å¾ªç¯ä¸­è°ƒç”¨æ¯ä¸ªå±‚çš„ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ã€‚åˆ é™¤ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.tilePosition.x -= 0.128; // åˆ é™¤
  mid.tilePosition.x -= 0.64; // åˆ é™¤

  renderer.render(stage);

  requestAnimFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›¿æ¢æˆï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.update();
  mid.update();

  renderer.render(stage);

  requestAnimFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹å¹¶æµ‹è¯•ï¼Œä¿è¯ Chrome ä¸­æŒ‰é¢„æœŸæ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;

&lt;h3 id=&#34;åœä¸‹æ¥æ€è€ƒä¸€ä¸‹&#34;&gt;åœä¸‹æ¥æ€è€ƒä¸€ä¸‹&lt;/h3&gt;

&lt;p&gt;è™½ç„¶è§†å·®æ»šåŠ¨å™¨å’Œä»¥å‰ä¸€æ ·è¡¨ç°æ­£å¸¸ï¼Œä½†æˆ‘ä»¬å®é™…ä¸Šå·²å¯¹ä»£ç çš„æ•´ä½“æ¶æ„è¿›è¡Œäº†ä¸€äº›é‡å¤§çš„æ›´æ”¹ã€‚æˆ‘ä»¬é‡‡ç”¨äº†æ›´åŠ é¢å‘å¯¹è±¡çš„è®¾è®¡ï¼Œåˆ©ç”¨ç»§æ‰¿åˆ›å»ºäº†ä¸¤ä¸ªä»£è¡¨è§†å·®å±‚çš„ç‰¹æ®Šå±•ç¤ºå¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;èƒ½å¤Ÿç¼–å†™ç‰¹æ®Šçš„å±•ç¤ºå¯¹è±¡æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¦‚å¿µï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹éƒ½èƒ½æ´¾ä¸Šç”¨åœºã€‚æˆ‘ä»¬çš„ Far ç±»å’Œ Mid ç±»éƒ½åƒ pixi.js æ”¯æŒçš„ä»»ä½•å…¶ä»–å±•ç¤ºå¯¹è±¡ä¸€æ ·ã€‚ä¸‹å›¾è¯´æ˜äº†æˆ‘ä»¬çš„ä¸¤ä¸ªç‰¹æ®Šç±»ä½äº Pixi å±•ç¤ºå¯¹è±¡ç±»çš„ç»§æ‰¿ç»“æ„ä¸­çš„ä½ç½®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img13.360buyimg.com/devfe/jfs/t1/27384/39/11126/25797/5c8ca6b2E6fabfee4/0d138469e63570ba.png&#34; alt=&#34;ps-tut2-screenshot2&#34; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ç»§ç»­ä¹‹å‰ï¼Œçœ‹çœ‹ä½ çš„ä»£ç æ–‡ä»¶å¹¶ç¡®ä¿æˆ‘ä»¬è¿„ä»Šä¸ºæ­¢æ‰€åšçš„ä¸€åˆ‡éƒ½æœ‰æ„ä¹‰ã€‚å®é™…ä¸Šå¹¶æ²¡æœ‰å¾ˆå¤šä»£ç ï¼Œä½†å¦‚æœä½ æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ–°æ‰‹ï¼Œé‚£ä¹ˆå®Œå…¨æ¶ˆåŒ–ä»£ç æ‰€è¡¨ç¤ºçš„çŸ¥è¯†å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å»ºç«‹æ»šåŠ¨å™¨-scroller-ç±»&#34;&gt;å»ºç«‹æ»šåŠ¨å™¨ï¼ˆScrollerï¼‰ç±»&lt;/h2&gt;

&lt;p&gt;æœ¬æ•™ç¨‹å¼€å¤´æ¦‚è¿°çš„ç›®æ ‡ä¹‹ä¸€æ˜¯å°†æˆ‘ä»¬çš„è§†å·®æ»šåŠ¨å™¨åŒ…è£…åˆ°ä¸€ä¸ªç±»ä¸­ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»ç¼–å†™äº† Far ç±»å’Œ Mid ç±»ï¼Œç°åœ¨æˆ‘ä»¬å†™ä¸€ä¸ªæ»šåŠ¨å™¨ç±»ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·çš„è¯æˆ‘ä»¬å°±èƒ½å¤Ÿä» index.html ä¸­åˆ é™¤ Mid å’Œ Far &lt;strong&gt;å®ä¾‹&lt;/strong&gt;ï¼Œå°†å®ƒä»¬å°è£…åœ¨ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ä¸­ï¼Œä»¥æ»¡è¶³æˆ‘ä»¬æ‰€æœ‰çš„æ»šåŠ¨ç±»éœ€è¦å®ç°çš„éœ€æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;è®©æˆ‘ä»¬å†™ä¸€ä¸ªèƒ½å¤Ÿå®ç°æˆ‘ä»¬æƒ³æ³•çš„ç±»ã€‚åˆ›å»ºä¸€ä¸ªåä¸º Scroller.js çš„æ–° JavaScript æ–‡ä»¶ï¼Œå¹¶é€šè¿‡å‘å…¶æ·»åŠ ä»¥ä¸‹ä»£ç æ¥å®šä¹‰åä¸º Scroller çš„ç±»ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Scroller(stage) {
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…³äºè¿™ä¸ªç±»ï¼Œæœ‰ä¸¤ç‚¹å€¼å¾—æ³¨æ„ã€‚é¦–å…ˆï¼Œå®ƒçš„æ„é€ å‡½æ•°éœ€è¦å¼•ç”¨æˆ‘ä»¬çš„èˆå°ï¼ˆPixi.Containerï¼‰ã€‚å…¶æ¬¡ï¼Œå®ƒä¸ä¼šç»§æ‰¿ä»»ä½•ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ Far å’Œ Mid ç±»ä¸åŒï¼Œæˆ‘ä»¬çš„ Scroller ç±»ä¸æ˜¯ç‰¹æ®Šçš„å±•ç¤ºå¯¹è±¡ã€‚ç›¸åï¼Œå®ƒå°†ä½¿ç”¨æ„é€ å‡½æ•°çš„ stage å‚æ•°æ·»åŠ æˆ‘ä»¬çš„ è¿œæ™¯å±‚å’Œä¸­é—´å±‚å®ä¾‹ã€‚ï¼ˆè¯‘è€…ï¼šScroller ç±»åªèµ·åˆ°å°è£…å’Œæ§åˆ¶ä½œç”¨ï¼Œå¹¶ä¸ç”¨ç»§æ‰¿ä»»ä½• Pixi ä¸­çš„ç±»ï¼‰&lt;/p&gt;

&lt;p&gt;è®©æˆ‘ä»¬å…ˆåœ¨ç±»ä¸­æ·»åŠ è¿œæ™¯å±‚çš„å®ä¾‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Scroller(stage) {
  this.far = new Far();
  stage.addChild(this.far);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¬¬ä¸€è¡Œä»£ç åˆ›å»ºäº† Far ç±»çš„å®ä¾‹ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å°†å®ä¾‹å­˜å‚¨åœ¨åä¸º &lt;code&gt;far&lt;/code&gt; çš„ &lt;code&gt;æˆå‘˜å˜é‡&lt;/code&gt; ä¸­ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æˆå‘˜å˜é‡&lt;/strong&gt; æ˜¯é€šè¿‡ this å…³é”®å­—ç›´æ¥å‘ç±»æ·»åŠ  &lt;strong&gt;å±æ€§&lt;/strong&gt; æ¥åˆ›å»ºçš„ã€‚æˆå‘˜å˜é‡å…·æœ‰åœ¨ç±»å®ä¾‹çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æŒä¹…åŒ–å¯è§çš„ä¼˜ç‚¹ï¼Œè¿™æ„å‘³ç€ç±»çš„ä»»ä½•å…¶ä»–æ–¹æ³•ä¹Ÿå¯ä»¥è®¿é—®å®ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç¬¬äºŒè¡Œå°†è¿œæ™¯å±‚å®ä¾‹æ·»åŠ åˆ°èˆå°ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬ä¸ºä¸­é—´å±‚åšåŒæ ·çš„äº‹æƒ…ã€‚å°†ä»¥ä¸‹ä¸¤è¡Œæ·»åŠ åˆ°æ„é€ å‡½æ•°ä¸­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Scroller(stage) {
  this.far = new Far();
  stage.addChild(this.far);

  this.mid = new Mid();
  stage.addChild(this.mid);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨ Scroller ç±»ä¸­æœ‰ä¸¤ä¸ªæˆå‘˜å˜é‡ï¼š&lt;code&gt;far&lt;/code&gt; å’Œ &lt;code&gt;mid&lt;/code&gt;ã€‚è¿™æ˜¯å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸æˆ‘ä»¬ä»ç±»ä¸­çš„ä»»ä½•å…¶ä»–æ–¹æ³•ä¸­è®¿é—®æˆ‘ä»¬çš„è§†å·®å±‚ã€‚è¿™ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºæˆ‘ä»¬ç¡®å®éœ€è¦æ·»åŠ ä¸€ä¸ªé¢å¤–çš„æ–¹æ³•ã€‚å®ƒå°†ç”¨äºæ›´æ–°ä¸¤ä¸ªå±‚çš„ä½ç½®ã€‚æˆ‘ä»¬ç°åœ¨ç»§ç»­æ·»åŠ æ­¤æ–¹æ³•ï¼ˆupdateï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Scroller(stage) {
  this.far = new Far();
  stage.addChild(this.far);

  this.mid = new Mid();
  stage.addChild(this.mid);
}

Scroller.prototype.update = function() {
  this.far.update();
  this.mid.update();
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿˜è®°å¾—æˆ‘ä»¬ä¸º Mid å’Œ Far ç±»ç¼–å†™äº† &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•å—ï¼Ÿåœ¨æˆ‘ä»¬çš„ Scroller ç±»è‡ªå·±çš„ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•éœ€è¦åšçš„å°±æ˜¯è°ƒç”¨è¿™äº›æ›´æ–°æ–¹æ³•ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ’å…¥-scroller-ç±»&#34;&gt;æ’å…¥ Scroller ç±»&lt;/h3&gt;

&lt;p&gt;ç°åœ¨ Scroller ç±»å¯ä»¥è¡¨ç¤ºæˆ‘ä»¬çš„è§†å·®æ»šåŠ¨å™¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥å›åˆ° index.html é¡µé¢å¹¶å°†å…¶æ’å…¥ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ index.html å¹¶å¼•ç”¨ Scroller.jsï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.0.0/pixi.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Far.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Mid.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Scroller.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨å‘ä¸‹ç§»åŠ¨åˆ° &lt;code&gt;init()&lt;/code&gt; å‡½æ•°å¹¶åˆ é™¤ä»¥ä¸‹ä»£ç è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function init() {
  stage = new PIXI.Stage(0x66FF99);
  renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );

  far = new Far(); // åˆ é™¤
  stage.addChild(far); // åˆ é™¤

  mid = new Mid(); // åˆ é™¤
  stage.addChild(mid); // åˆ é™¤

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯·è®°ä½ï¼Œè¿œæ™¯å±‚å’Œä¸­é—´å±‚ç°åœ¨éƒ½ç”± Scroller ç±»å¤„ç†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªScroller å®ä¾‹æ¥æ›¿æ¢æˆ‘ä»¬åˆšåˆ é™¤çš„è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function init() {
  stage = new PIXI.Stage(0x66FF99);
  renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );

  scroller = new Scroller(stage); // å®ä¾‹åŒ– Scroller

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å°† stage å¼•ç”¨ä¼ é€’ç»™ Scroller ç±»çš„æ„é€ å‡½æ•°ã€‚è¿™æ ·åšéå¸¸é‡è¦ï¼Œå› ä¸º Scroller ç±»éœ€è¦è¿™ä¸ªå¼•ç”¨æ‰èƒ½å°† è¿œæ™¯å±‚å’Œä¸­é—´å±‚æ·»åŠ åˆ° &lt;strong&gt;å±•ç¤ºåˆ—è¡¨&lt;/strong&gt; ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨éœ€è¦åšçš„å°±æ˜¯åœ¨ä¸»å¾ªç¯ä¸­è°ƒç”¨ scroller çš„ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ã€‚é¦–å…ˆï¼Œä»ä¸»å¾ªç¯ä¸­åˆ é™¤ä»¥ä¸‹ä¸¤è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.update(); // åˆ é™¤
  mid.update(); // åˆ é™¤

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨æ·»åŠ ä»¥ä¸‹è¡Œæ¥æ›´æ–°æ»šåŠ¨å™¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  scroller.update(); // æ·»åŠ 

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹å¹¶ä½¿ç”¨ Chrome æµ‹è¯•æ‰€æœ‰å†…å®¹ã€‚ä¸€å¦‚æ—¢å¾€åœ°åœ¨ JavaScript æ§åˆ¶å°ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰é”™è¯¯ï¼Œå¦‚æœæœ‰ï¼Œè¯·ä»”ç»†æ£€æŸ¥ä½ çš„ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å·²ç»æˆåŠŸåœ°é‡æ–°æ„å»ºäº†è§†å·®æ»šåŠ¨ï¼Œä»¥ä¾¿æ‰€æœ‰å†…å®¹éƒ½åŒ…å«åœ¨ä¸€ä¸ªç±»ä¸­ã€‚å¦‚æœä½ æŸ¥çœ‹ index.htmlï¼Œä½ ä¼šå‘ç°æˆ‘ä»¬å·²ç»éšè—äº†æˆ‘ä»¬ä¸Šæ¬¡åœ¨ç¬¬ä¸€ç¯‡æ•™ç¨‹ä¸­å†™çš„æ‰€æœ‰å®ç°ä»£ç ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ·»åŠ è§†å£-viewport&#34;&gt;æ·»åŠ è§†å£ï¼ˆviewportï¼‰&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬å·²ç»å–å¾—äº†å·¨å¤§çš„è¿›æ­¥ï¼Œä½†è¿˜æœ‰ä¸€ä»¶äº‹æˆ‘ä»¬åšã€‚ä¸ºäº†ä½¿æˆ‘ä»¬çš„æ»šåŠ¨æ¡å®Œæ•´ï¼Œéœ€è¦æ·»åŠ  &lt;strong&gt;è§†å£&lt;/strong&gt; çš„æ¦‚å¿µã€‚å°†è§†å£è§†ä¸ºä¸€ä¸ªæŸ¥çœ‹æ¸¸æˆåœ°å›¾çš„çª—å£ã€‚&lt;/p&gt;

&lt;p&gt;ä½ å¯èƒ½ä¼šé—®ã€Œæˆ‘ä»¬ä¸æ˜¯å·²ç»æœ‰ä¸€ä¸ªè§†å£äº†å—ï¼Ÿã€æ˜¯çš„ï¼Œæ¯•ç«Ÿï¼Œå½“ä½ åœ¨æµè§ˆå™¨ä¸­è¿è¡Œä»£ç æ—¶ï¼Œæˆ‘ä»¬åªèƒ½çœ‹åˆ°åœ¨èˆå°è¾¹ç•Œå†…å¯ä»¥çœ‹åˆ°çš„å†…å®¹ã€‚è¿™æ˜¯ä¼¼ä¹å°±æ˜¯ä¸€ä¸ªè§†å£äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰åŠæ³•çŸ¥é“æˆ‘ä»¬åœ¨æ¸¸æˆä¸–ç•Œä¸­ &lt;strong&gt;æ»šåŠ¨äº†å¤šè¿œ&lt;/strong&gt;ï¼ˆè¯‘è€…ï¼šéœ€è¦å®ç°è§†å£æ˜¯å› ä¸ºåç»­ä¼šæ¶‰åŠåˆ°åœ°å›¾çš„æ¦‚å¿µï¼Œåœ°å›¾ä¸­æ¸¸æˆåœºæ™¯æ˜¯æœ‰é•¿åº¦ã€è·ç¦»çš„æ¦‚å¿µçš„ï¼Œè¿™å°±æ–¹ä¾¿æˆ‘ä»¬å®ç°ä¸€äº›ç‰¹æ®Šåœºæ™¯ï¼Œæ¯”å¦‚è½ç®±å­ï¼Œéšœç¢ç‰©ç­‰ã€‚å› ä¸ºä¸å¼•ç”¨è§†å£çš„æ¦‚å¿µæ¸¸æˆå°†æ˜¯æ— é™å¾ªç¯æ»šåŠ¨çš„ã€‚è¿™ä¼šå¯¼è‡´è®¡ç®—è·ç¦»å˜å¾—å¾ˆå¤æ‚ï¼Œè€Œä¸”æ— æ³•å°†åœ°å›¾è®¾è®¡æˆä¸€ç§å…·ä½“çš„æŠ½è±¡ï¼‰ã€‚å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥ç®€å•åœ°è·³åˆ°æŸä¸ªä½ç½®å¹¶ç¡®åˆ‡åœ°çœ‹åˆ°æˆ‘ä»¬çš„å›¾å±‚åº”è¯¥å¦‚ä½•çœ‹èµ·æ¥ï¼Œé‚£ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿä¸€æ—¦æˆ‘ä»¬æ·»åŠ äº†è§†å£çš„æ¦‚å¿µå¹¶æä¾›äº†è®¾ç½®å…¶å½“å‰ä½ç½®çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä¸€åˆ‡éƒ½å°†æˆä¸ºå¯èƒ½ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç»™-scroller-ç±»æ·»åŠ -setviewportx-æ–¹æ³•&#34;&gt;ç»™ Scroller ç±»æ·»åŠ Â setViewportX æ–¹æ³•&lt;/h3&gt;

&lt;p&gt;ç›®å‰æˆ‘ä»¬æœ‰ä¸€ä¸ª &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥è¿ç»­æ»šåŠ¨æˆ‘ä»¬çš„è§†å·®å±‚ã€‚å¯ä»¥ä½¿ç”¨ä¸€ä¸ªåä¸º &lt;code&gt;setViewportX()&lt;/code&gt; çš„æ–°æ–¹æ³•æ›¿æ¢å®ƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è®¾ç½®è§†å£çš„æ°´å¹³ä½ç½®ã€‚è°ƒç”¨æ­¤æ–¹æ³•å°†è®©æˆ‘ä»¬éšæ„å®šä½æˆ‘ä»¬çš„æ¸¸æˆåœ°å›¾ã€‚&lt;/p&gt;

&lt;p&gt;è®©æˆ‘ä»¬ä» Scroller ç±»å¼€å§‹ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ Scroller.js å¹¶åˆ é™¤ç°æœ‰çš„ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Scroller(stage) {
  this.far = new Far();
  stage.addChild(this.far);

  this.mid = new Mid();
  stage.addChild(this.mid);
}

Scroller.prototype.update = function() { // åˆ é™¤
  this.far.update();// åˆ é™¤
  this.mid.update();// åˆ é™¤
};// åˆ é™¤
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬çš„ &lt;code&gt;setViewportX()&lt;/code&gt; æ–¹æ³•éå¸¸ç®€å•ã€‚å®ƒæœŸæœ›å°†ä¸€ä¸ªæ•°å­—ä½œä¸ºæ–¹æ³•çš„ viewportX å‚æ•°ä¼ é€’ï¼Œç„¶åå°†è¯¥å€¼ä¼ é€’ç»™æˆ‘ä»¬çš„æ¯ä¸ªå±‚ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬çš„å›¾å±‚éƒ½éœ€è¦å®ç°è‡ªå·±çš„ &lt;code&gt;setViewportX()&lt;/code&gt; æ–¹æ³•ã€‚è®©æˆ‘ä»¬ç»§ç»­å§ï¼Œç°åœ¨å°±å»åšå§ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç»™-far-ç±»æ·»åŠ -setviewportx-æ–¹æ³•&#34;&gt;ç»™ Far ç±»æ·»åŠ Â setViewportX æ–¹æ³•&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬é¦–å…ˆåˆ é™¤ç±»ä¸­çš„ç°æœ‰ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ã€‚æ‰“å¼€ Far.js å¹¶åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far() {
  var texture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
  PIXI.extras.TilingSprite.call(this, texture, 512, 256);

  this.position.x = 0;
  this.position.y = 0;
  this.tilePosition.x = 0;
  this.tilePosition.y = 0;
}

Far.prototype = Object.create(PIXI.extras.TilingSprite.prototype);

Far.prototype.update = function() { // åˆ é™¤
  this.tilePosition.x -= 0.128; // åˆ é™¤
}; // åˆ é™¤
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬éœ€è¦èƒ½å¤Ÿè·Ÿè¸ªè§†å£çš„æ°´å¹³ä½ç½®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­å®šä¹‰æ–°çš„æˆå‘˜å˜é‡ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Far() {
  var texture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
  PIXI.extras.TilingSprite.call(this, texture, 512, 256);

  this.position.x = 0;
  this.position.y = 0;
  this.tilePosition.x = 0;
  this.tilePosition.y = 0;

  this.viewportX = 0; // æ–°çš„æˆå‘˜å˜é‡
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†æ·»åŠ ä¸€ä¸ªç±»çš„ &lt;strong&gt;é™æ€å¸¸é‡&lt;/strong&gt;ï¼ˆ&lt;code&gt;DELTA_X&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Far.prototype = Object.create(PIXI.extras.TilingSprite.prototype);

Far.DELTA_X = 0.128;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;DELTA_X å¸¸é‡çš„å€¼çœ‹èµ·æ¥åº”è¯¥å¾ˆç†Ÿæ‚‰ã€‚å®ƒæ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨æ¯æ¬¡è°ƒç”¨ &lt;code&gt;update()&lt;/code&gt; æ—¶ç§»åŠ¨å›¾å±‚çš„ tilePosition çš„åƒç´ æ•°ã€‚æ˜¾ç„¶ï¼Œä½¿ç”¨å¸¸é‡ä¼šä½¿æˆ‘ä»¬çš„ä»£ç æ›´å…·å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨å¸¸é‡çš„åŸå› ã€‚åŸºæœ¬ä¸Šï¼Œæ¯å½“æˆ‘ä»¬çš„è§†å£ç§»åŠ¨ä¸€ä¸ªå•å…ƒæ—¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å¸¸é‡å°†è¿œæ™¯å±‚ç§»åŠ¨ 0.128 åƒç´ ã€‚æ‰€ä»¥ç°åœ¨è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª &lt;code&gt;setViewportX()&lt;/code&gt; æ–¹æ³•ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Far.prototype = Object.create(PIXI.extras.TilingSprite.prototype);

Far.DELTA_X = 0.128;

Far.prototype.setViewportX = function(newViewportX) {
  var distanceTravelled = newViewportX - this.viewportX;
  this.viewportX = newViewportX;
  this.tilePosition.x -= (distanceTravelled * Far.DELTA_X);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç å¹¶ä¸éš¾ç†è§£ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è®¡ç®—è‡ªä»ä¸Šæ¬¡è°ƒç”¨Â &lt;code&gt;setViewportX()&lt;/code&gt; ä»¥æ¥çš„æ»šåŠ¨çš„è·ç¦»ã€‚ç„¶åè§†å£çš„æ–°æ°´å¹³ä½ç½®å­˜å‚¨åœ¨æˆ‘ä»¬çš„ &lt;code&gt;viewportX&lt;/code&gt; æˆå‘˜å˜é‡ä¸­ã€‚æœ€åï¼Œæˆ‘ä»¬ä¹˜ä»¥ DELTA_X å¸¸æ•°ï¼Œä»¥ç¡®å®šå°†å›¾å±‚çš„ç“¦ç‰‡ç§»åŠ¨äº†å¤šè¿œã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;åº”è¯¥æ³¨æ„ï¼Œæˆ‘ä»¬çš„ x ä½ç½®ä»£è¡¨è§†å£çª—å£çš„å·¦ä¾§ã€‚åœ¨å…¶ä»–å®ç°ä¸­ï¼Œx ä½ç½®ä»£è¡¨è§†å£çš„ä¸­å¿ƒä¹Ÿå¾ˆå¸¸è§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¿å­˜æœ€æ–°ç‰ˆæœ¬çš„ &lt;code&gt;Far.js&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹ &lt;code&gt;Mid&lt;/code&gt; ç±»è¿›è¡Œç›¸åŒçš„æ›´æ”¹ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç»™-mid-ç±»æ·»åŠ -setviewportx-æ–¹æ³•&#34;&gt;ç»™ Mid ç±»æ·»åŠ Â setViewportX æ–¹æ³•&lt;/h3&gt;

&lt;p&gt;Mid ç±»çš„ä»£ç å‡ ä¹ä¸ Far ç±»ç›¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½å¿«é€Ÿå†™å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ Mid.js å¹¶åˆ é™¤å…¶ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ã€å¹¶æ·»åŠ  &lt;code&gt;setViewportX&lt;/code&gt;Â æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Mid() {
  var texture = PIXI.Texture.fromImage(&amp;quot;resources/bg-mid.png&amp;quot;);
  PIXI.extras.TilingSprite.call(this, texture, 512, 256);

  this.position.x = 0;
  this.position.y = 128;
  this.tilePosition.x = 0;
  this.tilePosition.y = 0;

  this.viewportX = 0;
}

Mid.prototype = Object.create(PIXI.extras.TilingSprite.prototype);

Mid.DELTA_X = 0.64;

Mid.prototype.setViewportX = function(newViewportX) {
  var distanceTravelled = newViewportX - this.viewportX;
  this.viewportX = newViewportX;
  this.tilePosition.x -= (distanceTravelled * Mid.DELTA_X);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸¤ä¸ªç±»ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«æ˜¯ Mid ç±»çš„ DELTA_X å¸¸é‡å€¼ä¸º &lt;code&gt;0.64&lt;/code&gt;ï¼Œè¿™æ˜¯ä¸ºäº†ç¡®ä¿å›¾å±‚çš„æ»šåŠ¨é€Ÿåº¦æ¯” far å±‚å¿«ã€‚ä¿å­˜æ›´æ”¹ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æµ‹è¯•è§†å£&#34;&gt;æµ‹è¯•è§†å£&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬åº”è¯¥æµ‹è¯•è§†å£å¹¶ç¡®ä¿è®¾ç½®å…¶ä½ç½®åæ˜ åœ¨æˆ‘ä»¬çš„è§†å·®å±‚ä¸­ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ‰“å¼€ index.html å¹¶åˆ é™¤ scrolller  çš„ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  scroller.update(); // åˆ é™¤

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ index.html æ–‡ä»¶å¹¶åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•æ›´æ”¹ã€‚ä½ åº”è¯¥æ³¨æ„åˆ°ä½ åªèƒ½çœ‹è§è§†å·®å±‚ï¼Œä½†éƒ½æ²¡æœ‰æ»šåŠ¨ã€‚é‚£æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰æ·»åŠ ä»»ä½•ä»£ç æ¥çœŸæ­£æ›´æ”¹è§†å£çš„æ°´å¹³ä½ç½®ã€‚ç›®å‰å®ƒå›ºå®šåœ¨é»˜è®¤çš„ x ä½ç½® 0ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æˆ‘ä»¬æ·»åŠ ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Chrome çš„ JavaScript æ§åˆ¶å°ä¸­æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬çš„æ»šåŠ¨æ¡çš„ &lt;code&gt;setViewportX()&lt;/code&gt; å®é™…ä¸Šæ˜¯æœ‰æ•ˆçš„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;scroller.setViewportX(50); /// æ§åˆ¶å°ä¸­è°ƒç”¨
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;JavaScript æ§åˆ¶å°å¯ä»¥è®¿é—®ç¨‹åºä¸­çš„ä»»ä½•å…¨å±€å˜é‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¨å±€ &lt;code&gt;scroller&lt;/code&gt; å˜é‡è®¿é—®æ»šåŠ¨æ¡å¹¶è°ƒç”¨å…¶Â &lt;code&gt;setViewportX()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä½ åº”è¯¥çœ‹åˆ°è§†å·®å›¾å±‚å‘å·¦ç§»åŠ¨ï¼Œè¿™è¡¨ç¤ºæˆ‘ä»¬å·²æˆåŠŸé‡æ–°å®šä½äº†è§†å£ã€‚&lt;/p&gt;

&lt;p&gt;å°è¯•å°†è§†å£ç§»åŠ¨åˆ° x = 7000 çš„ä½ç½® ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;scroller.setViewportX(7000);
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;æ»šåŠ¨è§†å£&#34;&gt;æ»šåŠ¨è§†å£&lt;/h3&gt;

&lt;p&gt;å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸æ–­æ›´æ–°æ»šåŠ¨å™¨çš„è§†å£ä½ç½®æ¥æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œä¸­çš„ç§»åŠ¨ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä¸»å¾ªç¯ä¸­æ‰§è¡Œæ­¤æ“ä½œï¼Œä½†æ˜¯æˆ‘ä»¬å¾—å¤Ÿè·å–è§†å£çš„å½“å‰æ°´å¹³ä½ç½®ã€‚è®©æˆ‘ä»¬ç»§ç»­ä¸º &lt;code&gt;Scroller&lt;/code&gt; ç±»æ·»åŠ ä¸€ä¸ªæ–°æ–¹æ³•ã€‚&lt;/p&gt;

&lt;h3 id=&#34;è·å–è§†å£çš„ä½ç½®&#34;&gt;è·å–è§†å£çš„ä½ç½®&lt;/h3&gt;

&lt;p&gt;ç›®å‰æ¥è®²æˆ‘ä»¬çš„ Scroller ç±»å¹¶æ²¡å­˜å‚¨å½“å‰è§†å£ä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæˆå‘˜å˜é‡æ¥å®ç°å®ƒã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ Scroller.js å¹¶åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ä»¥ä¸‹æˆå‘˜å˜é‡ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Scroller(stage) {
  this.far = new Far();
  stage.addChild(this.far);

  this.mid = new Mid();
  stage.addChild(this.mid);

  this.viewportX = 0; // æ°´å¹³æ»šåŠ¨é‡
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¹¶åœ¨ &lt;code&gt;setViewportX()&lt;/code&gt; æ–¹æ³•ä¸­æ›´æ–° &lt;code&gt;viewportX&lt;/code&gt; æˆå‘˜å˜é‡çš„å€¼ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Scroller.prototype.setViewportX = function(viewportX) {
  this.viewportX = viewportX; // æ›´æ–°
  this.far.setViewportX(viewportX);
  this.mid.setViewportX(viewportX);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ª &lt;code&gt;getViewportX()&lt;/code&gt; æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†è¿”å›è§†å£çš„å½“å‰ä½ç½®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Scroller.prototype.setViewportX = function(viewportX) {
  this.viewportX = viewportX;
  this.far.setViewportX(viewportX);
  this.mid.setViewportX(viewportX);
};
// æ–°æ–¹æ³•
Scroller.prototype.getViewportX = function() {
  return this.viewportX;
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ä½ çš„ä»£ç ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ›´æ–°ä¸»å¾ªç¯&#34;&gt;æ›´æ–°ä¸»å¾ªç¯&lt;/h3&gt;

&lt;p&gt;ç°åœ¨è¦åšçš„å°±æ˜¯ä¸æ–­æ›´æ–°æ»šåŠ¨å™¨çš„è§†å£ä½ç½®ã€‚æˆ‘ä»¬å°†åœ¨ä¸»å¾ªç¯ä¸­æ‰§è¡Œæ­¤æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€ index.htmlï¼Œåªéœ€æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  var newViewportX = scroller.getViewportX() + 5; // æ·»åŠ 
  scroller.setViewportX(newViewportX); // æ·»åŠ 
            
  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¬¬ä¸€è¡Œè·å–è§†å£çš„ x ä½ç½®å¹¶å°†å…¶å¢åŠ  5 ä¸ªå•ä½ã€‚ç¬¬äºŒè¡Œé‡‡ç”¨æ–°å€¼å¹¶æ›´æ–°è§†å£çš„å½“å‰ x ä½ç½®ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œå®ƒä¼šå¼ºåˆ¶è§†å£åœ¨æ¯æ¬¡è°ƒç”¨ä¸»å¾ªç¯æ—¶æ»šåŠ¨ 5 ä¸ªå•ä½ã€‚&lt;/p&gt;

&lt;p&gt;ä¿å­˜ä»£ç å¹¶åœ¨ Chrome ä¸­è¿è¡Œå®ƒã€‚ä½ åº”è¯¥ä¼šå†ä¸€æ¬¡çœ‹åˆ°è§†å·®å±‚å‘å¤–æ»šåŠ¨ã€‚è¯•è¯•ä¸åŒçš„æ»šåŠ¨é€Ÿåº¦çœ‹ã€‚ä¾‹å¦‚ï¼Œå°†è§†å£å¢åŠ  15 ä¸ªå•ä½è€Œä¸æ˜¯ 5 ä¸ªå•ä½ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç§»åŠ¨è§†å£&#34;&gt;ç§»åŠ¨è§†å£&lt;/h3&gt;

&lt;p&gt;è®©æˆ‘ä»¬åœ¨ Scroller ç±»ä¸­å†æ·»åŠ ä¸€ä¸ªæ–¹æ³• &lt;code&gt;moveViewportXBy&lt;/code&gt;ï¼Œå¯ä»¥å°†è§†å£ä»å…¶å½“å‰ä½ç½®ç§»åŠ¨æŒ‡å®šçš„è·ç¦»ã€‚è¿™å°†è®©ä¸»å¾ªç¯çœ‹èµ·æ¥æ›´åŠ ç®€æ´ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¿å­˜æ›´æ”¹ä¹‹å‰ï¼Œæ‰“å¼€ Scroller.js å¹¶æ·»åŠ ä»¥ä¸‹æ–¹æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Scroller.prototype.getViewportX = function() {
  return this.viewportX;
};
// æ·»åŠ æ–°æ–¹æ³•
Scroller.prototype.moveViewportXBy = function(units) {
  var newViewportX = this.viewportX + units;
  this.setViewportX(newViewportX);
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±åƒæˆ‘ä»¬ä¹‹å‰åšè¿‡çš„ä¸€æ ·ï¼Œè¿™ä¸ªæ–°æ–¹æ³•ä¸éš¾ç†è§£ã€‚å®ƒåªæ˜¯è®¡ç®—å‡ºè§†å£çš„æ–°ä½ç½®ç„¶åè°ƒç”¨ç±»çš„ &lt;code&gt;setViewportX()&lt;/code&gt; æ–¹æ³•æ¥å®é™…è®¾ç½®è§†å£ä½ç½®ã€‚&lt;/p&gt;

&lt;p&gt;ç§»å› index.html å¹¶åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  var newViewportX = scroller.getViewportX() + 5; // åˆ é™¤
  scroller.setViewportX(newViewportX); // åˆ é™¤

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”¨ &lt;code&gt;moveViewportXBy()&lt;/code&gt; æ–¹æ³•çš„å•è¡Œæ›¿æ¢å®ƒä»¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  scroller.moveViewportXBy(5); // è°ƒç”¨æ–°çš„æ–¹æ³•

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜æ›´æ”¹å¹¶åœ¨ Web æµè§ˆå™¨ä¸­æµ‹è¯•æ›´æ”¹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å›é¡¾ç¨‹åºçš„ä¸»å…¥å£&#34;&gt;å›é¡¾ç¨‹åºçš„ä¸»å…¥å£&lt;/h2&gt;

&lt;p&gt;æœ¬ç³»åˆ—æ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†å³å°†ç»“æŸã€‚åœ¨æˆ‘ä»¬å®Œæˆä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸‹ index.html å¹¶åšæœ€åä¸€ä¸ªé‡æ„ã€‚&lt;/p&gt;

&lt;p&gt;è™½ç„¶æˆ‘ä»¬å·²ç»å®Œæˆäº†å‡å°‘å¯¹å…¨å±€å˜é‡çš„ä¾èµ–çš„è¿™æ ·ä¸€é¡¹ä»¤äººæ•¬é‡çš„å·¥ä½œï¼Œä½†æˆ‘ä»¬çš„ index.html æ–‡ä»¶ä»ç„¶æœ‰ä¸€äº›é›¶æ•£çš„å…¨å±€å˜é‡ã€‚å®é™…ä¸Šï¼Œåœ¨å¤§å‹åº”ç”¨ç¨‹åºä¸­ï¼Œå°†å°½å¯èƒ½å¤šçš„ JavaScript ä¸ HTML é¡µé¢åˆ†å¼€ä¹Ÿæ˜¯ä¸€ç§å¾ˆå¥½çš„åšæ³•ã€‚è™½ç„¶æˆ‘ä»¬çš„ HTML é¡µé¢ä¸­æ²¡æœ‰å¤šå°‘ JavaScriptï¼Œä½†æˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½ã€‚è®©æˆ‘ä»¬æŠŠä»£ç å•ç‹¬å°è£…åœ¨ä¸€ä¸ªä¸è‡ªå·±ç±»åç›¸åŒçš„æ–‡ä»¶ä¸­ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å½“å‰æ‰€ä¾èµ–çš„å…¨å±€å˜é‡å°†å°è£…åˆ°ç±»çš„æˆå‘˜å˜é‡ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¹¶å°†å…¶å‘½åä¸º &lt;code&gt;Main.js&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºç±»åˆ›å»ºæ„é€ å‡½æ•°ï¼Œå¹¶å°†HTMLé¡µé¢çš„ &lt;code&gt;init()&lt;/code&gt; å‡½æ•°ä¸­çš„ä»£ç æ”¾å…¥å…¶ä¸­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function Main() {
  this.stage = new PIXI.Container();
  this.renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );

  this.scroller = new Scroller(this.stage);

  requestAnimationFrame(this.update.bind(this));
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨æ„ä¸Šé¢ä½¿ç”¨ &lt;code&gt;this&lt;/code&gt; å…³é”®å­—ã€‚æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥å®šä¹‰ &lt;code&gt;stage&lt;/code&gt;ï¼Œ&lt;code&gt;renderer&lt;/code&gt; å’Œ &lt;code&gt;scroller&lt;/code&gt; ä½œä¸ºæˆå‘˜å˜é‡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;this&lt;/code&gt; å…³é”®å­—ä¹Ÿç”¨äºè°ƒç”¨ JavaScript å‡½æ•° &lt;code&gt;requestAnimationFrame()&lt;/code&gt;ã€‚ä»£ç å¤§æ¦‚æ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;requestAnimationFrame(this.update.bind(this));
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™é‡Œä½¿ç”¨å®ƒæ¥æŒ‡å®šæˆ‘ä»¬çš„ç±»åä¸º &lt;code&gt;update()&lt;/code&gt; çš„æ–¹æ³•ï¼ˆæˆ‘ä»¬ä»ç„¶è¦å†™è¿™ä¸ªæ–¹æ³•ï¼‰å°†åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜æ—¶è°ƒç”¨ã€‚å¦å¤–ï¼Œè¿˜è°ƒç”¨å¦ä¸€ä¸ªä½ å¯èƒ½ä¸ç†Ÿæ‚‰çš„åä¸º &lt;code&gt;bind()&lt;/code&gt; çš„JavaScript å‡½æ•°ã€‚å®ƒç”¨æ¥ä¿è¯åœ¨è°ƒç”¨ &lt;code&gt;update()&lt;/code&gt; æ—¶å®ƒæ­£ç¡®åœ°è®¿é—®åˆ° Main ç±»çš„å®ä¾‹ã€‚å¦‚æœä¸ç”¨ &lt;code&gt;bind()&lt;/code&gt;ï¼Œ&lt;code&gt;update()&lt;/code&gt; æ–¹æ³•å°†æ— æ³•è®¿é—®å’Œä½¿ç”¨ä»»ä½• Main ç±»çš„æˆå‘˜å˜é‡ã€‚&lt;/p&gt;

&lt;p&gt;å¥½å§ï¼Œè®©æˆ‘ä»¬å®é™…ç¼–å†™æˆ‘ä»¬çš„ç±»çš„ &lt;code&gt;update()&lt;/code&gt; æ–¹æ³•ã€‚å®ƒå°†åªåŒ…å«æˆ‘ä»¬åŸæ¥ HTML é¡µé¢çš„ &lt;code&gt;update()&lt;/code&gt; å‡½æ•°ä¸­çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Main.prototype.update = function() {
  this.scroller.moveViewportXBy(Main.SCROLL_SPEED);
  this.renderer.render(this.stage);
  requestAnimationFrame(this.update.bind(this));
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬å†æ¬¡ä½¿ç”¨äº† &lt;code&gt;this&lt;/code&gt; å…³é”®å­—ï¼Œè€Œä¸”åˆ©ç”¨äº†JavaScript çš„ &lt;code&gt;bind()&lt;/code&gt; å‡½æ•°æ¥ç¡®ä¿æˆ‘ä»¬çš„æ›´æ–°å¾ªç¯å§‹ç»ˆåœ¨æ­£ç¡®çš„ä½œç”¨åŸŸä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œè¯·æ³¨æ„ä¸Šé¢çš„ä»£ç åœ¨è°ƒç”¨ scrolller çš„ &lt;code&gt;moveViewportXBy()&lt;/code&gt; æ–¹æ³•æ—¶ä½¿ç”¨äº†ä¸€ä¸ªåä¸º &lt;code&gt;SCROLL_SPEED&lt;/code&gt; çš„å¸¸é‡ã€‚ä»¥å‰æˆ‘ä»¬åˆšåˆšä¼ é€’äº†ä¸€ä¸ªç¡¬ç¼–ç å€¼ã€‚æˆ‘ä»¬å®é™…å¯ä»¥å°†è¯¥å¸¸é‡æ·»åŠ åˆ° Main ç±»ä¸­åšä¸ºé™æ€å¸¸é‡ã€‚åœ¨æ„é€ å‡½æ•°åé¢ç›´æ¥æ·»åŠ ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  requestAnimationFrame(this.update.bind(this));
}

Main.SCROLL_SPEED = 5; // æ·»åŠ 

Main.prototype.update = function() {
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¥½çš„ï¼Œä¿å­˜ä½ çš„ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬æ‰“å¼€ index.html å¹¶åˆ é™¤ä»¥å‰çš„è€ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;!-- å…¨éƒ¨åˆ é™¤ --&amp;gt;
&amp;lt;script&amp;gt;
  function init() {
    stage = new PIXI.Container();
    renderer = PIXI.autoDetectRenderer(
      512,
      384,
      {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
    );

    scroller = new Scroller(stage);

    requestAnimationFrame(update);
  }

  function update() {
    scroller.moveViewportXBy(5);

    renderer.render(stage);

    requestAnimationFrame(update);
  }
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç”¨ä¸€ä¸ªç®€å•çš„å®ä¾‹åŒ– Main ç±»çš„æ–° &lt;code&gt;init()&lt;/code&gt; å‡½æ•°ä»£æ›¿ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script&amp;gt;
  function init() {
    main = new Main();
  }
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€åï¼Œé€šè¿‡æ·»åŠ ä»¥ä¸‹è¡Œæ¥å¼•ç”¨åˆ°ç±» ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.0.0/pixi.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Far.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Mid.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Scroller.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;Main.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;!-- æ·»åŠ  --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ä½ çš„å·¥ä½œå¹¶æµ‹è¯•ä»åœ¨ Google Chrome ä¸­è¿è¡Œçš„æ‰€æœ‰å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å°†æ‰€æœ‰å†…å®¹éƒ½ç§»åˆ°äº†ä¸€ä¸ªä¸»åº”ç”¨ç¨‹åºç±»ä¸­ï¼Œè€Œ index.htmlä¸­åªå‰©ä¸‹å‡ è¡Œ JavaScript æ¥è§£å†³æ‰€æœ‰é—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h2&gt;

&lt;p&gt;å“‡å“¦ï¼æˆ‘ä»¬è¿™ä¸€èŠ‚æ¶‰åŠåˆ°äº†å¾ˆå¤šå†…å®¹ã€‚è™½ç„¶æœ€ç»ˆç»“æœæ˜¯ç›¸åŒçš„ï¼ˆæˆ‘ä»¬ä»ç„¶åªæœ‰ä¸¤ä¸ªæ»šåŠ¨è§†å·®å±‚ï¼‰ï¼Œä½†æˆ‘å¸Œæœ›ä½ èƒ½çœ‹åˆ°é‡æ„ä»£ç çš„å¥½å¤„ã€‚ç°åœ¨ä¸€åˆ‡éƒ½æ¯”å¹²å‡€äº†å¾ˆå¤šï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨äºç®¡ç†è§†å·®å±‚çš„ Scroller ç±»ã€‚è™½ç„¶è¿™æ¬¡æˆ‘ä»¬çš„é‡ç‚¹ä¸æ˜¯ pixi.jsï¼Œä½†ä½ è‡³å°‘åº”è¯¥ä½“ä¼šåˆ°æ‰©å±• Pixi å±•ç¤ºå¯¹è±¡ç±»çš„å¥½å¤„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¸‹é›†é¢„å‘Š&#34;&gt;ä¸‹é›†é¢„å‘Šâ€¦&lt;/h2&gt;

&lt;p&gt;æ‰€æœ‰è¿™äº›å˜åŒ–éƒ½å¤„äºç†æƒ³çš„ä½ç½®ï¼Œå¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå¼€å‘ç¬¬ä¸‰ä¸ªæ›´å¤æ‚çš„è§†å·®å±‚äº†ã€‚è¿™ä¸ªå›¾å±‚å°†ä½œä¸ºæ¸¸æˆä¸–ç•Œçš„ åœ°å›¾ï¼Œå¹¶å°†ç”±ä¸€ç³»åˆ— &lt;strong&gt;ç²¾çµ&lt;/strong&gt; æ„å»ºï¼Œè€Œä¸æ˜¯ç®€å•çš„é‡å¤çº¹ç†ã€‚æˆ‘ä»¬å°†æŠŠç›®æ ‡æ”¾åœ¨ pixi.js ä¸Šï¼Œå°†æ¶‰åŠå„ç§å„æ ·çš„å¥½ä¸œè¥¿ï¼ŒåŒ…æ‹¬ç²¾çµè¡¨ï¼ˆSpritesheetï¼‰ï¼Œçº¹ç†å¸§ï¼ˆtexture framesï¼‰å’Œå¯¹è±¡æ± ï¼ˆobject poolingï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;è®°å¾— &lt;a href=&#34;https://github.com/ccaleb/pixi-parallax-scroller&#34;&gt;GitHub&lt;/a&gt; ä¸Šæä¾›äº†æœ¬ç³»åˆ—å’Œæœ¬ç³»åˆ—æ•™ç¨‹çš„æºä»£ç å“¦ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://keelii.com&#34;&gt;ç¬¬ä¸‰éƒ¨åˆ†&lt;/a&gt; è§ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä½¿ç”¨ Pixi.js æ„å»ºä¸€ä¸ªè§†å·®æ»šåŠ¨å™¨ï¼ˆç¬¬ä¸€ç¯‡ï¼‰</title>
      <link>https://keelii.com/2019/03/16/building-a-parallax-scroller-with-pixijs-cn-1/</link>
      <pubDate>Sat, 16 Mar 2019 19:20:04 -0700</pubDate>
      
      <guid>https://keelii.com/2019/03/16/building-a-parallax-scroller-with-pixijs-cn-1/</guid>
      <description>

&lt;h2 id=&#34;ç¿»è¯‘å¯¹ç…§&#34;&gt;ç¿»è¯‘å¯¹ç…§&lt;/h2&gt;

&lt;p&gt;åŸæ–‡ï¼š
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=5226&#34;&gt;PART 1&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=5666&#34;&gt;PART 2&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=6496&#34;&gt;PART 3&lt;/a&gt;ãƒ»
&lt;a href=&#34;http://www.yeahbutisitflash.com/?p=7046&#34;&gt;PART 4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¯‘æ–‡ï¼š
&lt;a href=&#34;https://keelii.com/2019/03/16/building-a-parallax-scroller-with-pixijs-cn-1/&#34;&gt;ç¬¬ä¸€ç¯‡&lt;/a&gt;ãƒ»
&lt;a href=&#34;https://keelii.com/2019/03/17/building-a-parallax-scroller-with-pixijs-cn-2/&#34;&gt;ç¬¬äºŒç¯‡&lt;/a&gt;ãƒ»
&lt;a href=&#34;https://keelii.com/2019/03/19/building-a-parallax-scroller-with-pixijs-cn-3/&#34;&gt;ç¬¬ä¸‰ç¯‡&lt;/a&gt;ãƒ»
ç¬¬å››ç¯‡&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;å…³æ³¨Â &lt;a href=&#34;https://twitter.com/intent/follow?screen_name=chriscaleb&#34;&gt;@chriscaleb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç³»åˆ—çš„æ•™ç¨‹å·²ç»æ›´æ–°åˆ°äº†Â &lt;a href=&#34;http://www.pixijs.com/&#34;&gt;PixiJS v4&lt;/a&gt; ç‰ˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;æ›¾ç»ç©è¿‡Â &lt;a href=&#34;http://www.adamatomic.com/canabalt/&#34;&gt;Canabalt&lt;/a&gt;Â å’ŒÂ &lt;a href=&#34;https://chrome.google.com/webstore/detail/monster-dash/cknghehebaconkajgiobncfleofebcog?hl=en&#34;&gt;Monster Dash&lt;/a&gt;ï¼Œå¥½å¥‡ä»–ä»¬æ˜¯å¦‚ä½•æ„å»ºä¸€ä¸ªæ»šåŠ¨æ¸¸æˆåœ°å›¾çš„ï¼Ÿåœ¨è¿™ä¸ªæ•™ç¨‹ä¸­æˆ‘ä»¬å°†å‘ã€Œæ„å»ºä¸€ä¸ªè§†å·®æ»šåŠ¨å™¨ã€è¿ˆå‡ºç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ JavaScript å’ŒÂ &lt;a href=&#34;http://www.pixijs.com/&#34;&gt;pixi.js&lt;/a&gt;Â è¿™ä¸ª 2D æ¸²æŸ“å¼•æ“ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ä½ å°†å­¦åˆ°ä»€ä¹ˆ&#34;&gt;ä½ å°†å­¦åˆ°ä»€ä¹ˆâ€¦&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Pixi.js çš„åŸºç¡€çŸ¥è¯†&lt;/li&gt;
&lt;li&gt;å¦‚ä½•å¤„ç†çº¹ç†ï¼ˆtexturesï¼‰å’Œç²¾çµï¼ˆspritesï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚ä½•å®ç°ç®€å•çš„è§†å·®æ»šåŠ¨&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;é¢„å¤‡çŸ¥è¯†&#34;&gt;é¢„å¤‡çŸ¥è¯†â€¦&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;äº†è§£ JavaScript æˆ–è€… ActionScript çš„åŸºç¡€çŸ¥è¯†&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;JavaScript æ— å¤„ä¸åœ¨ï¼Œç”±äºæµè§ˆå™¨çš„ä¸æ–­æ”¹å–„å’Œå¤§é‡çš„ JavaScript åº“ï¼Œæˆ‘ä»¬çœŸçš„å¼€å§‹çœ‹åˆ° HTML5 æ¸¸æˆé¢†åŸŸå¼€å‘è“¬å‹ƒå‘å±•ã€‚ä½†æ˜¯å½“æœ‰å¾ˆå¤šåº“å¯ç”¨çš„æ—¶å€™ï¼Œé€‰æ‹©åˆé€‚çš„å¹¶éæ˜“äº‹ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç³»åˆ—çš„æ•™ç¨‹å°†å‘ä½ ä»‹ç» JavaScript æ¸¸æˆå¼€å‘çš„åŸºç¡€ï¼Œæˆ‘ä»¬ä¼šèšç„¦åˆ° pixijsã€‚å®ƒæ˜¯ä¸€ä¸ªæ”¯æŒ WebGL å’Œ HTML5 Canvas çš„æ¸²æŸ“æ¡†æ¶ã€‚æ•™ç¨‹æœ€åä½ å°†å®Œæˆå¦‚ä¸‹çš„ä¸€ä¸ªè§†å·®æ»šåŠ¨åœ°å›¾ç¨‹åºï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.yeahbutisitflash.com/pixi-parallax-scroller/final/index.html&#34;&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t1/25206/13/10616/142679/5c887df7E7c1fa38a/eab39f5f7ab1cc6d.png&#34; alt=&#34;ps-tut1-screenshot1&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç‚¹å‡»ä¸Šé¢çš„é“¾æ¥å¯åŠ¨æœ€ç»ˆç‰ˆçš„ç¨‹åºï¼Œè¿™å°±æ˜¯ä½ å°†è¦å®Œæˆçš„ã€‚æ³¨æ„å®ƒåŒ…å«äº†ä¸‰ä¸ªè§†å·®å±‚ï¼šä¸€ä¸ªè¿œæ™¯ï¼ˆfarï¼‰å±‚ï¼Œä¸€ä¸ªä¸­é—´ï¼ˆmidï¼‰å±‚ï¼Œä¸€ä¸ªå‰æ™¯ï¼ˆforegroundï¼‰å±‚ã€‚åœ¨ç¬¬ä¸€ç¯‡æ•™ç¨‹ä¸­æˆ‘ä»¬å°†é›†ä¸­ç²¾åŠ›æ„å»ºè¿œæ™¯å±‚å’Œä¸­é—´å±‚ã€‚å½“ç„¶ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹æ•™ç¨‹å¿…é¡»æ¶‰åŠ pixi.js çš„åŸºç¡€ï¼Œå½“ç„¶å¦‚æœä½ è¿˜æ˜¯ä¸ª JavaScript æ–°æ‰‹ï¼Œè¿™ä¼šæ˜¯ä¸ªå¾ˆå¥½çš„å¼€å§‹å­¦ä¹  HTML5 æ¸¸æˆç¼–ç¨‹çš„åœ°æ–¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.yeahbutisitflash.com/pixi-parallax-scroller/tutorial-1/index.html&#34;&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t1/25206/13/10616/142679/5c887df7E7c1fa38a/eab39f5f7ab1cc6d.png&#34; alt=&#34;ps-tut1-screenshot1&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¼€å§‹ä¹‹å‰ï¼Œç‚¹å‡»ä¸Šé¢çš„é“¾æ¥é¢„è§ˆä¸‹è¿™ç¯‡æ•™ç¨‹ä¸­å°†åšæˆçš„æ•ˆæœã€‚ä½ ä¹Ÿå¯ä»¥ä» github ä¸Šä¸‹è½½è¿™ä¸ªç¨‹åºçš„ &lt;a href=&#34;https://github.com/ccaleb/pixi-parallax-scroller&#34;&gt;æºä»£ç &lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&#34;èµ·æ­¥&#34;&gt;èµ·æ­¥&lt;/h2&gt;

&lt;p&gt;ä¸ºäº†å®Œæˆç¼–ç ï¼Œä½ éœ€è¦ä¸€ä¸ªä»£ç ç¼–è¾‘å™¨ï¼Œæˆ‘å°†ä½¿ç”¨ä¸€ä¸ªä½“éªŒç‰ˆçš„ sublime textï¼Œå¯ä»¥åœ¨ &lt;a href=&#34;www.sublimetext.com/2&#34;&gt;è¿™é‡Œ&lt;/a&gt; ä¸‹è½½åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;è¿˜éœ€è¦ä¸€ä¸ªæµè§ˆå™¨æ¥æµ‹è¯•ä½ çš„ç¨‹åºã€‚ä»»ä½•ç°ä»£æµè§ˆå™¨éƒ½å¯ä»¥ï¼Œæˆ‘å°†ç”¨ Google Chromeï¼Œå¼€å‘è¿‡ç¨‹ä¸­å°†ä¼šæ¶‰åŠåˆ°ä¸€äº›å¼€å§‹è€…å·¥å…·çš„ä½¿ç”¨ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… Chromeï¼Œå¯ä»¥å»Â &lt;a href=&#34;www.google.com/chrome&#34;&gt;è¿™é‡Œ&lt;/a&gt; ä¸‹è½½ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†æµ‹è¯•ä½ çš„ç¨‹åºï¼Œä½ è¿˜éœ€è¦åœ¨ä½ çš„å¼€å‘æœºä¸Šå®‰è£…ä¸€ä¸ª web æœåŠ¡å™¨ã€‚å¦‚æœä½ ç”¨çš„æ˜¯ Windowï¼Œå¯ä»¥Â &lt;a href=&#34;http://www.yeahbutisitflash.com/www.howtogeek.com/howto/windows-vista/how-to-install-iis-on-windows-vista&#34;&gt;å®‰è£… IIS&lt;/a&gt;ï¼ŒmacOS ç”¨æˆ·å¯ä»¥é…ç½®ä¸‹ç³»ç»Ÿé»˜è®¤çš„ &lt;a href=&#34;http://macdevcenter.com/pub/a/mac/2001/12/07/apache.html&#34;&gt;Apache&lt;/a&gt;ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿæ˜¯Â OS X Mountain Lion é…ç½® web æœåŠ¡å™¨å¯ä»¥ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª &lt;a href=&#34;http://reviews.cnet.com/8301-13727_7-57481978-263/how-to-enable-web-sharing-in-os-x-mountain-lion/&#34;&gt;æ•™ç¨‹&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚æœä½ æœ‰è‡ªå·±æ‰˜ç®¡çš„ web æœåŠ¡å™¨ï¼Œå°±å¯ä»¥ç›´æ¥ä¸Šä¼ æ‰€ä»¥æ–‡ä»¶æ¥æµ‹è¯•ï¼Œæˆ–è€…å¦‚æœä½ æœ‰ä¸€ä¸ªÂ &lt;a href=&#34;https://www.dropbox.com/&#34;&gt;Dropbox&lt;/a&gt;Â è´¦å·ï¼Œä½ å¯ä»¥é€šè¿‡Â &lt;a href=&#34;http://droppages.com/&#34;&gt;DropPages&lt;/a&gt;Â æœåŠ¡æ¥æ‰˜ç®¡ä½ çš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;web æœåŠ¡å™¨å»ºå¥½åï¼Œåˆ›å»ºä¸€ä¸ªç›®å½•Â &lt;code&gt;parallax-scroller&lt;/code&gt;Â å¦‚æœä½ ä½¿ç”¨ Windowsã€‚ä½ çš„ web æœåŠ¡å™¨æ ¹ç›®å½•åº”è¯¥ç±»ä¼¼Â &lt;code&gt;C:\inetpub\parallax-scroller&lt;/code&gt;Â ã€‚å¦‚æœä½ ä½¿ç”¨ OS X åˆ™åº”è¯¥æ˜¯Â &lt;code&gt;/Users/your_user_name/Sites&lt;/code&gt;ï¼Œ&lt;code&gt;your_user_name&lt;/code&gt;Â å°±æ˜¯ä½ ç”µè„‘çš„ç”¨æˆ·åã€‚&lt;/p&gt;

&lt;p&gt;æœ€åï¼Œåœ¨æ•™ç¨‹ä¸­æˆ‘ä»¬å°†ä½¿ç”¨å‡ ä¸ªå›¾ç‰‡ç´ æï¼Œä¸ç”¨ä½ è‡ªå·±å»æ‰¾ï¼Œæˆ‘å·²ç»ä¸ºä½ æ‰“åŒ…å¥½äº†ä¸€ä¸ª &lt;a href=&#34;http://www.yeahbutisitflash.com/pixi-parallax-scroller/tutorial-1/resources.zip&#34;&gt;zip æ–‡ä»¶&lt;/a&gt;ï¼Œä¸‹è½½å¹¶è§£å‹å¥½ä½ çš„Â &lt;code&gt;parallax-scroller&lt;/code&gt;Â ç›®å½•ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢å°±æ˜¯ä½ çš„Â &lt;code&gt;parallax-scroller&lt;/code&gt;Â æ–‡ä»¶å¤¹çš„æ ·å­ï¼ˆWindowsï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img13.360buyimg.com/devfe/jfs/t1/10162/32/14136/48598/5c8884a8Ee6927d64/153a8f1b6f1b4e97.png&#34; alt=&#34;screenshot3&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ ç”¨çš„æ˜¯Â Mac OS X åˆ™åº”è¯¥å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img30.360buyimg.com/devfe/jfs/t1/31876/28/5811/61642/5c8884ccE7e17d248/5c69f80f99e2cb1d.png&#34; alt=&#34;screenshot4&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½å¼€å§‹å†™ä»£ç äº†ï¼Œå¯åŠ¨ Sublime Text 2 æˆ–è€…ä½ æœ€å–œæ¬¢çš„ç¼–è¾‘å™¨ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åˆ›å»ºç”»å¸ƒ&#34;&gt;åˆ›å»ºç”»å¸ƒ&lt;/h2&gt;

&lt;p&gt;æ‰€æœ‰çš„ pixijs é¡¹ç›®éƒ½ä»¥ä¸€ä¸ª HTML æ–‡ä»¶å¼€å§‹ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª canvas å…ƒç´ ä»¥åŠå¼•å…¥ pixi.js åº“ã€‚canvas å…ƒç´ è¡¨ç¤ºHTMLé¡µé¢ä¸Šå°†å‘ˆç°æ»šåŠ¨æ¡çš„åŒºåŸŸã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•Â &lt;code&gt;parallax-scroller&lt;/code&gt; ä¸‹ä½¿ç”¨ç¼–è¾‘å™¨æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º &lt;code&gt;index.html&lt;/code&gt;ï¼Œå¹¶å†™å…¥ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;
    &amp;lt;title&amp;gt;Parallax Scrolling Demo&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨çœ‹èµ·æ¥è¿˜éå¸¸å¥‡æ€ªï¼Œæˆ‘ä»¬çš„ HTML é¡µé¢åªæœ‰ä¸€ä¸ª &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; å’Œ &lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt; å…ƒç´ ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬åœ¨é¡µé¢ä¸Šæ·»åŠ  HTML5 Canvas å…ƒç´ ï¼Œåœ¨ body å…ƒç´ ä¸­æ·»åŠ å¦‚ä¸‹çš„ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;body&amp;gt;
  &amp;lt;div align=&amp;quot;center&amp;quot;&amp;gt;
    &amp;lt;canvas id=&amp;quot;game-canvas&amp;quot; width=&amp;quot;512&amp;quot; height=&amp;quot;384&amp;quot;&amp;gt;&amp;lt;/canvas&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬æŒ‡å®šäº† canvas å®½åº¦ 512 åƒç´ ï¼Œé«˜åº¦ 384 åƒç´ ã€‚è¿™å°±æ˜¯ pixi.js ä¸ºåº“æ¸²æŸ“æ¸¸æˆçš„åœ°æ–¹ã€‚æ³¨æ„æˆ‘ä»¬ç»™ canvas äº†ä¸€ä¸ª id å±æ€§ï¼Œå€¼ä¸ºÂ &lt;code&gt;game-canvas&lt;/code&gt;Â è¿™å°†ä½¿æˆ‘ä»¬æ˜“äºæ§åˆ¶å®ƒï¼Œå½“ pixi.js å¯åŠ¨æ—¶ä¹Ÿéœ€è¦å®ƒ&lt;/p&gt;

&lt;p&gt;ç°åœ¨å¯åŠ¨ä½ çš„ web æœåŠ¡å™¨ï¼Œåœ¨ æµè§ˆå™¨ä¸­æ‰“å¼€ç±»ä¼¼Â &lt;a href=&#34;http://localhost/parallax-scroller/index.html&#34;&gt;http://localhost/parallax-scroller/index.html&lt;/a&gt; æˆ–è€…Â &lt;a href=&#34;http://localhost/~**your_user_name**/parallax-scroller/index.html&#34;&gt;http://localhost/~**your_user_name**/parallax-scroller/index.html&lt;/a&gt; çš„é“¾æ¥&lt;/p&gt;

&lt;p&gt;ä½ ä¼šå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘ä»¬æ¥ç»™ canvas åŠ ç‚¹æ ·å¼ï¼ˆstyle æ ‡ç­¾ï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;
    &amp;lt;title&amp;gt;Endless Runner Game Demo&amp;lt;/title&amp;gt;
    &amp;lt;style&amp;gt;
      body { background-color: #000000; }
      canvas { background-color: #222222; }
    &amp;lt;/style&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜å¹¶åˆ·æ–°ï¼Œä½ å°†ä¼šçœ‹è§ä¸€ä¸ªæ°´å¹³å±…ä¸­çš„ç°è‰²åŒºåŸŸå‡ºç°åœ¨é¡µé¢ä¸Šã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¼•å…¥-pixi-js-ç±»åº“&#34;&gt;å¼•å…¥ pixi.js ç±»åº“&lt;/h2&gt;

&lt;p&gt;åœ¨ &lt;/body&gt; æ ‡ç­¾å‰é¢åŠ å…¥å¼•ç”¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;...
  &amp;lt;script src=&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.0.0/pixi.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pixi.js åº“æ–‡ä»¶æ‰˜ç®¡åœ¨ CDN ä¸Šï¼ŒURL ä¸Šçš„ &lt;code&gt;4.0.0&lt;/code&gt; è¡¨ç¤ºåº“çš„ç‰ˆæœ¬å·ï¼Œä½ å¯ä»¥æ›¿æ¢æˆå…¶å®ƒçš„å‘è¡Œç‰ˆã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ·»åŠ ç¨‹åºçš„å…¥å£&#34;&gt;æ·»åŠ ç¨‹åºçš„å…¥å£&lt;/h2&gt;

&lt;p&gt;ç»™ body å…ƒç´ æ·»åŠ Â &lt;code&gt;onload=&amp;quot;init();&lt;/code&gt;Â è¡¨ç¤ºé¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨ init æ–¹æ³•ã€‚æˆ‘ä»¬åœ¨ script æ ‡ç­¾ä¸­æ·»åŠ ä¸€ä¸ª init æ–¹æ³•&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;body onload=&amp;quot;init();&amp;quot;&amp;gt;
  &amp;lt;div align=&amp;quot;center&amp;quot;&amp;gt;
    &amp;lt;canvas id=&amp;quot;game-canvas&amp;quot; width=&amp;quot;512&amp;quot; height=&amp;quot;384&amp;quot;&amp;gt;&amp;lt;/canvas&amp;gt;
  &amp;lt;/div&amp;gt;
  &amp;lt;script src=&amp;quot;pixi.js-master/bin/pixi.dev.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script&amp;gt;
    function init() {
      console.log(&amp;quot;init() successfully called.&amp;quot;);
    }
  &amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰“å¼€ Chrome Consoleï¼ŒWindows ä¸‹æŒ‰ &lt;code&gt;F12&lt;/code&gt;ï¼ŒmacOS ä¸‹æŒ‰Â &lt;code&gt;Cmd + Opt + i&lt;/code&gt;ã€‚æ­£å¸¸çš„è¯æ§åˆ¶å°å°±ä¼šæœ‰ä¸‹é¢çš„è¾“å‡ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt; init() successfully called.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨è¿™ä¸ª init æ–¹æ³•åšçš„äº‹æƒ…è¿˜å¾ˆå°‘ï¼Œæœ€ç»ˆå®ƒå°†åšä¸ºå…¥å£è´Ÿè´£ä½ ç¨‹åºçš„è°ƒç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åˆå§‹åŒ–-pixi-js&#34;&gt;åˆå§‹åŒ– pixi.js&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬åœ¨ init æ–¹æ³•ä¸­éœ€è¦åšä¸‹é¢ä¸¤ä»¶äº‹æƒ…ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åˆ›å»ºä½ çš„èˆå°ï¼ˆstageï¼‰&lt;/li&gt;
&lt;li&gt;é€‰æ‹©å¹¶å®ä¾‹åŒ–ä¸€ä¸ªæ¸²æŸ“å™¨ï¼ˆrendererï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘ä»¬å…ˆæ¥åˆ›å»ºä¸€ä¸ªèˆå°å¯¹è±¡ï¼Œå¦‚æœä½ æ˜¯ä¸ª Flash å¼€å‘è€…ï¼Œä½ å¯èƒ½ä¼šå¯¹èˆå°çš„æ¦‚å¿µæ¯”è¾ƒç†Ÿæ‚‰äº†ã€‚åŸºæœ¬ä¸Šèˆå°å°±æ˜¯ä½ æ¸¸æˆçš„å›¾å½¢å†…å®¹å‘ˆç°çš„åœ°æ–¹ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¸²æŸ“å™¨æ§åˆ¶èˆå°å¹¶ä¸”æŠŠæ¸¸æˆç»˜åˆ¶åˆ°ä½ çš„ HTML é¡µé¢ä¸­çš„ canvas å…ƒç´ ä¸Šï¼Œè¿™æ ·ä½ çš„åšçš„ä¸œè¥¿æ‰æœ€ç»ˆå‘ˆç°ç»™äº†ç”¨æˆ·ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªèˆå°å¯¹è±¡å¹¶å°†å®ƒå…³è”åˆ°ä¸€ä¸ªåå­—å«åš &lt;code&gt;stage&lt;/code&gt;Â çš„å…¨å±€å˜é‡ä¸Šã€‚å¹¶ä¸”åˆ é™¤ä¹‹å‰çš„ log è¯­å¥ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function init() {
  console.log(&amp;quot;init() successfully called.&amp;quot;);
  stage = new PIXI.Container();
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;pixi.js çš„ API åŒ…å«äº†ä¸€äº›ç±»å’Œå‡½æ•°ï¼Œå¹¶ä¸”è¢«ä¿å­˜åœ¨ &lt;code&gt;PIXI&lt;/code&gt; æ¨¡å—å‘½åç©ºé—´ä¸‹é¢ã€‚PIXI.Container ç±»ç”¨æ¥è¡¨ç¤ºä¸€äº› &lt;strong&gt;å±•ç¤ºå¯¹è±¡&lt;/strong&gt;ï¼ˆdisplay objectï¼‰ çš„é›†åˆï¼ŒåŒæ ·ä¹Ÿå¯ä»¥è¡¨ç¤ºèˆå°è¿™ä¸ªæ ¹å±•ç¤ºå¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»åˆ›å»ºå¥½äº†ä¸€ä¸ªèˆå°ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªæ¸²æŸ“å™¨ã€‚Pixi.js æ”¯æŒä¸¤ç§æ¸²æŸ“å™¨ï¼šWebGL å’Œ HTML5 Canvasã€‚ä½ å¯ä»¥é€šè¿‡Â &lt;code&gt;PIXI.WebGLRenderer&lt;/code&gt;Â æˆ–è€…Â &lt;code&gt;PIXI.CanvasRenderer&lt;/code&gt;Â æ¥åˆ†åˆ«åˆ›å»ºå®ƒä»¬å„è‡ªçš„å®ä¾‹ã€‚ç„¶è€Œï¼Œæ›´å¥½çš„åšæ³•æ˜¯è®© Pixi ä¸ºä½ åˆ¤æ–­æµè§ˆå™¨è‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨æ­£ç¡®çš„æ¸²æŸ“å™¨ã€‚Pixi é»˜è®¤ä¼šå°è¯•ä½¿ç”¨ WebGLï¼Œå¦‚æœä¸æ”¯æŒåˆ™å›æ»šåˆ°Â  canvasã€‚æˆ‘ä»¬è°ƒç”¨ç”¨ Pixi çš„Â &lt;code&gt;PIXI.autoDetectRenderer()&lt;/code&gt;Â å‡½æ•°æ¥è‡ªåŠ¨å¸®æˆ‘ä»¬é€‰æ‹©åˆé€‚çš„æ¸²æŸ“å™¨ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function init() {		
  stage = new PIXI.Container();
  renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;autoDetectRenderer()&lt;/code&gt; å‡½æ•°éœ€è¦ä¼ å…¥æ¸²æŸ“èˆå°ä¸Š cavnas çš„å®½åº¦å’Œé«˜åº¦ï¼Œä»¥åŠ cavnas å…ƒç´ çš„å¼•ç”¨ï¼Œå®ƒè¿”å› &lt;code&gt;PIXI.WebGLRenderer&lt;/code&gt; æˆ– &lt;code&gt;PIXI.CanvasRenderer&lt;/code&gt; çš„å®ä¾‹ï¼Œæˆ‘ä»¬å°†å…¶ä¿å­˜åœ¨åä¸º &lt;code&gt;renderer&lt;/code&gt; çš„å…¨å±€å˜é‡ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªåŒ…å« &lt;code&gt;view&lt;/code&gt; å±æ€§çš„ JavaScript å¯¹è±¡æ¥ä¼ é€’ç»™Â &lt;code&gt;autoDetectRenderer&lt;/code&gt;Â æ–¹æ³•ï¼Œè¡¨ç¤º canvas å…ƒç´ çš„å¼•ç”¨ã€‚æˆ‘ä»¬ä¼ é€’è¿™ä¸ªå¯¹è±¡åšä¸ºå‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°è€Œä¸æ˜¯ç›´æ¥ä¼  canvas å¯¹è±¡çš„å¼•ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨äº†ç¡¬ç¼–ç çš„æ–¹å¼æŒ‡å®šäº†å®½ï¼Œé«˜ï¼Œå®é™…ä¸Šå¯ä»¥ç›´æ¥é€šè¿‡ canvas å…ƒç´ å–å¾—è¿™ä¸¤ä¸ªå€¼ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var width = document.getElementById(&amp;quot;game-canvas&amp;quot;).width;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æ¸²æŸ“&#34;&gt;æ¸²æŸ“&lt;/h2&gt;

&lt;p&gt;ä¸ºäº†èƒ½çœ‹åˆ°èˆå°ä¸Šçš„å†…å®¹ï¼Œä½ å¾—æŒ‡å¯¼ä½ çš„æ¸²æŸ“å™¨æŠŠèˆå°ä¸Šçš„å†…å®¹çœŸæ­£çš„ç»˜åˆ¶åˆ° canvas ä¸Šã€‚å¯ä»¥é€šè¿‡è°ƒç”¨ renderer çš„ render æ–¹æ³•ï¼Œå¹¶ä¼ å…¥èˆå°å¯¹è±¡çš„å¼•ç”¨æ¥åšåˆ°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function init() {		
  stage = new PIXI.Container();
  renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );
  renderer.render(stage);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™å°†æˆåŠŸçš„æŠŠèˆå°æ¸²æŸ“åˆ°æµè§ˆå™¨ä¸­ã€‚å½“ç„¶æˆ‘ä»¬è¿˜æ²¡æœ‰ç»™èˆå°ä¸Šæ·»åŠ ä»»ä½•ä¸œè¥¿ï¼Œæ‰€ä»¥ä½ è¿˜çœ‹ä¸å‡ºæ¥&lt;/p&gt;

&lt;h2 id=&#34;ä¸ºä½ çš„å±•ç¤ºåˆ—è¡¨-display-list-æ·»åŠ å†…å®¹&#34;&gt;ä¸ºä½ çš„å±•ç¤ºåˆ—è¡¨ï¼ˆdisplay listï¼‰æ·»åŠ å†…å®¹&lt;/h2&gt;

&lt;p&gt;ç°åœ¨ä½ çš„èˆå°å·²ç»å»ºæˆï¼Œè®©æˆ‘ä»¬ç»§ç»­å¾€ä¸Šé¢æ·»åŠ ä¸€äº›å®é™…çš„ä¸œè¥¿ã€‚æ¯•ç«Ÿæˆ‘ä»¬ä¸æƒ³ä¸€ç›´åªåˆ°ä¸€ä¸ªé»‘è‰²çš„çª—å£ã€‚&lt;/p&gt;

&lt;p&gt;èˆå°ä¸Šçš„ä¸œè¥¿è¢«æ·»åŠ åˆ°ä¸€ä¸ª &lt;strong&gt;æ ‘å‹ç»“æ„&lt;/strong&gt; çš„å±•ç¤ºåˆ—è¡¨ä¸­ã€‚ä½ çš„èˆå°æ‰®æ¼”ç€è¿™äº›å±•ç¤ºåˆ—è¡¨çš„æ ¹å…ƒç´ çš„è§’è‰²ï¼ŒåŒæ—¶å±•ç¤ºåˆ—è¡¨ä¹Ÿä¼šæœ‰æ ˆé¡ºåºçš„é—®é¢˜ï¼Œè¿™æ„å‘³ç€æœ‰çš„å¯¹è±¡å±•ç¤ºåœ¨åˆ«çš„å¯¹è±¡ä¸Šé¢ï¼Œè¿™ç”±ä»–ä»¬è¢«è®¾è®¡çš„ç´¢å¼•æ·±åº¦å†³å®šã€‚&lt;/p&gt;

&lt;p&gt;æœ‰å¾ˆå¤šç§ç±»çš„ &lt;strong&gt;å±•ç¤ºå¯¹è±¡ï¼ˆdisplay objectï¼‰&lt;/strong&gt; å¯ä»¥è¢«æ·»åŠ åˆ° &lt;strong&gt;å±•ç¤ºåˆ—è¡¨&lt;/strong&gt; ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯ &lt;code&gt;PIXI.Sprite&lt;/code&gt;ï¼Œå®ƒå¯ä»¥æ·»åŠ å›¾ç‰‡ç´ æã€‚&lt;/p&gt;

&lt;p&gt;ç”±äºè¿™ä¸ªæ•™ç¨‹æ˜¯å…³äºåˆ›å»ºè§†å·®æ»šåŠ¨èƒŒæ™¯çš„ï¼Œè®©æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸ªè¡¨ç¤ºè¿œæ™¯å±‚çš„å›¾ç‰‡ã€‚ æˆ‘ä»¬å°†ä»¥æ·»åŠ ä¸€è¡Œä»£ç æ¥åŠ è½½ &lt;code&gt;bg-far.png&lt;/code&gt; æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨ resources ç›®å½•ä¸­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function init() {		
  stage = new PIXI.Container();
  renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );

  var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);

  renderer.render(stage);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å›¾ç‰‡ç´ æè¢«åŠ è½½å¹¶ä¿å­˜ä¸ºçº¹ç†ï¼ˆtexturesï¼‰ï¼Œè¿™ä¸ªçº¹ç†å¯ä»¥éšåè¢«ç¬¦åŠ åˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ªç²¾çµä¸Šé¢ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬è°ƒç”¨äº†é™æ€ &lt;code&gt;PIXI.Texture.fromImage()&lt;/code&gt; æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ª&lt;code&gt;PIXI.Texture&lt;/code&gt; å®ä¾‹å¹¶å°†Â &lt;code&gt;bg-far.png&lt;/code&gt; æ–‡ä»¶åŠ è½½åˆ°å…¶ä¸­ã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘ä»¬å°†çº¹ç†å¼•ç”¨èµ‹å€¼ç»™åä¸º &lt;code&gt;farTexture&lt;/code&gt; çš„å±€éƒ¨å˜é‡ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç²¾çµå¹¶å°†çº¹ç†é™„åŠ åˆ°å®ƒä¸Šé¢ã€‚å¹¶å°†ç²¾çµå®šä½åœ¨èˆå°çš„å·¦ä¸Šè§’ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function init() {		
  stage = new PIXI.Container();
  renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );

  var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
  far = new PIXI.Sprite(farTexture);
  far.position.x = 0;
  far.position.y = 0;

  renderer.render(stage);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;PIXI.Sprite&lt;/code&gt; ç±»ç”¨äºåˆ›å»ºç²¾çµã€‚å®ƒçš„æ„é€ å‡½æ•°å°†æ¥æ”¶ä¸€ä¸ªçº¹ç†çš„å¼•ç”¨å‚æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªåä¸º far çš„å…¨å±€å˜é‡ï¼Œå¹¶å°†æ–°åˆ›å»ºçš„ sprite å®ä¾‹å­˜å‚¨åœ¨å…¶ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;èªæ˜çš„ä½ å¯èƒ½å·²ç»å‘ç°æˆ‘ä»¬æ˜¯å¦‚ä½•ä½¿ç”¨ position å±æ€§å°†ç²¾çµçš„ x å’Œ y åæ ‡è®¾ç½®åˆ°èˆå°çš„å·¦ä¸Šè§’çš„ã€‚èˆå°çš„åæ ‡ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œè¿™æ„å‘³ç€èˆå°çš„å·¦ä¸Šè§’ä½ç½®ä¸ºï¼ˆ0,0ï¼‰ï¼Œå³ä¸‹è§’ä¸ºï¼ˆ512,384ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ç²¾çµæœ‰ä¸€ä¸ªè½´å¿ƒç‚¹ï¼ˆpivotï¼‰ï¼Œå®ƒä»¬å¯ä»¥æ¥å›æ—‹è½¬ã€‚è½´å¿ƒç‚¹ä¹Ÿå¯ä»¥ç”¨æ¥å®šä½ç²¾çµã€‚ç²¾çµçš„é»˜è®¤è½´å¿ƒç‚¹è®¾ç½®ä¸ºå·¦ä¸Šè§’ï¼ˆ0,0ï¼‰ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“æˆ‘ä»¬çš„ç²¾çµå®šä½åœ¨èˆå°çš„å·¦ä¸Šè§’æ—¶ï¼Œæˆ‘ä»¬å°†å…¶ä½ç½®è®¾ç½®ä¸ºï¼ˆ0,0ï¼‰ã€‚ï¼ˆè¯‘è€…ï¼šå¦‚æœä½ å°†è½´å¿ƒç‚¹è®¾ç½®åˆ°æ­£ä¸­å¤®ï¼Œé‚£ä½ç½®æ˜¯ï¼ˆ0,0ï¼‰çš„ç²¾çµå°±ä¼šå±•ç¤ºä¸å…¨ï¼‰&lt;/p&gt;

&lt;p&gt;æœ€åä¸€æ­¥æ˜¯å°†ç²¾çµæ·»åŠ åˆ°èˆå°ä¸Šã€‚è¿™æ˜¯ä½¿ç”¨ &lt;code&gt;PIXI.Stage&lt;/code&gt; ç±»çš„ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰Â &lt;code&gt;addChild()&lt;/code&gt; æ–¹æ³•å®Œæˆçš„ã€‚æ¥çœ‹çœ‹æ€ä¹ˆåšå§ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
  far = new PIXI.Sprite(farTexture);
  far.position.x = 0;
  far.position.y = 0;
  stage.addChild(far);

  renderer.render(stage);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¥½çš„ï¼Œä¿å­˜ä½ çš„ä»£ç å¹¶åˆ·æ–°æµè§ˆå™¨ã€‚ä½ å¯èƒ½å·²ç»æ»¡åæœŸæœ›èƒ½çœ‹åˆ°èƒŒæ™¯å›¾ï¼Œä½†å®é™…ä¸Šå¯èƒ½çœ‹ä¸åˆ°ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿåœ¨ç´ æçº¹ç†è¢«åŠ è½½å®Œæˆä¹‹å‰å°±æ¸²æŸ“å®ƒå¯èƒ½å¹¶ä¸èƒ½æœ‰ä»»ä½•æ•ˆæœã€‚å› ä¸ºçº¹ç†åŠ è½½æ˜¯éœ€è¦ä¸€å°æ®µæ—¶é—´çš„ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•åœ°ç­‰ä¸€æ®µæ—¶é—´ï¼Œç„¶åå†æ¬¡è°ƒç”¨ render æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é€šè¿‡ Chrome çš„æ§åˆ¶å°æ‰§è¡Œä¸‹é¢çš„ä»£ç å³å¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;renderer.render(stage);
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬ä¹‹å‰å£°æ˜çš„Â &lt;code&gt;renderer&lt;/code&gt;Â æ˜¯å…¨å±€å˜é‡ï¼Œæ‰€ä»¥ä½ èƒ½åœ¨ console ä¸­ç›´æ¥ä½¿ç”¨å®ƒã€‚console ä¸­å¯ä»¥ä½¿ç”¨ä»»ä½• JavaScript ä¸­å£°æ˜çš„å…¨å±€å˜é‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ­å–œä½ ï¼ç°åœ¨åº”è¯¥çœ‹åˆ°ç´§è´´åœ¨å±å¹•é¡¶éƒ¨çš„èƒŒæ™¯å›¾å±‚äº†ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨è®©æˆ‘ä»¬ç»§ç»­æ·»èˆå°ä¸Šçš„ä¸­é—´å±‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
far = new PIXI.Sprite(farTexture);
far.position.x = 0;
far.position.y = 0;
stage.addChild(far);

var midTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-mid.png&amp;quot;);
mid = new PIXI.Sprite(midTexture);
mid.position.x = 0;
mid.position.y = 128;
stage.addChild(mid);

renderer.render(stage);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜ä»£ç å¹¶åˆ·æ–°æµè§ˆå™¨ã€‚ä½ éœ€è¦å†æ¬¡æ‰‹åŠ¨åœ¨ Chrome æ§åˆ¶å°ä¸­è°ƒç”¨æ¸²æŸ“æ–¹æ³•æ‰èƒ½çœ‹åˆ°ä¸¤ä¸ªå±‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;renderer.render(stage);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å› ä¸ºä¸­é—´å±‚æ˜¯åœ¨è¿œæ™¯å±‚ &lt;strong&gt;ä¹‹å&lt;/strong&gt; åŠ å…¥çš„ï¼Œæ‰€ä»¥å®ƒç¦»æˆ‘ä»¬æ›´è¿›ï¼Œæˆ–è€…è¯´æœ‰æ›´é«˜çš„å±‚æ·±åº¦ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡è°ƒç”¨ addChild() æ–¹æ³•æ·»åŠ çš„å±•ç¤ºå¯¹è±¡éƒ½ä¼šåœ¨ä¸Šä¸€æ¬¡æ·»åŠ çš„å¯¹è±¡ä¹‹ä¸Šã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨è¿™ä¸€èŠ‚çš„æ•™ç¨‹ä¸­å°†åªä¼šèšç„¦åˆ°è¿œæ™¯å±‚å’Œä¸­é—´å±‚çš„å±•ç¤ºï¼Œåé¢çš„å‡ èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¼šå®ç°æ›´å¤æ‚çš„å‰æ™¯å±‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;ä¸»å¾ªç¯&#34;&gt;ä¸»å¾ªç¯&lt;/h2&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ä¸ªèƒŒæ™¯å›¾å±‚ï¼Œæˆ‘æƒ³æˆ‘ä»¬å¯ä»¥å°è¯•å®ç°ä¸€äº›è§†å·®æ»šåŠ¨ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æ‰¾åˆ°ä¸€ç§æ¸²æŸ“å†…å®¹çš„æ–¹æ³•ï¼Œè€Œä¸ç”¨ä» JavaScript æ§åˆ¶å°ä¸­æ‰‹åŠ¨æ‰§è¡Œã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†é¿å…ç–‘æƒ‘ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿè§£é‡Šä¸‹ç©¶ç«Ÿæ˜¯ä»€ä¹ˆè§†å·®æ»šåŠ¨ã€‚è¿™æ˜¯ä¸€ç§ç”¨äºè§†é¢‘æ¸¸æˆçš„æ»šåŠ¨æŠ€æœ¯ï¼Œå…¶ä¸­èƒŒæ™¯å±‚åœ¨å±å¹•ä¸Šç§»åŠ¨çš„é€Ÿåº¦æ¯”å‰æ™¯å±‚æ…¢ã€‚è¿™æ ·åšä¼šåœ¨2Dæ¸¸æˆä¸­äº§ç”Ÿä¸€ç§å¹»è§‰ï¼Œå¹¶è®©ç©å®¶æ›´æœ‰æ²‰æµ¸æ„Ÿï¼ˆæ›´çœŸå®ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®ä¸Šé¢è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒåº”ç”¨äºæˆ‘ä»¬çš„ä¸¤ä¸ªç²¾çµå±‚ï¼Œæ¥ç”Ÿæˆä¸€ä¸ªæ°´å¹³è§†å·®æ»šåŠ¨å™¨ï¼Œæˆ‘ä»¬å°†èƒŒæ™¯å±‚ç§»åŠ¨åˆ°å±å¹•ä¸Šçš„é€Ÿåº¦æ¯”ä¸­é—´å±‚æ…¢ä¸€ç‚¹ã€‚ä¸ºäº†èƒ½è®©æ¯ä¸ªå±‚éƒ½æ»šåŠ¨ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªä¸»å¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ–­æ”¹å˜æ¯ä¸ªå±‚çš„ä½ç½®ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ &lt;code&gt;requestAnimationFrame()&lt;/code&gt; çš„å¸®åŠ©ï¼Œè¿™æ˜¯ä¸€ä¸ª JavaScript å‡½æ•°ï¼Œå®ƒèƒ½å†³å®šæµè§ˆå™¨çš„æœ€ä½³å¸§é€Ÿç‡ï¼Œç„¶ååœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ canvas/stage æ—¶è°ƒç”¨æŒ‡å®šçš„å‡½æ•°ã€‚æˆ‘ä»¬è¿˜å°†ä½¿ç”¨è¿™ä¸ªä¸»å¾ªç¯æ¥ &lt;strong&gt;ä¸æ–­åœ°&lt;/strong&gt; å‘ˆç°æˆ‘ä»¬çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var midTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-mid.png&amp;quot;);
mid = new PIXI.Sprite(midTexture);
mid.position.x = 0;
mid.position.y = 128;
stage.addChild(mid);

renderer.render(stage);

requestAnimationFrame(update);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ª update å‡½æ•°ï¼Œå¦‚æœä½ æƒ³è¿ç»­è°ƒç”¨Â &lt;code&gt;requestAnimationFrame()&lt;/code&gt;Â ï¼Œè¿™å°†ä½¿å¾—ä½ çš„ update æ–¹æ³•æ¯ç§’è°ƒç”¨ 60 æ¬¡ã€‚æˆ–è€…é€šå¸¸ç§°ä¸ºæ¯ç§’ 60 å¸§ï¼ˆFPSï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬è¿˜æ²¡æœ‰ update å‡½æ•°ï¼Œä½†æ˜¯åœ¨å®ç°å®ƒä¹‹å‰ï¼Œå…ˆåˆ é™¤æ¸²æŸ“æ–¹æ³•çš„è°ƒç”¨ï¼Œå› ä¸ºä¸»å¾ªç¯ä¸­ä¼šå¤„ç†è¿™ä¸ªé€»è¾‘ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var midTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-mid.png&amp;quot;);
mid = new PIXI.Sprite(midTexture);
mid.position.x = 0;
mid.position.y = 128;
stage.addChild(mid);

renderer.render(stage); // åˆ é™¤å®ƒ

requestAnimationFrame(update);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¥½å§ï¼Œè®©æˆ‘ä»¬æ¥ç¼–å†™ä¸»å¾ªç¯å¹¶è®©å®ƒç¨å¾®æ”¹å˜ä¸¤ä¸ªå±‚çš„ä½ç½®ï¼Œç„¶åæ¸²æŸ“èˆå°çš„å†…å®¹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æ¯ä¸ªå¸§é‡ç»˜çš„å·®å¼‚ã€‚åœ¨ &lt;code&gt;init()&lt;/code&gt; å‡½æ•°ä¹‹åç›´æ¥æ·»åŠ  &lt;code&gt;update()&lt;/code&gt; å‡½æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.position.x -= 0.128;
  mid.position.x -= 0.64;

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å‰ä¸¤è¡Œä»£ç æ›´æ–°äº†è¿œæ™¯å±‚å’Œä¸­é—´å±‚ç²¾çµçš„æ°´å¹³ä½ç½®ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å°†è¿œå±‚å‘å·¦ç§»åŠ¨0.128 åƒç´ ï¼Œè€Œæˆ‘ä»¬å°†ä¸­é—´å±‚å‘å·¦ç§»åŠ¨ 0.64 åƒç´ ã€‚è¦å‘å·¦ç§»åŠ¨æŸäº›ä¸œè¥¿ï¼Œæˆ‘ä»¬å¾—ä½¿ç”¨è´Ÿå€¼ï¼Œè€Œæ­£å€¼åˆ™ä¼šå°†å…¶ç§»åŠ¨åˆ°å³ä¾§ã€‚å¦å¤–è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å°†ç²¾çµç§»åŠ¨äº† &lt;strong&gt;å°æ•°&lt;/strong&gt; åƒç´ ã€‚ Pixi çš„æ¸²æŸ“å™¨å¯ä»¥å­˜å‚¨å®ƒä»¬å¹¶ä½¿ç”¨å­åƒç´ æ¥å¤„ç†å®ƒä»¬ä½ç½®ã€‚å½“ä½ æƒ³è¦éå¸¸ç¼“æ…¢åœ°åœ¨å±å¹•ä¸Šè½»æ¨ä¸œè¥¿æ—¶ï¼Œè¿™æ˜¯ç†æƒ³çš„é€‰æ‹©ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨å¾ªç¯ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å†æ¬¡è°ƒç”¨ &lt;code&gt;requestAnimationFrame()&lt;/code&gt; å‡½æ•°ï¼Œä»¥ç¡®ä¿åœ¨ä¸‹æ¬¡å†æ¬¡ç»˜åˆ¶ç”»å¸ƒæ—¶è‡ªåŠ¨å†æ¬¡è°ƒç”¨ &lt;code&gt;update()&lt;/code&gt;ã€‚æ­£æ˜¯å®ƒç¡®ä¿äº†æˆ‘ä»¬çš„ä¸»å¾ªç¯è¢«è¿ç»­è°ƒç”¨ï¼Œä»è€Œèƒ½ç¡®ä¿æˆ‘ä»¬çš„è§†å·®å±‚åœ¨å±å¹•ä¸Šç¨³å®šç§»åŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img14.360buyimg.com/devfe/jfs/t1/25862/18/10942/84129/5c8b2631E9323cbf6/487b26b72c59b787.png&#34; alt=&#34;ps-tut1-screenshot5&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä¿å­˜ä»£ç å¹¶åˆ·æ–°æµè§ˆå™¨çœ‹çœ‹å®ƒé•¿ä»€ä¹ˆæ ·å­ã€‚ä½ åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªå›¾å±‚è‡ªåŠ¨å‘ˆç°åœ¨å±å¹•ä¸Šã€‚æ­¤å¤–ï¼Œå½“ä¸¤ä¸ªå›¾å±‚éƒ½åœ¨ç§»åŠ¨æ—¶ï¼Œä¸­é—´å±‚å®é™…ä¸Šæ¯”è¿œæ™¯å±‚æ›´å¿«åœ°ç§»åŠ¨ï¼Œä»è€Œä¸ºåœºæ™¯æä¾›æ·±åº¦æ„Ÿã€‚ä½†æ˜¯ä½ ä¹Ÿåº”è¯¥å‘ç°æœ‰ä¸€ä¸ªæ˜æ˜¾é—®é¢˜ï¼šå½“æ¯ä¸ªç²¾çµç§»å‡ºå±å¹•çš„å·¦ä¾§æ—¶ï¼Œå®ƒä¼šå‘å³è¾¹ç•™ä¸‹ä¸€ä¸ªé—´éš™ã€‚æ¢å¥è¯è¯´ï¼Œä¸¤ä¸ªå›¾å±‚çš„å›¾å½¢éƒ½æ²¡æœ‰å¾ªç¯ï¼Œä»¥ç»™å‡ºè¿ç»­æ»šåŠ¨çš„é”™è§‰ã€‚è¿˜å¥½ï¼Œæœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä½¿ç”¨ç“¦ç‰‡-å¹³é“º-ç²¾çµ&#34;&gt;ä½¿ç”¨ç“¦ç‰‡ï¼ˆå¹³é“ºï¼‰ç²¾çµ&lt;/h2&gt;

&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¼šä½¿ç”¨ &lt;code&gt;PIXI.Sprite&lt;/code&gt; ç±»æ¥è¡¨ç¤ºå±•ç¤ºåˆ—è¡¨ä¸­çš„å¯¹è±¡ã€‚ç„¶è€Œï¼Œpixi.js è¿˜æä¾›äº†å‡ ä¸ªå…¶ä»– &lt;strong&gt;å±•ç¤ºå¯¹è±¡&lt;/strong&gt; ä»¥æ»¡è¶³ä¸åŒçš„éœ€æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ ç»†å¿ƒçš„è§‚å¯Ÿä¸€ä¸‹ bg-far.png å’Œ bg-mid.png çš„è¯ï¼Œä½ åº”è¯¥æ³¨æ„åˆ°è¿™ä¸¤ä¸ªå›¾åƒéƒ½è®¾è®¡æˆå¯ä»¥æ°´å¹³å¹³é“ºçš„ï¼ˆè¯‘ï¼šå¹³é“ºå°±å¥½æ¯”ç“¦ç‰‡ï¼‰ã€‚æ£€æŸ¥æ¯ä¸ªå›¾åƒçš„å·¦å³è¾¹ç¼˜ã€‚ä½ å¯ä»¥å‘ç°ï¼Œæœ€å³è¾¹çš„è¾¹ç¼˜å®Œç¾åœ°åŒ¹é…è¿æ¥åˆ°æœ€å·¦è¾¹çš„è¾¹ç¼˜ã€‚æ¢å¥è¯è¯´ï¼Œä¸¤ä¸ªå›¾åƒéƒ½è¢«è®¾è®¡æˆæ— ç¼å¾ªç¯çš„ã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤ï¼Œå¦‚æœæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ç®€å•åœ°ç§»åŠ¨æ¯ä¸ªç²¾çµçš„çº¹ç†ä»¥ç»™å‡ºä»–ä»¬æ­£åœ¨ç§»åŠ¨çš„é”™è§‰ï¼Œè€Œä¸æ˜¯ç‰©ç†åœ°ç§»åŠ¨æˆ‘ä»¬çš„è¿œæ™¯å±‚å’Œä¸­é—´å±‚ç²¾çµçš„ä½ç½®ï¼Œè¿™ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿå€¼å¾—åº†å¹¸çš„æ˜¯ pixi.js æä¾›äº† PIXI.extras.TilingSprite ç±»ï¼Œå®ƒå°±æ˜¯ç”¨æ¥åšè¿™ä¸ªçš„ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å¯¹ä»£ç è¿›è¡Œä¸€äº›è°ƒæ•´ï¼Œæ¥ä½¿ç”¨ç“¦ç‰‡ç²¾çµã€‚æˆ‘ä»¬é¦–å…ˆå…³æ³¨è¿œæ™¯å±‚ã€‚ç»§ç»­ä»å»ºç«‹å‡½æ•°ä¸­åˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);
far = new PIXI.Sprite(farTexture); // åˆ é™¤å®ƒ
far.position.x = 0;
far.position.y = 0;
stage.addChild(far);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›¿æ¢æˆè¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far = new PIXI.extras.TilingSprite(farTexture, 512, 256);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åè®¾ç½®ä»–ä»¬çš„ä½ç½®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far.tilePosition.x = 0;
far.tilePosition.y = 0;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ç»§ç»­ä¹‹å‰ï¼Œè®©æˆ‘ä»¬è®¨è®º TilingSprite ç±»çš„æ„é€ å‡½æ•°åŠå®ƒçš„ tilePosition å±æ€§ã€‚&lt;/p&gt;

&lt;p&gt;å’Œ Sprite ç±»çš„å•ä¸ªå‚æ•°æ¯”è¾ƒï¼Œæ‚¨ä¼šæ³¨æ„åˆ° TilingSprite ç±»çš„æ„é€ å‡½æ•°éœ€è¦ 3 ä¸ªå‚æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far = new PIXI.extras.TilingSprite(farTexture, 512, 256);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ä¹‹å‰ç›¸åŒï¼šçº¹ç†çš„å¼•ç”¨ã€‚ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤ºç“¦ç‰‡ç²¾çµçš„å®½åº¦å’Œé«˜åº¦ã€‚é€šå¸¸ï¼Œå°†è¿™ä¸¤ä¸ªå‚æ•°è®¾ç½®ä¸º &lt;strong&gt;çº¹ç†&lt;/strong&gt; çš„å®½åº¦å’Œé«˜åº¦ï¼Œæ¯”å¦‚Â &lt;code&gt;bg-far.png&lt;/code&gt; ä¸º 512 x 256 åƒç´ ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬åˆä¸€æ¬¡çš„ç¡¬ç¼–ç çš„ä¼ å…¥äº†ä¸¤ä¸ªå®½é«˜å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•æ”¹å–„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far = new PIXI.extras.TilingSprite(
  farTexture,
  farTexture.baseTexture.width,
  farTexture.baseTexture.height
);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬è¿˜åˆ©ç”¨äº†å¹³é“ºç²¾çµçš„ tilePosition å±æ€§ï¼Œè¯¥å±æ€§ç”¨äºåç§»ç²¾çµçº¹ç†çš„ä½ç½®ã€‚æ¢å¥è¯è¯´ï¼Œé€šè¿‡è°ƒæ•´åç§»é‡ï¼Œå°±å¯ä»¥æ°´å¹³æˆ–å‚ç›´åœ°ç§»åŠ¨çº¹ç†ï¼Œå¹¶ä½¿çº¹ç†ç¯ç»•ã€‚æœ¬è´¨ä¸Šï¼Œä½ å¯ä»¥æ¨¡æ‹Ÿæ»šåŠ¨è€Œæ— éœ€å®é™…æ›´æ”¹ç²¾çµçš„ä½ç½®ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å°†ç²¾çµçš„ tilePosition å±æ€§é»˜è®¤è®¾ç½®ä¸ºï¼ˆ0,0ï¼‰ï¼Œè¿™æ„å‘³ç€è¿œæ™¯å±‚çš„å¤–è§‚åœ¨åˆå§‹åŒ–çš„çŠ¶æ€ä¸‹æ²¡æœ‰å˜åŒ–ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;far.tilePosition.x = 0;
far.tilePosition.y = 0;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å‰©ä¸‹è¦åšçš„å°±æ˜¯é€šè¿‡ä¸æ–­æ›´æ–°ç²¾çµçš„ tilePosition å±æ€§çš„æ°´å¹³åç§»æ¥æ¨¡æ‹Ÿæ»šåŠ¨ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å¯¹ &lt;code&gt;update()&lt;/code&gt; å‡½æ•°è¿›è¡Œæ›´æ”¹ã€‚é¦–å…ˆåˆ é™¤ä»¥ä¸‹è¡Œï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.position.x -= 0.128; // åˆ é™¤å®ƒ
  mid.position.x -= 0.64;

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›¿æ¢æˆä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.tilePosition.x -= 0.128;
  mid.position.x -= 0.64;

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨ä¿å­˜ index.html å¹¶å†æ¬¡åˆ·æ–°æµè§ˆå™¨ã€‚ä½ å°†çœ‹åˆ°è¿œæ™¯å±‚æ— ç¼æ»šåŠ¨å¹¶ä¸€ç›´é‡å¤ç€ï¼Œè¿™å’Œæˆ‘ä»¬çš„é¢„æœŸç»“æœçš„ä¸€æ ·ã€‚&lt;/p&gt;

&lt;p&gt;å¥½çš„ï¼Œè®©æˆ‘ä»¬ç»§ç»­ä¸ºä¸­é—´å±‚åšå‡ºç›¸åŒçš„ä¿®æ”¹ã€‚ä»¥ä¸‹æ˜¯è¿›è¡Œæ›´æ”¹å &lt;code&gt;init()&lt;/code&gt; å‡½æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function init() {
  stage = new PIXI.Container();
  renderer = PIXI.autoDetectRenderer(
    512,
    384,
    {view:document.getElementById(&amp;quot;game-canvas&amp;quot;)}
  );

  var farTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-far.png&amp;quot;);	
  far = new PIXI.extras.TilingSprite(farTexture, 512, 256);
  far.position.x = 0;
  far.position.y = 0;
  far.tilePosition.x = 0;
  far.tilePosition.y = 0;
  stage.addChild(far);

  var midTexture = PIXI.Texture.fromImage(&amp;quot;resources/bg-mid.png&amp;quot;);
  mid = new PIXI.extras.TilingSprite(midTexture, 512, 256);
  mid.position.x = 0;
  mid.position.y = 128;
  mid.tilePosition.x = 0;
  mid.tilePosition.y = 0;
  stage.addChild(mid);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨ç»§ç»­å¯¹ &lt;code&gt;update()&lt;/code&gt; å‡½æ•°è¿›è¡Œä»¥ä¸‹é‡æ„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function update() {
  far.tilePosition.x -= 0.128;
  mid.tilePosition.x -= 0.64;

  renderer.render(stage);

  requestAnimationFrame(update);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜å¹¶æµ‹è¯•ä½ çš„ä»£ç ã€‚è¿™æ¬¡ä½ åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªå›¾å±‚å®Œå…¨åœ°æ»šåŠ¨ï¼ŒåŒæ—¶ç¯ç»•å±å¹•çš„å·¦å³è¾¹ç•Œã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬å·²ç»ä»‹ç»äº†pixi.js çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œå¹¶äº†è§£äº† &lt;code&gt;PIXI.extras.TilingSprite&lt;/code&gt; å¦‚ä½•ç”¨äºåˆ›å»ºæ— é™æ»šåŠ¨å›¾å±‚çš„ã€‚æˆ‘ä»¬è¿˜çœ‹åˆ°äº†å¦‚ä½•ä½¿ç”¨ &lt;code&gt;addChild()&lt;/code&gt; å°†ç“¦ç‰‡ç²¾çµå †å åœ¨ä¸€èµ·ä»¥äº§ç”ŸçœŸå®çš„è§†å·®æ»šåŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å»ºè®®ä½ ç»§ç»­å°è¯•ä½¿ç”¨ Pixi å¹¶æŸ¥çœ‹å®ƒçš„æ–‡æ¡£å’Œä»£ç ç¤ºä¾‹ã€‚ä¸¤è€…éƒ½å¯ä»¥åœ¨ PixiJS &lt;a href=&#34;http://www.pixijs.com/&#34;&gt;å®˜æ–¹ç½‘ç«™&lt;/a&gt;Â ä¸Šæ‰¾åˆ°ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¸‹é›†é¢„å‘Š&#34;&gt;ä¸‹é›†é¢„å‘Šâ€¦&lt;/h2&gt;

&lt;p&gt;è™½ç„¶æˆ‘ä»¬æœ‰ä¸€ä¸ªæ°´å¹³è§†å·®æ»šåŠ¨å™¨å¹¶ä¸”èƒ½è¿è¡Œèµ·æ¥ï¼Œä½†å®ƒä»ç„¶æœ‰ç‚¹ç®€å•ã€‚ä¸‹æ¬¡æˆ‘ä»¬å°†ä»‹ç» &lt;strong&gt;è§†å£&lt;/strong&gt; å’Œ &lt;strong&gt;ä¸–ç•Œ&lt;/strong&gt;Â ä½ç½®çš„æ¦‚å¿µï¼Œå¦‚æœä½ æƒ³æœ€ç»ˆå°†ä½ çš„å·è½´æ·»åŠ åˆ°æ¸¸æˆä¸­ï¼Œè¿™ä¸¤ä¸ªéƒ½å¾ˆé‡è¦ã€‚å®ƒè¿˜å°†ä½¿æˆ‘ä»¬å¤„äºæ·»åŠ å‰æ™¯å±‚çš„è‰¯å¥½ä½ç½®ï¼Œè¿™å°†ä»£è¡¨ä¸€ä¸ªç®€å•çš„å¹³å°æ¸¸æˆåœ°å›¾ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å°†èŠ±å¾ˆå¤šæ—¶é—´æ¥é‡æ„ç°æœ‰çš„ä»£ç åº“ã€‚æˆ‘ä»¬å°†é‡‡ç”¨æ›´åŠ é¢å‘å¯¹è±¡çš„æ¶æ„ï¼Œæ‘†è„±ç›®å‰å¯¹å…¨å±€å˜é‡çš„ä¾èµ–ã€‚åœ¨ä¸‹ä¸€ä¸ªæ•™ç¨‹ç»“æŸæ—¶ï¼Œæ‰€æœ‰æ»šåŠ¨åŠŸèƒ½éƒ½å°†æ•´é½åœ°åŒ…å«åœ¨ä¸€ä¸ªç±»ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å¸Œæœ›è¿™ä¸ªæ•™ç¨‹èƒ½å¸®åŠ©åˆ°ä½ ï¼Œä¹Ÿå¸Œæœ›ä¸‹æ¬¡èƒ½åœ¨Â &lt;strong&gt;ç¬¬äºŒéƒ¨åˆ†&lt;/strong&gt; ä¸­è§åˆ°ä½ ã€‚&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>