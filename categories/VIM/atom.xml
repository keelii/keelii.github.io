<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Vim on Something</title>
    <link>https://keelii.com/categories/vim/</link>
    <description>Recent content in Vim on Something</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Sun, 26 Aug 2018 17:59:45 +0800</lastBuildDate>
    
        <atom:link href="https://keelii.com/categories/vim/atom.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>VIM ä»£ç ç‰‡æ®µæ’ä»¶ ultisnips ä½¿ç”¨æ•™ç¨‹</title>
      <link>https://keelii.com/2018/08/26/vim-plugin-ultisnips-advanced-tips/</link>
      <pubDate>Sun, 26 Aug 2018 17:59:45 +0800</pubDate>
      
      <guid>https://keelii.com/2018/08/26/vim-plugin-ultisnips-advanced-tips/</guid>
      <description>

&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/SirVer/ultisnips&#34;&gt;Ultisnips&lt;/a&gt; æ’ä»¶å®‰è£…åˆ†ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯ ultisnips æ’ä»¶æœ¬èº«ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ä»£ç ç‰‡æ®µä»“åº“ã€‚ä¸€èˆ¬æ¥è¯´æŠŠé»˜è®¤çš„ä»£ç ç‰‡æ®µä»“åº“ä¸‹è½½ä¸‹æ¥æŒ‰éœ€ä¿®æ”¹åä¸Šä¼ åˆ°è‡ªå·±çš„ github å³å¯ã€‚å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ä¹Ÿä½¿ç”¨ vim-plug æ¥ç®¡ç†æ’ä»¶çš„è¯ï¼Œæ·»åŠ ä¸‹é¢çš„ä»£ç åˆ°ä½ çš„ vimrc ä¸­ä¿å­˜åˆ·æ–°å³å¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;Plug &#39;SirVer/ultisnips&#39;
# ä½ è‡ªå·±çš„ä»£ç ä»“åº“ git åœ°å€
Plug &#39;keelii/vim-snippets&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ç¤ºä¾‹ä¸­æ‰€æœ‰çš„ä»£ç ç‰‡æ®µéƒ½å­˜æ”¾åœ¨æ’ä»¶å®‰è£…ç›®å½•ä¸‹é¢çš„ &lt;code&gt;vim-snippets/UltiSnips&lt;/code&gt; ä¸­ï¼Œæ–‡ä»¶å‘½åæ ¼å¼ä¸º &lt;code&gt;ft&lt;/code&gt;.snippets, &lt;code&gt;ft&lt;/code&gt; å°±æ˜¯ vim ä¸­çš„ &lt;code&gt;filetype&lt;/code&gt;ï¼Œå…¶ä¸­æœ‰ä¸ª &lt;code&gt;all.snippets&lt;/code&gt; æ˜¯å”¯ä¸€ä¸€ä¸ªæ‰€æœ‰æ–‡ä»¶éƒ½é€‚ç”¨çš„ä»£ç ç‰‡æ®µ&lt;/p&gt;

&lt;h2 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h2&gt;

&lt;p&gt;å¿«æ·é”®è®¾ç½®ï¼Œæˆ‘ä¸€èˆ¬ä½¿ç”¨ tab æ¥è§¦å‘ä»£ç ç‰‡æ®µè¡¥å…¨ï¼Œ&lt;strong&gt;ä¸”ä¸ä½¿ç”¨ YCM&lt;/strong&gt; ï¼ˆå®˜æ–¹æ–‡æ¡£è¡¨ç¤ºä½¿ç”¨YCMçš„è¯å°±ä¸èƒ½ä½¿ç”¨tabè¡¥å…¨ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;let g:UltiSnipsExpandTrigger=&amp;quot;&amp;lt;tab&amp;gt;&amp;quot;
&amp;quot; ä½¿ç”¨ tab åˆ‡æ¢ä¸‹ä¸€ä¸ªè§¦å‘ç‚¹ï¼Œshit+tab ä¸Šä¸€ä¸ªè§¦å‘ç‚¹
let g:UltiSnipsJumpForwardTrigger=&amp;quot;&amp;lt;tab&amp;gt;&amp;quot;
let g:UltiSnipsJumpBackwardTrigger=&amp;quot;&amp;lt;S-tab&amp;gt;&amp;quot;
&amp;quot; ä½¿ç”¨ UltiSnipsEdit å‘½ä»¤æ—¶å‚ç›´åˆ†å‰²å±å¹•
let g:UltiSnipsEditSplit=&amp;quot;vertical&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ä¾èµ–&#34;&gt;ä¾èµ–&lt;/h2&gt;

&lt;p&gt;ultisnips æ’ä»¶éœ€è¦ä½ çš„ vim æ”¯æŒ pythonï¼Œå¯ä»¥åœ¨ vim å‘½ä»¤æ¨¡å¼ä¸‹ä½¿ç”¨ä¸‹é¢çš„æ£€æµ‹ä½ çš„ vim ç‰ˆæœ¬æ˜¯å¦æ”¯æŒ python&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# 1 è¡¨ç¤ºæ”¯æŒ
:echo has(&amp;quot;python&amp;quot;)
:echo has(&amp;quot;python3&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å®šä¹‰ä¸€ä¸ªä»£ç ç‰‡æ®µ&#34;&gt;å®šä¹‰ä¸€ä¸ªä»£ç ç‰‡æ®µ&lt;/h2&gt;

&lt;h3 id=&#34;å®šä¹‰æ ¼å¼&#34;&gt;å®šä¹‰æ ¼å¼&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;snippet è§¦å‘å­—ç¬¦ [&amp;quot;ä»£ç ç‰‡æ®µè¯´æ˜&amp;quot; [å‚æ•°]]
ä»£ç ç‰‡æ®µå†…å®¹
endsnippet
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;æœ€å°åŒ–çš„ä¸€ä¸ªä»£ç ç‰‡æ®µ&#34;&gt;æœ€å°åŒ–çš„ä¸€ä¸ªä»£ç ç‰‡æ®µ&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;snippet if &amp;quot;if (condition) { ... }&amp;quot;
if (${1:true}) {
    $0
}
endsnippet
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ—¶å½“ä½ åœ¨ vim ä¸­è¾“å…¥ if æ•² tab å°±ä¼šå±•å¼€ä¸€æ¡ if è¯­å¥ï¼Œç¬¬ä¸€ä¸ªè§¦å‘ç‚¹æ˜¯ if æ¡ä»¶è¡¨è¾¾å¼ï¼Œæœ€åä¸€ä¸ªæ˜¯ if è¯­å¥ä½“&lt;/p&gt;

&lt;p&gt;&lt;code&gt;${1:true}&lt;/code&gt; è¡¨ç¤ºè¿™æ˜¯ç¬¬ä¸€ä¸ªè§¦å‘ç‚¹ï¼Œå ä½ç¬¦ä¸º &lt;code&gt;true&lt;/code&gt;ï¼Œå¦‚æœå ä½ç¬¦æ²¡æœ‰é»˜è®¤å€¼å¯ç›´æ¥ä½¿ç”¨ &lt;code&gt;$1&lt;/code&gt;, &lt;code&gt;$2&lt;/code&gt;, &lt;code&gt;$3&lt;/code&gt;&amp;hellip;&lt;/p&gt;

&lt;h2 id=&#34;å¯è§†é€‰æ‹©åŒºçš„å†…å®¹ä¸ºå ä½ç¬¦&#34;&gt;å¯è§†é€‰æ‹©åŒºçš„å†…å®¹ä¸ºå ä½ç¬¦&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;snippet if &amp;quot;if (...)&amp;quot;
if (${1:true}) {
    ${VISUAL}
}
endsnippet
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;${VISUAL}&lt;/code&gt; è¡¨ç¤ºåœ¨ vim ä¸­ä½¿ç”¨å¯è§†æ¨¡å¼ä¸‹é€‰æ‹©çš„æ–‡æœ¬ï¼Œè¿™ä¸ªåœ¨é‡æ„ä»£ç çš„æ—¶å€™&lt;strong&gt;éå¸¸æœ‰ç”¨&lt;/strong&gt;ï¼ˆåé¢ä¼šæœ‰é«˜çº§ç”¨æ³•ï¼‰ï¼Œä¸Šä¸ªå›¾æ„Ÿå—ä¸€ä¸‹&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;//img10.360buyimg.com/devfe/jfs/t25252/299/1019207883/36468/bca93de/5b84a8a9N8dd5a8c5.gif&#34; alt=&#34;if-with-visual-mode&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;ä»£ç ç‰‡æ®µçš„å‚æ•°&#34;&gt;ä»£ç ç‰‡æ®µçš„å‚æ•°&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;b&lt;/code&gt; è¡¨ç¤ºè§¦å‘å­—ç¬¦åº”è¯¥åœ¨ä¸€è¡Œçš„å¼€å§‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;i&lt;/code&gt; è¡¨ç¤ºè§¦å‘å­—ç¬¦å¯ä»¥åœ¨å•è¯å†…ï¼ˆè¿ç»­å±•ç¤ºä¼šä½¿ç”¨è¿™ä¸ªé€‰é¡¹ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;w&lt;/code&gt; è¡¨ç¤ºè§¦å‘å­—ç¬¦çš„å‰åå¿…é¡»æ˜¯ä¸€ä¸ªå­—æ¯åˆ†ç•Œç‚¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;r&lt;/code&gt; è¡¨ç¤ºè§¦å‘å­—ç¬¦å¯ä»¥æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;t&lt;/code&gt; è¡¨ç¤ºå±•å¼€çš„ä»£ç ç‰‡æ®µä¸­å¦‚æœæœ‰åˆ¶è¡¨ç¬¦ï¼ŒåŸæ ·è¾“å‡ºï¼Œå³ä½¿ä½ çš„ vimrc é‡Œé¢è®¾ç½®äº† expandtab&lt;/li&gt;
&lt;li&gt;&lt;code&gt;m&lt;/code&gt; è¡¨ç¤ºåˆ é™¤ä»£ç ç‰‡æ®µå³è¾¹çš„æ‰€æœ‰ç©ºç™½å­—ç¬¦&lt;/li&gt;
&lt;li&gt;&lt;code&gt;e&lt;/code&gt; è¡¨ç¤ºè‡ªå®šä¹‰ä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;A&lt;/code&gt; è¡¨ç¤ºè‡ªåŠ¨è§¦å‘ï¼Œä¸éœ€è¦æŒ‰ tabï¼Œç±»ä¼¼äº VIM ä¸­çš„ abbr&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;å†…å®¹è§£é‡Šå™¨&#34;&gt;å†…å®¹è§£é‡Šå™¨&lt;/h2&gt;

&lt;p&gt;Ultisnips å®šä¹‰çš„ä»£ç ç‰‡æ®µä¸­æ”¯æŒä¸‰ç§ä¸åŒçš„è¯­è¨€æ³¨å…¥ï¼šshell, vimscript, pythonï¼Œåœ¨ä»£ç ç‰‡æ®µä¸­ç”¨åå¼•å·è¡¨ç¤º&lt;/p&gt;

&lt;h2 id=&#34;shell-ä»£ç &#34;&gt;shell ä»£ç &lt;/h2&gt;

&lt;p&gt;å°±æ˜¯åœ¨ä½ çš„å‘½ä»¤è¡Œ shell èƒ½æ‰§è¡Œçš„ä»£ç ç‰‡æ®µï¼Œæ¯”å¦‚è¾“å‡ºå½“å‰æ—¶é—´&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;âœ date
2018å¹´ 8æœˆ27æ—¥ æ˜ŸæœŸä¸€ 18æ—¶19åˆ†38ç§’ CST
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ä»£ç ç‰‡æ®µä¸­ç”¨åå¼•å·ã€Œ`ã€å¼•ç”¨å³å¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;snippet today
Today is the `date`.
endsnippet
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¾“å…¥ today æŒ‰ tab å±•å¼€åï¼ˆæ ¼å¼å’Œä¸Šé¢shellä¸­çš„ä¸ä¸€æ ·ï¼Œä¼°è®¡æ˜¯å› ä¸º vim è¯­è¨€è®¾ç½®çš„é—®é¢˜ï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Today is the Mon Aug 27 18:24:51 CST 2018.
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;vimscript-ä»£ç &#34;&gt;vimscript ä»£ç &lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨ &lt;code&gt;indent&lt;/code&gt; æ¥è¾“å‡ºå½“å‰ç¼©è¿›å€¼ï¼Œä½¿ç”¨å‰ç¼€ &lt;code&gt;!v&lt;/code&gt; è¡¨ç¤ºæ˜¯ vimscript&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;snippet indent
Indent is: `!v indent(&amp;quot;.&amp;quot;)`.
endsnippet
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;//img12.360buyimg.com/devfe/jfs/t23467/4/2565317844/22166/a39566b/5b84a97fNa6174311.gif&#34; alt=&#34;vimscript-indent-size&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;python-ä»£ç &#34;&gt;python ä»£ç &lt;/h3&gt;

&lt;p&gt;åœ¨ä»£ç ç‰‡æ®µä¸­è§£é‡Šæ‰§è¡Œ python ä»£ç æ˜¯ ultisnips æœ€å¼ºå¤§çš„åŠŸèƒ½ï¼Œä»¥å‰ç¼€ &lt;code&gt;!p&lt;/code&gt; å¼€å§‹ã€‚ç³»ç»Ÿä¼šå‘ python ä¸­æ³¨å…¥ä¸€äº›å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ python ä»£ç ç›´æ¥å¯¹å…¶è¿›è¡Œæ“ä½œ&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;fn&lt;/code&gt; - è¡¨ç¤ºå½“å‰æ–‡ä»¶å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; -  å½“å‰æ–‡ä»¶åçš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;&lt;code&gt;t&lt;/code&gt; - å ä½ç¬¦çš„å­—å…¸ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;t[1], t[2], t.v&lt;/code&gt; æ¥å–å ä½ç¬¦å†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;snip&lt;/code&gt; - &lt;a href=&#34;https://github.com/SirVer/ultisnips/blob/6fdc3647f72e0a1f321ea6bd092ecd01f7c187ba/pythonx/UltiSnips/text_objects/_python_code.py#L56&#34;&gt;UltiSnips.TextObjects.SnippetUtil&lt;/a&gt; å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;match&lt;/code&gt; - æ­£åˆ™ä»£ç ç‰‡æ®µæ—¶è¿”å›çš„åŒ¹é…å…ƒç´ ï¼ˆéå¸¸å¼ºå¤§ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…¶ä¸­æœ€å¸¸ç”¨çš„ &lt;code&gt;snip&lt;/code&gt; å¯¹è±¡æä¾›äº†ä¸‹é¢ä¸€äº›å˜é‡ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;snip.rv&lt;/code&gt; è¡¨ç¤º return valueï¼Œpython ä»£ç æ‰§è¡Œåå¤„ç†è¿‡çš„å­—ç¬¦ä¸²èµ‹ç»™ rv å³å¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;snip.fn&lt;/code&gt; è¡¨ç¤ºå½“å‰æ–‡ä»¶å&lt;/li&gt;
&lt;li&gt;&lt;code&gt;snip.ft&lt;/code&gt; è¡¨ç¤ºå½“å‰æ–‡ä»¶ç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;snip.v&lt;/code&gt; è¡¨ç¤º VISUAL æ¨¡å¼å˜é‡ï¼Œå…¶ä¸­ &lt;code&gt;snip.v.mode&lt;/code&gt; è¡¨ç¤ºæ¨¡å¼ç±»å‹ï¼Œ&lt;code&gt;snip.v.text&lt;/code&gt; è¡¨ç¤º VISUAL æ¨¡å¼ä¸­é€‰æ‹©çš„å­—ç¬¦&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;//img11.360buyimg.com/devfe/jfs/t27739/311/103185395/173892/d6a786e3/5b84af90Nfa6cd193.gif&#34; alt=&#34;python-snippet-var&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;å ä½ç¬¦é€‰æ‹©&#34;&gt;å ä½ç¬¦é€‰æ‹©&lt;/h2&gt;

&lt;p&gt;UltiSnips æ”¯æŒä½¿ç”¨å¿«æ·é”®åˆ‡æ¢å ä½ç¬¦ï¼Œæˆ‘ä½¿ç”¨ &lt;code&gt;&amp;lt;tab&amp;gt;&lt;/code&gt; å’Œ &lt;code&gt;&amp;lt;shift-tab&amp;gt;&lt;/code&gt; æ¥åˆ‡æ¢ &lt;code&gt;ä¸‹ä¸€ä¸ª&lt;/code&gt; å’Œ &lt;code&gt;ä¸Šä¸€ä¸ª&lt;/code&gt; å ä½ç¬¦ï¼Œå ä½ç¬¦åˆ‡æ¢çš„ä½œç”¨åŸŸä¸ºå½“å‰ä»£ç ç‰‡æ®µå†…éƒ¨ï¼ˆå³ä½¿å ä½ç¬¦å·²è¢«ä¿®æ”¹è¿‡ï¼‰ï¼Œå½“å…‰æ ‡ç§»åŠ¨å‡ºå»ä»¥åå°±ä¸èµ·ä½œç”¨äº†&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;//img12.360buyimg.com/devfe/jfs/t24559/158/2571218888/171431/2459a91d/5b84bf9aN96a7ee7e.gif&#34; alt=&#34;mul-placeholder-editing&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;è‡ªå®šä¹‰ä¸Šä¸‹æ–‡&#34;&gt;è‡ªå®šä¹‰ä¸Šä¸‹æ–‡&lt;/h2&gt;

&lt;p&gt;è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å¯ä»¥é€šè¿‡æ­£åˆ™åŒ¹é…æ¥å†³å®šä»£ç ç‰‡æ–­æ˜¯å¦å¯ç”¨ï¼Œæ¯”å¦‚åˆ¤æ–­åœ¨æŒ‡å®šçš„ if è¯­å¥é‡Œé¢æ‰èµ·ä½œç”¨çš„ä»£ç ç‰‡æ–­ï¼Œå®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;snippet è§¦å‘å­—ç¬¦ &amp;ldquo;æè¿°&amp;rdquo; &amp;ldquo;è¡¨è¾¾å¼&amp;rdquo; å‚æ•°&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª &lt;strong&gt;åªæœ‰&lt;/strong&gt; åœ¨ä¸Šä¸€è¡Œä»¥ &lt;code&gt;if (DEVELOPMENT) {&lt;/code&gt; å¼€å¤´æ‰å¯ä»¥å±•å¼€çš„ä»£ç ç‰‡æ®µ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;snippet dbg &amp;quot;if (DEVELOPMENT) dbg&amp;quot; &amp;quot;re.match(&#39;^if \(DEVELOPMENT\) \{&#39;, snip.buffer[snip.line-1])&amp;quot; be
debugger;
endsnippet
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å¸¸è§ç”¨æ³•&#34;&gt;å¸¸è§ç”¨æ³•&lt;/h2&gt;

&lt;h3 id=&#34;è¡Œå†…è¿ç»­å±•å¼€&#34;&gt;è¡Œå†…è¿ç»­å±•å¼€&lt;/h3&gt;

&lt;p&gt;è¿™ä¸ªå¸¸è§äºéœ€è¦è¿ç»­å±•å¼€ä»£ç ç‰‡æ®µçš„æƒ…å†µï¼Œæ¯”å¦‚ï¼Œæœ‰ä¸¤ä¸ªç‰‡æ®µï¼Œä¸€ä¸ªæ‰“å°å˜é‡ï¼Œä¸€ä¸ªå¤„ç† JSON åºåˆ—åŒ–ã€‚è¿™æ—¶éœ€è¦ä½¿ç”¨å‚æ•°é€‰é¡¹ &lt;code&gt;i&lt;/code&gt;n-word&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;//img11.360buyimg.com/devfe/jfs/t25579/50/1036526670/419976/53521e3b/5b84c7d2Nd6a0cb5e.gif&#34; alt=&#34;continue-expand-snippets&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;ä½¿ç”¨æ­£åˆ™ä»£ç ç‰‡æ®µ&#34;&gt;ä½¿ç”¨æ­£åˆ™ä»£ç ç‰‡æ®µ&lt;/h3&gt;

&lt;p&gt;é€šå¸¸å†™ä»£ç çš„æ—¶å€™éœ€è¦ä½¿ç”¨ log, print ç­‰æ¥æ‰“å°ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ã€‚ä½¿ç”¨æ™®é€šç‰‡æ®µæŒ‰ cl å±•ç¤º console.log() ç„¶åæŠŠå˜é‡å­—ç¬¦å¤åˆ¶è¿›æ‹¬å·ï¼Œè¿™æ ·æ“ä½œä¼šæ¯”è¾ƒå¤æ‚ã€‚ä½¿ç”¨æ­£åˆ™æ¥åŠ¨æ€åŒ¹é…å‰é¢çš„å­—ç¬¦å¯ä»¥å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;# å±•å¼€ console.log
snippet &amp;quot;([^\s]\w+)\.log&amp;quot; &amp;quot;console.log(postfix)&amp;quot; r
console.log(`!p snip.rv = match.group(1)`)$0
endsnippet
# å½“å‰è¡Œè½¬æ¢æˆå¤§å†™
snippet &amp;quot;([^\s].*)\.upper&amp;quot; &amp;quot;Uppercase(postfix)&amp;quot; r
`!p snip.rv = match.group(1).upper()`$0
endsnippet
# ä¸Šä¸€ä¸ªå•è¯è½¬æ¢æˆå°å†™
snippet &amp;quot;([^\s]\w+)\.lower&amp;quot; &amp;quot;Lowercase(postfix)&amp;quot; r
`!p snip.rv = match.group(1).lower()`$0
endsnippet
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŠ¨å›¾æ¼”ç¤º&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;//img30.360buyimg.com/devfe/jfs/t25492/223/971280921/61984/701b0ab1/5b84cc6aN6fe8ea04.gif&#34; alt=&#34;expand-regexp-snippets&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šæ­£åˆ™ä»£ç ç‰‡æ®µåªé€‚ç”¨äºå•è¡Œæ–‡æœ¬å¤„ç†ï¼Œå¦‚æœæ˜¯å¤šè¡Œè½¬æ¢è¿˜æ˜¯å¾—ç”¨åˆ°ä¸‹é¢çš„ python + VISUAL ä»£ç ç‰‡æ®µæ¥å¤„ç†&lt;/p&gt;

&lt;h3 id=&#34;ä½¿ç”¨-python-è§£é‡Šå™¨-visual-æ¨¡å¼å®ç°ä»£ç æ³¨é‡ŠåŠŸèƒ½&#34;&gt;ä½¿ç”¨ python è§£é‡Šå™¨ + VISUAL æ¨¡å¼å®ç°ä»£ç æ³¨é‡ŠåŠŸèƒ½&lt;/h3&gt;

&lt;p&gt;é€šå¸¸æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€å¤§å †æ’ä»¶æ¥å®ç°å„ç§ä»£ç çš„æ³¨é‡ŠåŠŸèƒ½ã€‚ä¸è¿‡ Ultisnips æä¾›äº† VISUAL æ¨¡å¼å¯ä»¥æå– vim å¯è§†æ¨¡å¼ä¸­é€‰æ‹©çš„å†…å®¹åˆ°ä»£ç ç‰‡æ®µé‡Œé¢ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥ç»“åˆèµ·æ¥åˆ¶ä½œä¸€ä¸ª&lt;strong&gt;å…·æœ‰æ³¨é‡ŠåŠŸèƒ½çš„ä»£ç ç‰‡æ®µ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;è¿›å…¥ vim å¯è§†æ¨¡å¼ï¼Œé€‰æ‹©è¦æ³¨é‡Šçš„å†…å®¹&lt;/li&gt;
&lt;li&gt;æŒ‰ tabï¼Œæ¸…é™¤é€‰æ‹©å†…å®¹&lt;/li&gt;
&lt;li&gt;è¾“å…¥ä»£ç ç‰‡æ®µè§¦å‘å­—ç¬¦ï¼ŒæŒ‰ tab å®Œæˆ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ç”±äºå®ç°çš„ python ä»£ç ç›¸å¯¹å¤æ‚ä¸€äº›ï¼Œä¸»è¦åˆ†æˆä¸¤ä¸ªæ–¹æ³•ã€‚å•è¡Œæ³¨é‡Šå’Œå¤šè¡Œæ³¨é‡Šï¼Œæ³¨æ„ Ultisnips ä¸­å¯ä»¥ç›´æ¥å†™ python ä½†æ˜¯å¤§æ®µçš„æ–¹æ³•å»ºè®®æ”¾åœ¨æ’ä»¶ç›®å½•ä¸‹é¢çš„ pythonx ç›®å½•ä¸‹é¢ï¼Œä½¿ç”¨çš„æ—¶å€™åœ¨å¯¹åº”çš„ä»£ç ç‰‡æ®µä¸­çš„å…¨å±€ python ä»£ç  &lt;code&gt;global !p&lt;/code&gt; å¼•å…¥å³å¯&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å•è¡Œæ³¨é‡Š&lt;/strong&gt;(pythonx/javascript_snippets.py)ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def comment(snip, START=&amp;quot;&amp;quot;, END=&amp;quot;&amp;quot;):
    lines = snip.v.text.split(&#39;\n&#39;)[:-1]
    first_line = lines[0]
    spaces = &#39;&#39;
    initial_indent = snip._initial_indent

    # Get the first non-empty line
    for idx, l in enumerate(lines):
        if l.strip() != &#39;&#39;:
            first_line = lines[idx]
            sp = re.findall(r&#39;^\s+&#39;, first_line)
            if len(sp):
                spaces = sp[0]
            break            

    # Uncomment
    if first_line.strip().startswith(START):
        result = [line.replace(START, &amp;quot;&amp;quot;, 1).replace(END, &amp;quot;&amp;quot;, 1) if line.strip() else line for line in lines]
    else:
        result = [f&#39;{spaces}{START}{line[len(spaces):]}{END}&#39; if line.strip() else line for line in lines ]

    # Remove initial indent
    if result[0] and initial_indent:
        result[0] = result[0].replace(initial_indent, &#39;&#39;, 1)

    if result:
        return &#39;\n&#39;.join(result)
    else:
        return &#39;&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;å¤šè¡Œæ³¨é‡Šï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def comment_inline(snip, START=&amp;quot;/* &amp;quot;, END=&amp;quot; */&amp;quot;):
    text = snip.v.text
    lines = text.split(&#39;\n&#39;)[:-1]
    first_line = lines[0]
    initial_indent = snip._initial_indent
    spaces = &#39;&#39;

    # Get the first non-empty line
    for idx, l in enumerate(lines):
        if l.strip() != &#39;&#39;:
            first_line = lines[idx]
            sp = re.findall(r&#39;^\s+&#39;, first_line)
            if len(sp):
                spaces = sp[0]
            break            

    if text.strip().startswith(START):
        result = text.replace(START, &#39;&#39;, 1).replace(END, &#39;&#39;, 1)
    else:
        result = text.replace(spaces, spaces + START, 1).rstrip(&#39;\n&#39;) + END + &#39;\n&#39;

    if initial_indent:
        result = result.replace(initial_indent, &#39;&#39;, 1)

    return result
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;ä»£ç ç‰‡æ®µå®šä¹‰ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;global !p
from javascript_snippets import (
	comment, comment_inline
)
endglobal

# ...

snippet c &amp;quot;Toggle comment every single line&amp;quot;
`!p
snip.rv = comment(snip, START=&#39;// &#39;, END=&#39;&#39;)
`$0
endsnippet

snippet ci &amp;quot;Toggle comment inline.&amp;quot;
`!p
snip.rv = comment_inline(snip, START=&amp;quot;/* &amp;quot;, END=&amp;quot; */&amp;quot;)
`$0
endsnippet
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŠ¨å›¾æ¼”ç¤º&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;//img30.360buyimg.com/devfe/jfs/t24175/330/2554434390/319822/5d8cf724/5b850d67N4c475946.gif&#34; alt=&#34;python-snippets-to-comment&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸åŒçš„è¯­è¨€å¯ä»¥åœ¨å¯¹åº”çš„ç‰‡æ®µæ–‡ä»¶ä¸­å®šä¹‰å¹¶ä¼ å…¥æ³¨é‡Šç¬¦å·å‚æ•°å³å¯ï¼Œæœ‰äº†è¿™ä¸ªåŠŸèƒ½å°±å¯ä»¥æ„‰å¿«çš„åˆ é™¤å…¶å®ƒçš„ vim æ³¨é‡Šæ’ä»¶äº† ğŸ˜€&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>