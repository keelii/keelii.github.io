<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Fzf on Something</title>
    <link>https://keelii.com/tags/fzf/</link>
    <description>Recent content in Fzf on Something</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Sun, 12 Aug 2018 19:20:04 -0700</lastBuildDate>
    
        <atom:link href="https://keelii.com/tags/fzf/atom.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Fuzzy finder(fzf&#43;vim) ä½¿ç”¨å…¨æŒ‡å—</title>
      <link>https://keelii.com/2018/08/12/fuzzy-finder-full-guide/</link>
      <pubDate>Sun, 12 Aug 2018 19:20:04 -0700</pubDate>
      
      <guid>https://keelii.com/2018/08/12/fuzzy-finder-full-guide/</guid>
      <description>

&lt;h2 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/junegunn/fzf&#34;&gt;Fuzzy finder&lt;/a&gt; æ˜¯ä¸€æ¬¾ä½¿ç”¨ GO è¯­è¨€ç¼–å†™çš„äº¤äº’å¼çš„ Unix å‘½ä»¤è¡Œå·¥å…·ã€‚å¯ä»¥ç”¨æ¥æŸ¥æ‰¾ä»»ä½• &lt;strong&gt;åˆ—è¡¨&lt;/strong&gt; å†…å®¹ï¼Œæ–‡ä»¶ã€Git åˆ†æ”¯ã€è¿›ç¨‹ç­‰ã€‚æ‰€æœ‰çš„å‘½ä»¤è¡Œå·¥å…·å¯ä»¥ç”Ÿæˆåˆ—è¡¨è¾“å‡ºçš„éƒ½å¯ä»¥å†é€šè¿‡ç®¡é“ pipe åˆ° fzf ä¸Šè¿›è¡Œæœç´¢å’ŒæŸ¥æ‰¾&lt;/p&gt;

&lt;h2 id=&#34;ä¼˜ç‚¹&#34;&gt;ä¼˜ç‚¹&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;GO è¯­è¨€ç¼–å†™ï¼Œç¼–è¯‘å®Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶æ²¡æœ‰ä»»ä½•ä¾èµ–&lt;/li&gt;
&lt;li&gt;æœç´¢/æŸ¥æ‰¾é€Ÿåº¦é£å¿«&lt;/li&gt;
&lt;li&gt;åŠŸèƒ½å…¨é¢/å¯è§†åŒ–ç•Œé¢ä½“éªŒå¾ˆæ£’&lt;/li&gt;
&lt;li&gt;å‘¨è¾¹æ’ä»¶ä¸°å¯Œ (vim, tmux, fuzzy auto-completion)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;

&lt;p&gt;ä»¥ macOS ä¸ºä¾‹å­ï¼Œç›´æ¥ä½¿ç”¨ homebrew å®‰è£…å³å¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;brew install fzf
# å¦‚æœè¦ä½¿ç”¨å†…ç½®çš„å¿«æ·é”®ç»‘å®šå’Œå‘½ä»¤è¡Œè‡ªåŠ¨å®ŒæˆåŠŸèƒ½çš„è¯å¯ä»¥æŒ‰éœ€å®‰è£…
$(brew --prefix)/opt/fzf/install
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ä½¿ç”¨&#34;&gt;ä½¿ç”¨&lt;/h2&gt;

&lt;p&gt;å‘½ä»¤è¡Œä¸‹æ‰§è¡Œ &lt;code&gt;fzf&lt;/code&gt; å³å¯å±•ç¤ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨ï¼Œå¯ä»¥ç”¨é”®ç›˜ä¸Šä¸‹é”®æˆ–è€…é¼ æ ‡ç‚¹å‡ºæ¥é€‰æ‹©
&lt;a href=&#34;https://img10.360buyimg.com/devfe/jfs/t26002/277/432949068/59208/9725245b/5b6fc71fN03036763.png&#34;&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t26002/277/432949068/59208/9725245b/5b6fc71fN03036763.png&#34; alt=&#34;fzf-normal&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ–è®¸ä½ ä¼šè§‰å¾—è¿™ä¸ªæŸ¥æ‰¾æç¤ºçœ‹èµ·æ¥æŒºæ¼‚äº®çš„ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œå› ä¸ºæŸ¥æ‰¾å‡ºæ¥å°±æ²¡æœ‰ç„¶åäº†ã€‚å…¶å®è¿™ä¹Ÿæ˜¯ Fuzzy finder æœ€æ ¸å¿ƒçš„åœ°æ–¹ï¼Œä»–åªæ˜¯ä¸€ä¸ªé€šç”¨çš„ä¸‹æ‹‰æŸ¥æ‰¾åŠŸèƒ½ï¼Œè‡ªå·±æœ¬èº«å¹¶ä¸å…³å¿ƒä½ ç”¨å®ƒæ¥åšä»€ä¹ˆï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦ç»„åˆä½¿ç”¨æ‰ä¼šæœ‰å¾ˆå¥½çš„æ•ˆæœ&lt;/p&gt;

&lt;h3 id=&#34;ç”¨-vim-æ‰“å¼€æ–‡ä»¶&#34;&gt;ç”¨ vim æ‰“å¼€æ–‡ä»¶&lt;/h3&gt;

&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬ç”¨ vim ç»„åˆ fzf æ¥æŸ¥æ‰¾å¹¶æ‰“å¼€ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;vim $(fzf)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://img30.360buyimg.com/devfe/jfs/t25372/5/461999989/83158/3ce44a5/5b6fc7f2Nd6432499.gif&#34; alt=&#34;fzf-vim&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;åˆ‡æ¢å½“å‰å·¥ä½œç›®å½•&#34;&gt;åˆ‡æ¢å½“å‰å·¥ä½œç›®å½•&lt;/h3&gt;

&lt;p&gt;å†æ¯”å¦‚è¿›å…¥åˆ°æŸä¸ªæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œä½¿ç”¨ fzf çš„è¿‡æ»¤é€‰æ‹©çœŸæ˜¯å¤ªæ–¹ä¾¿äº†&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd $(find * -type d | fzf)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ˜¯ä¸ªç»„åˆ (cd+find+fzf) å‘½ä»¤ï¼Œå®Œæˆåˆ‡æ¢åˆ°ä»»æ„å­ç›®å½•çš„åŠŸèƒ½ã€‚å¯ä»¥çœ‹å‡ºæ¥å½“ fzf å’Œå…¶å®ƒå‘½ä»¤ç»„åˆä½¿ç”¨æ—¶å°±èƒ½ä½¿å¾—ä¸€äº›æ“ä½œæ›´æ–¹ä¾¿ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ find å‘½ä»¤æ‰¾å‡ºæ‰€æœ‰çš„å­ç›®å½•&lt;/li&gt;
&lt;li&gt;æŠŠå­ç›®å½•åˆ—è¡¨ pipe åˆ° fzf ä¸Šè¿›è¡Œé€‰æ‹©&lt;/li&gt;
&lt;li&gt;å†æŠŠç»“æœä»¥å­å‘½ä»¤çš„å½¢å¼ä¼ ç»™ cd&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&#34;https://img13.360buyimg.com/devfe/jfs/t23848/96/1951894215/50884/20a513d7/5b6fcabbNb77c46d5.gif&#34; alt=&#34;fzf-find-cd&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;åˆ‡æ¢-git-åˆ†æ”¯&#34;&gt;åˆ‡æ¢ git åˆ†æ”¯&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git checkout $(git branch -r | fzf)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t23242/262/2000817850/127859/c0955478/5b6fce70N3c3573ae.gif&#34; alt=&#34;fzf-git-branch&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸è¿‡è¿™æ ·ç»„åˆä½¿ç”¨å‘½ä»¤çš„å®åœ¨å¤ªé•¿äº†ï¼Œå¦‚æœä½ ä¸ä½¿ç”¨è‡ªåŠ¨è¡¥å…¨çš„è¯å·§èµ·æ¥å¾ˆç´¯çš„ã€‚å»ºè®®æŠŠå¸¸ç”¨çš„ alias æ”¾åœ¨ .zshrc ä¸­ç®¡ç†å˜›&lt;/p&gt;

&lt;h3 id=&#34;shell-å‘½ä»¤è¡Œè¡¥å…¨&#34;&gt;shell å‘½ä»¤è¡Œè¡¥å…¨&lt;/h3&gt;

&lt;p&gt;fzf é»˜è®¤ä½¿ç”¨ &lt;code&gt;**&lt;/code&gt; æ¥è¡¥å…¨ shell å‘½ä»¤ï¼Œæ¯”èµ·é»˜è®¤çš„ tab è¡¥å…¨ï¼Œfzf è¡¥å…¨ä¸çŸ¥é“é«˜åˆ°å“ªé‡Œå»äº†ã€‚cd, vim, kill, ssh, export&amp;hellip; ç»Ÿç»Ÿéƒ½èƒ½è¡¥å…¨ï¼Œå¥½ç”¨å“­äº† ğŸ¤£&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t24820/280/435378103/490486/3777afba/5b6fedc6N59529380.gif&#34; alt=&#34;fzf-completion&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h2&gt;

&lt;p&gt;fzf æä¾›äº†ä¸¤ä¸ª &lt;em&gt;ç¯å¢ƒå˜é‡&lt;/em&gt; é…ç½®å‚æ•°ï¼Œæ¥åˆ†åˆ«è®¾ç½®é»˜è®¤çš„è°ƒç”¨å‘½ä»¤å’Œ fzf é»˜è®¤é…ç½®å‚æ•°&lt;/p&gt;

&lt;h3 id=&#34;æ ¸å¿ƒå‘½ä»¤-fzf-default-command&#34;&gt;æ ¸å¿ƒå‘½ä»¤ FZF_DEFAULT_COMMAND&lt;/h3&gt;

&lt;p&gt;å¯¹äºä½¿ç”¨ fzf æ¥æŸ¥æ‰¾æ–‡ä»¶çš„æƒ…å†µï¼Œfzf å…¶å®åº•å±‚æ˜¯è°ƒç”¨çš„ Unix ç³»ç»Ÿ &lt;code&gt;find&lt;/code&gt; å‘½ä»¤ï¼Œå¦‚æœä½ è§‰å¾— find ä¸å¥½ç”¨ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶å®ƒæŸ¥æ‰¾æ–‡ä»¶çš„å‘½ä»¤è¡Œå·¥å…·ã€Œæˆ‘ä½¿ç”¨ &lt;a href=&#34;https://github.com/sharkdp/fd&#34;&gt;fd&lt;/a&gt;ã€ã€‚æ³¨æ„ï¼šå¯¹åŸå§‹å‘½ä»¤æ·»åŠ ä¸€äº›å‚æ•°åº”è¯¥åœ¨è¿™ä¸ªç¯å¢ƒå˜é‡é‡Œé¢æ·»åŠ &lt;/p&gt;

&lt;p&gt;æ¯”å¦‚è¯´æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šæŸ¥æ‰¾æ–‡ä»¶ &lt;code&gt;-type f&lt;/code&gt;ï¼Œé€šå¸¸ä¼šå¿½ç•¥ä¸€äº›æ–‡ä»¶å¤¹/ç›®å½• &lt;code&gt;--exclude=...&lt;/code&gt;ï¼Œä¸‹é¢æ˜¯æˆ‘çš„å˜é‡å€¼ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;export FZF_DEFAULT_COMMAND=&amp;quot;fd --exclude={.git,.idea,.vscode,.sass-cache,node_modules,build} --type f&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ç•Œé¢å±•ç¤º-fzf-default-opts&#34;&gt;ç•Œé¢å±•ç¤º FZF_DEFAULT_OPTS&lt;/h3&gt;

&lt;p&gt;ç•Œé¢å±•ç¤ºè¿™äº›å‚æ•°åœ¨ &lt;code&gt;fzf --help&lt;/code&gt; ä¸­éƒ½æœ‰ï¼ŒæŒ‰éœ€é…ç½®å³å¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;export FZF_DEFAULT_OPTS=&amp;quot;--height 40% --layout=reverse --preview &#39;(highlight -O ansi {} || cat {}) 2&amp;gt; /dev/null | head -500&#39;&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç•Œé¢é…ç½®å‚æ•°åŠ ä¸Šåå°±æ¼‚äº®å¤šäº†
&lt;a href=&#34;https://img11.360buyimg.com/devfe/jfs/t24178/228/1983729650/93496/412c5c52/5b6fd697N0d686b66.png&#34;&gt;&lt;img src=&#34;https://img11.360buyimg.com/devfe/jfs/t24178/228/1983729650/93496/412c5c52/5b6fd697N0d686b66.png&#34; alt=&#34;fzf-with-preview&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;--preview&lt;/code&gt; è¡¨ç¤ºåœ¨å³ä¾§æ˜¾ç¤ºæ–‡ä»¶çš„é¢„è§ˆç•Œé¢ï¼Œè¯­æ³•é«˜äº®çš„è®¾ç½®ä½¿ç”¨äº† &lt;a href=&#34;http://www.andre-simon.de/doku/highlight/en/highlight.php&#34;&gt;highlight&lt;/a&gt; å¦‚æœ highlight å¤±è´¥åˆ™ä½¿ç”¨æœ€å¸¸è§çš„ &lt;code&gt;cat&lt;/code&gt; å‘½ä»¤æ¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹&lt;/p&gt;

&lt;p&gt;highlight å®‰è£…å¯èƒ½ä¼šæœ‰ä¸ªå°æ’æ›²ã€‚highlight éœ€è¦æ‰‹åŠ¨ç¼–è¯‘å®‰è£…ï¼Œé»˜è®¤å®‰è£…ç›®å½•åœ¨ &lt;code&gt;/usr/bin&lt;/code&gt;, &lt;code&gt;/usr/share&lt;/code&gt; ä¸‹é¢ã€‚ç„¶è€Œåœ¨ macOS ä¸­ç”±äº &lt;abbr title=&#34;System Integrity Protection&#34;&gt;SIP&lt;/abbr&gt; ä¿æŠ¤ï¼Œç”¨æˆ·å®‰è£…çš„ç¨‹åºä¸èƒ½åœ¨è¿™å‡ ä¸ªç›®å½•ä¸‹é¢ã€Œå³ä½¿æœ‰ sudo æƒé™ä¹Ÿä¸è¡Œã€ã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ›´æ”¹ä¸‹ highlight æºä»£ç ä¸­ makefile ä¸­çš„å‚æ•°å³å¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-make&#34;&gt;# PREFIX = /usr
PREFIX = /usr/local
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°† &lt;code&gt;PREFIX = /usr&lt;/code&gt; æ”¹æˆ &lt;code&gt;PREFIX = /usr/local&lt;/code&gt;ï¼Œç„¶å &lt;code&gt;make&lt;/code&gt;ï¼Œ&lt;code&gt;sudo make install&lt;/code&gt; å°±å¯ä»¥äº†&lt;/p&gt;

&lt;h3 id=&#34;è§¦å‘å‘½ä»¤è¡Œè¡¥å…¨-fzf-completion-trigger&#34;&gt;è§¦å‘å‘½ä»¤è¡Œè¡¥å…¨ FZF_COMPLETION_TRIGGER&lt;/h3&gt;

&lt;p&gt;é»˜è®¤æ˜¯ &lt;code&gt;**&lt;/code&gt;ï¼Œä¸€èˆ¬ä¸ç”¨ä¿®æ”¹&lt;/p&gt;

&lt;h2 id=&#34;vim-fzf-æ’ä»¶&#34;&gt;VIM fzf æ’ä»¶&lt;/h2&gt;

&lt;p&gt;å¦‚æœä½ ä½¿ç”¨ vimï¼Œé‚£ä¹ˆå®˜æ–¹æä¾›çš„æ’ä»¶ä¼šè®©ä½ çš„ vim ä½¿ç”¨æ›´åŠ æµç•…&lt;/p&gt;

&lt;h3 id=&#34;å®‰è£…æ’ä»¶&#34;&gt;å®‰è£…æ’ä»¶&lt;/h3&gt;

&lt;p&gt;å¦‚æœä½ æœ¬åœ°å®‰è£…è¿‡ fzf å‘½ä»¤è¡Œå·¥å…·äº†ï¼Œåªéœ€è¦åœ¨ .vimrc é‡Œé¢æ·»åŠ ä¸‹é¢ä¸¤ä¸ªæ’ä»¶é…ç½®å³å¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;Plug &#39;/usr/local/opt/fzf&#39;
Plug &#39;junegunn/fzf.vim&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨æ„ï¼šä½¿ç”¨äº† &lt;a href=&#34;https://github.com/junegunn/vim-plug&#34;&gt;vim-plug&lt;/a&gt; æ’ä»¶ç®¡ç†&lt;/p&gt;

&lt;p&gt;æ’ä»¶ä¸»è¦å¯¹ fzf é›†æˆç»‘å®šäº†ä¸€äº›å’Œ vim ç›¸å…³çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šæŸ¥æ‰¾å½“å‰ Bufferã€Tagã€Marksã€‚ç”šè‡³åˆ‡æ¢ window æ›´æ¢ vim ä¸»é¢˜é…è‰²ç­‰&lt;/p&gt;

&lt;p&gt;å‘½ä»¤æ¨¡å¼ä¸‹æ•² &lt;code&gt;Files&lt;/code&gt; å³å¯é€‰æ‹©å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œ&lt;code&gt;Buffers&lt;/code&gt; å¯ä»¥è¿‡æ»¤å½“å‰æ‰€æœ‰ vim buffer å†…å®¹&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://img10.360buyimg.com/devfe/jfs/t25240/349/434572567/558564/433c151a/5b6fdfadNfd6ea407.gif&#34; alt=&#34;fzf-vim-plugin&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å†é…ç½®å‡ ä¸ªå¸¸ç”¨å¿«æ·é”®å°±å¯ä»¥ç›´æ¥å–ä»£ CtrlP æ’ä»¶äº† ğŸ¤”&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ctrl + p æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;Ctrl + e æŸ¥çœ‹å½“å‰ Bufferï¼Œä¸¤æ¬¡ Ctrl + e å¿«é€Ÿåˆ‡æ¢ä¸Šæ¬¡æ‰“å¼€çš„ Buffer&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-vim&#34;&gt;nmap &amp;lt;C-p&amp;gt; :Files&amp;lt;CR&amp;gt;
nmap &amp;lt;C-e&amp;gt; :Buffers&amp;lt;CR&amp;gt;
let g:fzf_action = { &#39;ctrl-e&#39;: &#39;edit&#39; }
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ç»“è¯­&#34;&gt;ç»“è¯­&lt;/h2&gt;

&lt;p&gt;å½“ç„¶ fzf è¿˜å¯ä»¥åœ¨å¾ˆå¤šå…¶å®ƒåœºæ™¯ä¸‹ç”¨æ¥ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨å¯è§†åŒ–çš„åˆ—è¡¨é€‰æ‹©è€Œä¸æ˜¯å’£å’£æ•²å‘½ä»¤ï¼Œé‚£å°±è‡ªå·±æ­é…ä¸€äº›ç»„åˆæ¥ä½¿ç”¨å§&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>